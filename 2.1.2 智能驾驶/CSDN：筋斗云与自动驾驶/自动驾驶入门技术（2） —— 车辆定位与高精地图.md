- [自动驾驶入门技术（2） —— 车辆定位与高精地图](https://blog.csdn.net/ckc108727ckc/article/details/107238992)

## 1 车辆定位

自动驾驶中按照不同的定位实现技术，高精度定位可以分为三类：

1）基于信号的定位，典型代表就是GNSS定位，即全球卫星导航系统；

2）航迹推算  -IMU（惯性测量单元），其根据上一时刻的位置和方位推断现在的位置和方位；

3）环境特征匹配，基于激光雷达/立体视觉的定位，用观测到的特征和数据库中存储的特征进行匹配，得到当前时刻车辆的位置和姿态。

注：IMU ，即惯性测量单元，它由三个单轴的加速度计和三个单轴的陀螺仪组成，加速度计检测物体在导航坐标系内三轴的加速度信号，而陀螺仪检测载体相对于导航坐标系的角速度信号，通过信号处理，可得出物体的姿态；
 ![在这里插入图片描述](https://img-blog.csdnimg.cn/20200709221151346.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NrYzEwODcyN2NrYw==,size_16,color_FFFFFF,t_70)
表1. 三种定位方式的优点和缺点

自动驾驶车辆高精度定位目前主流解决方案普遍采用融合方式，大体上有：

1）基于GPS和IMU传感器的融合的组合导航定位；

2）基于激光雷达点云特征与高精地图的环境特征匹配定位；

3）基于摄像头的道路特征识别为主 + GPS定位为辅助的形式；

4）绝对定位（GNSS） + 相对定位（IMU + 环境特征匹配定位）；首先利用车辆自带的GPS和IMU传感器作出大的位置判断，然后用预选准备好的高精度地图与激光雷达点云图像以及摄像头图像特征相匹配，即放在一个坐标系内做配准，配对成功后确认车辆位置；
 ![在这里插入图片描述](https://img-blog.csdnimg.cn/20200709221214994.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NrYzEwODcyN2NrYw==,size_16,color_FFFFFF,t_70)
 图1. 多传感器融合定位解决方案示例图

## 2 高精度地图

### 2.1 高精度地图发展路线

车载导航地图 - ADAS地图- 高精度地图

1）车载导航地图：向车主出行提供位置及路网信息（其路网信息在地图数据库中是线条的链接，没有道路的宽度、弯道曲率、斜率等信息），为车主提供道路的导航服务；
 ![在这里插入图片描述](https://img-blog.csdnimg.cn/20200709221239526.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NrYzEwODcyN2NrYw==,size_16,color_FFFFFF,t_70)
图2. 车载导航地图显示示例

2）ADAS地图 ：包含道路形状、拓扑和其他高级属性，如道路坡度、弯曲曲率、车道数或限速数值；
 ![在这里插入图片描述](https://img-blog.csdnimg.cn/2020070922130087.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2NrYzEwODcyN2NrYw==,size_16,color_FFFFFF,t_70)
 图3. ADAS地图要素与应用实例

3）高精地图：不仅包括了更加丰富、精确的车道级信息（目前车道误差不超过20cm），同时还将融入动态道路状态信息（能够实现道路状态的实时更新）；

### 2.2 高精度地图对于自动驾驶/无人驾驶的作用及意义

#### 1）感知层面的意义

a、提升感知传感器的性能边界，作为感知层的安全冗余；

现有传感器的方案仍然存在改进的空间，包括传感器测量的边界（视觉、激光感知范围有限）、传感器应用的工况限制（如摄像头激光雷达在大雾及雨雪等恶劣天气下无法正常工作）。高精地图超视距的特点可以对整体的道路流量、交通事件、路况进行预判，可以作为感知层的安全冗余；

b、提供先验知识 - 高精地图可以提供车辆环境模型的先验知识，一定程度上减少自动驾驶车辆感知层的压力；

依靠传感器很难感知车辆是处于高速公路还是普通城市道路；前方道路的曲率/坡度是多少等等，这些信息都是客观存在的，不会随外部事物的变化而变化；而高精地图经过提前采集，能够把这些作为先验信息传给自动驾驶车辆做决策；

####  2）辅助定位

有了高精地图，则无人驾驶车辆需要知道其在地图中的确切位置，首先车辆将会通过摄像机的图像信息以及激光雷达的三维点云信息来查找地标，然后与高精地图上的地标信息进行匹配（涉及到信息预处理，坐标转换以及数据融合的复杂过程）；匹配完成后，车辆便确定了其在地图中的位置，即完成了自身定位；

####  3）路径规划 - 提供车道级的路径规划

高精地图会把道路基本形态，特别是车道线、车道宽度/曲率/坡度、道路标志等细节信息展现出来，辅助自动驾驶车辆实现车道级的路径规划，支持并线/超车等高等级的驾驶决策；