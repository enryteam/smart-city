- [学习笔记2--车载传感器之摄像头和激光雷达](https://fuxi-willard.blog.csdn.net/article/details/121664066)

## 1.车载传感器之摄像头和激光雷达

### 1.1 摄像头

**概述：**

1. 摄像头可以采集汽车周边图像信息，可以拥有较广的垂直视场角、较高的纵向分辨率，可以提供颜色和纹理信息等；
2. 以上这些信息有助于自动驾驶系统实现行人检测、车辆识别、交通标志识别等相对高层语义的任务；
3. 摄像头通过采集图像或图像序列，经过计算机的处理分析，能够识别丰富的环境信息，如：行人、自行车、机动车、道路轨道线、路牙、路牌、信号灯等；
4. 通过机器学习算法，可以实现车距测量，道路循迹，实现前车碰撞预警(FCW)和车道偏离预警(LDW)；

**摄像头工作原理：**

1. **图像处理，将图片转化为二维数据；**
2. **模式识别，通过图像匹配进行识别，如：车辆、行人、车道线、交通标志等；**
3. **距离测量，利用物体的运动模式，或双目定位，估算目标物体与本车的相对距离和相对速度，实现测距；**

**优缺点：**

1. 技术成熟，成本低，采集信息十分丰富，包含最接近人类视觉的语义信息；
2. 摄像头受光照、环境影响十分大，很难全天候工作，在黑夜、雨雪、大雾等能见度较低的情况下，识别率大幅度降低；
3. 缺乏深度信息，三维立体空间感不强；

**摄像头在自动驾驶汽车上的应用：**

1. 车载摄像头是高级驾驶辅助系统(Advanced Driver Assistance Systems，ADAS)的主要视觉传感器；
2. 摄像头借由采集图像后，由摄像头内的感光组件电路及控制组件对图像进行处理并转化为计算机能处理的数字信号，从而实现感知车辆周边的路况，实现前向碰撞预警、车道偏移报警和行人检测等ADAS功能；
3. 当系统需要有效距离较远时，前视摄像头需要长焦镜头；当系统需要有效距离较近、视角较广时，前视摄像头一般使用广角镜头；
    ![1](https://img-blog.csdnimg.cn/b6c079978b7e4bb3b6bc00ab80a71f7f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBARlVYSV9XaWxsYXJk,size_20,color_FFFFFF,t_70,g_se,x_16)

### 1.2 激光雷达

**概述：**

1. 激光雷达(Light Detection and Ranging，LiDAR)：以发射激光束探测目标的位置、速度等特征量的雷达系统；
2. 工作原理：向目标发射探测信号，将接收到的从目标反射回来的信号与发射信号进行比较，做适当处理后，获得目标的有关信息，如：目标距离、方位、高度、速度、姿态及形状等参数，从而对障碍物、移动物体等目标进行探测，跟踪和识别；

**工作原理：通过激光扫描器和距离传感器获取被测目标的表面形态**

1. **激光扫描器组成：激光发射器、接收器、时间计数器、微计算机等；**
2. **激光脉冲发射器周期地驱动激光二极管发射激光脉冲；**
3. **由接收透镜接收目标表面后向反射信号，产生接收信号，利用稳定的石英时钟对发射与接收时间差做计数；**
4. **由微机对测量资料进行内部微处理，显示或存储、输出距离和角度信息，与距离传感器获取的数据相匹配；**
5. **经过相应系统软件进行一系列处理，获取目标表面三维坐标数据，从而进行各种量算或建立立体模型；**
6. **激光雷达通过脉冲激光不断扫描目标物，就可以得到目标物上全部目标点的数据，对这些数据进行图像处理，就可以得到精确的三维立体图像；**
    ![1](https://img-blog.csdnimg.cn/27e26c78a1bc4ff2a397b6f84e52c7ae.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBARlVYSV9XaWxsYXJk,size_20,color_FFFFFF,t_70,g_se,x_16)

**激光雷达优缺点：**

1. **分辨率高，精度高。**
    激光雷达可以获得极高得角度、距离分辨率；角分辨率可达到0.1°，即可以分辨3km距离上相距5m的两个目标，并可同时跟踪多个目标；距离分辨率可达0.1m；
2. **抗有源干扰能力强。**
    自然界中能对激光雷达起干扰作用的信号源不多，抗有源干扰能力强；
3. **获取的信息丰富。**
    可直接获得目标的距离、角度、反射强度、速度等信息，生成目标的多维图像；
4. **雨雪、雾霾天气精度下降。**
    激光一般在晴朗的天气里衰减较小，传播距离较远；在大雨、浓雾等坏天气里，衰减急剧加大，传播距离大受影响；
5. **激光雷达难以分辨交通标志的含义和红绿灯颜色。**
6. **激光雷达接收的是光信号，容易受太阳光、其他车辆的激光雷达等光线影响。**
    大气环流会使激光雷达光束发生畸变、抖动，直接影响激光雷达的测量精度。
7. **现阶段成本较高。**

**激光雷达在自动驾驶中的应用：**
 **激光雷达在自动驾驶中的两个核心功能：三维环境感知和SLAM加强定位。**

**三维环境感知：激光雷达通过激光扫描得到汽车周围环境的三维模型，运用相关算法比对上一帧和下一帧环境的变化可以较为容易地探测出周围的车辆和行人，并进行障碍物的检测、分类和跟踪；**

**SLAM加强定位：激光雷达通过扫描得到的点云数据实现同步创建地图。**

1. **通过GPS得到初始位置信息，通过IMU和车辆的编码器(encoder)配合得到车辆的初始位置；**
2. **将激光雷达的三维点云数据，包括：几何信息和语义信息进行特征提取，结合车辆初始位置进行空间变化，获取基于全局坐标系下的矢量特征；**
3. **将初始位置信息、激光雷达提取的特征跟高精度地图的特征信息进行匹配，获取下一个准确的定位；**

![2](https://img-blog.csdnimg.cn/4b03f42d54cb463ba05464c6912519e3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBARlVYSV9XaWxsYXJk,size_20,color_FFFFFF,t_70,g_se,x_16)

**单线激光雷达和多线激光雷达：**

1. 单线激光雷达扫描一次只能产生一条扫描线，可以获取事物的二维信息，生成平面信息；
2. 多线激光雷达可以获取事物的三维数据；主要的多线雷达：4线、16线、32线、40线、64线、128线；
3. 目前自动驾驶汽车的激光雷达大多安装在车顶，通过高速旋转对周围进行360°扫描，获得周围空间的点云数据，实时绘制出车辆周边的三维空间地图，为下一步的车辆操控建立决策依据；

**Velodyne多线激光雷达数据：**

| 产品    | 通道数 | 探测距离 | 测量精度 | 垂直视角    | 垂直角分辨率 | 水平视角 | 水平视角分辨率     | 数据量     |
| ------- | ------ | -------- | -------- | ----------- | ------------ | -------- | ------------------ | ---------- |
| VLP-16  | 16     | 100m     | ±3cm     | -15°～+15°  | 2°           | 360°     | 0.1°～0.4°         | 30万点/秒  |
| HDL-32E | 32     | 100m     | ±2cm     | -30°～+10°  | 1.33°        | 360°     | 0.1°～0.4°         | 139万点/秒 |
| VLP-32C | 32     | 200m     | ±3cm     | -25°～+15°  | 0.33°        | 360°     | 0.1°～0.4°         | 120万点/秒 |
| HDL-64E | 64     | 120m     | ±2cm     | -24.8°～+2° | 0.4°         | 360°     | 0.08°～0.35°(可调) | 220万点/秒 |
| VLS-128 | 128    | 300m     | ±3cm     | -25°～+15°  | 0.11°        | 360°     | 0.1°～0.4°         | 960万点/秒 |

**激光雷达形态：机械式激光雷达、固态激光雷达、混合固态激光雷达。**

1. 机械式激光雷达通过不断旋转发射头，将速度更快、发射更准的激光从"线"变为"面"，并在垂直方向上排布多束激光，形成多个面，达到动态三维扫描并动态接收信息的目的；
2. 固态激光雷达去除机械式雷达里面的机械旋转部件，采用电子方案来达到全范围探测，但水平视角小于180°；
3. 混合固态激光雷达从外观上看，基本看不到旋转部件，但内部仍存在一些机械旋转部件；
4. 激光雷达领先的公司：美国的Velodyne、Luminar；以色列的Innoviz；德国的Valeo；国内的禾赛光电科技、速腾聚创RoboSense、光珀智能、北醒光子等；