# 13.1 系统功能清单

![image-20210817152521772](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152521772.png)

![image-20210817152533190](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152533190.png)

![image-20210817152543901](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152543901.png)

![image-20210817152554445](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152554445.png)

![image-20210817152607614](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152607614.png)

![image-20210817152615303](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152615303.png)

![image-20210817152626222](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152626222.png)

![image-20210817152637423](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152637423.png)

![image-20210817152654229](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152654229.png)

![image-20210817152705014](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152705014.png)

![image-20210817152715046](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152715046.png)

![image-20210817152723158](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152723158.png)

![image-20210817152734094](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152734094.png)

![image-20210817152746535](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152746535.png)

![image-20210817152756820](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152756820.png)

![image-20210817152806237](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152806237.png)

![image-20210817152816718](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152816718.png)

![image-20210817152827374](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152827374.png)

![image-20210817152840932](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152840932.png)

![image-20210817152852670](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152852670.png)

![image-20210817152904230](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152904230.png)

![image-20210817152913511](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152913511.png)

![image-20210817152922966](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152922966.png)

![image-20210817152933159](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152933159.png)

![image-20210817152945508](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817152945508.png)

# 13.3 系统测试方案

## 13.3.1 测试规划

基于系统整体需求说明书的黑盒类测试，应覆盖系统所有联合的部件。目的是验证系统是否满足了需求规格的定义，找出与需求规格不相符合或与之矛盾的地方。

- 系统测试流程图

![图片1](https://gitee.com/er-huomeng/l-img/raw/master/img/%E5%9B%BE%E7%89%871.png)

注：以上流程图中黄色背景框代表可裁剪内容。

- 测试用例模板

该模板适用于功能测试、故障易恢复性测试、界面测试、安全性和访问控制测试、安装部署测试、集成测试。模板如下：

| 测试用例编号       | TC_1                                                         |
| ------------------ | ------------------------------------------------------------ |
| 测试用例名称及说明 |                                                              |
| 测试项             |                                                              |
| 测试类型           | √功能性□文档□故障易恢复□界面□性能□安全性和访问控制□安装部署□集成接口 |
| 输入说明           |                                                              |
| 操作步骤           | 步骤一 步骤二                                                |
| 预期结果           |                                                              |
| 实际结果           |                                                              |
| 环境要求           | Win2003 Server；IIS 6.0；Oracle 10g；ArcGis92                |
| 测试结论           | √ 正确    □ 不正确                                           |

- 用例模板标识

1. 测试用例编号 --- 用于唯一标识测试用例；

2. 测试用例名称及说明 --- 用例名称及名称的说明；

3. 设计人员--- 用于标识设计测试用例设计者；

4. 输入说明 --- 标识测试用例的输入数据；

5. 操作步骤 --- 列出执行测试用例的步骤；

6. 预期结果 --- 结合需求文档列出测试用例的预期结果；

7. 实际结果 --- 列出执行测试用例的实际结果；

8. 环境要求 --- 对执行测试用例的测试环境；

9. 特殊的规程说明 --- 测试用例的测试规程的一切特殊限制，限制可包括特定的准备、操作人员干预、确定特殊的输入和清除过程；

10. 用例间的依赖关系 --- 列出与本测试用例的依赖性质；

11. 测试结论 --- 测试结果是否正确。

## 13.3.2 测试内容

### 13.3.2.1 文档测试

- 测试对象

  | **序号** | **文档名称**                 | **备注** |
  | -------- | ---------------------------- | -------- |
  | 1        | 智能交通管理平台用户手册     |          |
  | 2        | 智能交通管理平台安装部署手册 |          |

- 测试方案

![image-20210817153533862](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817153533862.png)

### 13.3.2.2 功能测试

- **测试对象**

功能测试对象按体系分类包含指挥调度体系、态势监控体系、稽查布控体系、信号控制体系、信息服务体系、分控中心。

- **测试方法**

采用黑盒测试技术，通过测试来检测每个功能是否都能正常使用，在完全不考虑程序内部结构和内部特征的情况下进行测试，检查程序功能是否按照需求规格说明书的规定正常使用，程序是否能适当的接收输入数据而产生正确的输出信息。着眼于程序外部结构，不考虑内部逻辑结构，主要针对软件界面和软件功能进行测试。

以用户角度出发，从输入数据与输出数据的对应关系进行测试，注重于软件的功能需求，主要试图发现下列几类错误。

- 功能不正确或有遗漏；

- 界面错误；

- 数据库访问错误；

- 初始化和终止错误等。

- 各业务规则都得到了正确的应用。

黑盒测试在普通情况下只有采用穷举输入测试，把所有可能的输入都作为测试情况考虑，才能查出程序中所有的错误。实际上测试情况有无穷多个，不仅要测试所有合法的输入，而且还要对那些不合法但可能的输入进行测试。这样看来，完全测试是不可能的，所以我们要进行有针对性的测试，通过制定测试案例指导测试的实施，保证此测试活动有组织、按步骤，以及有计划地进行。必须能够加以量化，才能真正保证软件质量，而测试用例就是将测试行为具体量化的方法之一。

业务流程测试用例编写原则以需求分析中的流程图做为编写测试用例的一个指导，坚持“测试驱动开发，用例指导结果，数据记录变化”的原则，灵活使用不同的方法制定测试用例。遍历每一个业务流，执行测试用例，检查产品是否达到需求文档或客户要求，通过测试让平台功能更稳定。业务用例的构造要先于程序实现，与需求和开发人员沟通一致，并以此作为一个基准，保证程序实现不会错，还能对整个软件的进度和质量有一个很好的估计和度量。

在此次测试活动中设计用例的方法包括等价类划分法、边界值分析法、错误推测法、因果图法、判断表驱动法、功能图法等。

- 等价类划方法
  - 是把程序的输入域分成若干部分，然后从每个部分选取少数代表性数据作为测试用例。每一类的代表性数据在测试中的作用等价于这一类中的其他值。下面列出确定等价类的原则：
  - 在输入条件规定了取值范围或值的个数的情况下，可以确定一个有效等价类和两个无效等价类。
  - 在输入条件规定了输入值的集合或者规定了必须遵循的条件情况下，可以确定一个有效等价类和一个无效等价类。
  - 在输入条件是一个布尔值的情况下，可以确定有效和无效等价类。
  - 在规定了输入数据的一组值（假定n个），功能要对每一个输入值分别处理的情况下，可以确定n个有效和一个无效等价类。
  - 在确知已划分的等价类中，各元素在程序处理中的方式不同的情况下，则应再对该等价类进一步划分更小的等价类值。
  - 在确立了等价类后，建立等价类表，列出所有划分出的等价类。

- 边界值分析法
  - 是通过选择等价类边界的测试用例。边界值分析法不仅重视输入条件边界，而且也必须考虑输入域边界。若软件在能力达到极限时能够运行，那么在正常情况下一般也就不会有什么问题。下面列出常在边界值发现错误的实例。

| 字符  | ASCII值 | 字符 | ASCII值 | 字符 | ASCII值 | 字符 | ASCII值 |
| ----- | ------- | ---- | ------- | ---- | ------- | ---- | ------- |
| Null  | 0       | B    | 66      | 2    | 50      | a    | 97      |
| Space | 32      | Y    | 89      | 9    | 57      | b    | 98      |
| /     | 47      | Z    | 90      | ：   | 58      | y    | 121     |
| 0     | 48      | [    | 91      | @    | 64      | z    | 122     |
| 1     | 49      | ‘    | 96      | A    | 65      | {    | 123     |

在上表中0~9的后面ASCII值是48~57。斜杠字符（/）在数字0的前面，而冒号字符“：”在数字9的后面。大写字母A~Z对应65~90。小写字母对应97~122。这些情况都代表边界条件。

呼市智能交通管理平台中有多个文本输入和文本转化的功能点，如果测试的文本框只接受用户输入字符A~Z和a~z,就应该在非法区间中包含上表中这些字符前后的值@、[、和{。

- 错误推测法
  - 就是基于经验和直觉推测程序中所有可能存在的各种错误，从而有针对性地设计测试用例的方法。
  - 设计一些非法、错误和垃圾数据进行输入测试，对错误推测法来说是很常用的手法，如果软件只接受正数，就输入负数。如果软件对时间敏感，就输入公元3000年是否正常工作。另外，在输入数据和输出数据时0的情况下，或者输入表格为空，这些都是容易发生错误的情况。

- 因果图法
  - 从用书写的程序规格说明的描述中找出因（输入条件）和果（输出或程序状态的改变），可以通过因果图转换为判定表。
  - 通常在因果图中。用Ｃ1表示原因，Ｅ1表示结果，其基本符号如下图所示。各节点表示状态，可取“0”或“1”值。“0”表示某状态不出现，“1”表示某状态出现。

![image-20210817153600234](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817153600234.png)

a) 恒等：若原因出现，则结果出现；若不出现，则结果也不出现。

b) 非（~）：若原因出现，则结果不出现，若原因不出现，则结果出现。

c) 或（ν）：若几个原因中有一个出现，则结果出现，若几个原因都不出现，则结果不出现与（Λ）：若几个原因都出现，结果才出现。若其中有一个原因不出现，则结果不出现。

### 13.2.3 故障易恢复性测试

l **测试对象**

oracle10g 数据库服务器和地图数据库服务器。

l **测试方案**

![image-20210817153819261](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817153819261.png)

![image-20210817153829382](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817153829382.png)

### 13.2.4 界面测试

通过用户界面 (UI) 测试来核实用户与[软件](http://baike.baidu.com/view/37.htm)的交互。[UI ](http://baike.baidu.com/view/20302.htm)测试的目标在于确保用户界面向用户提供了适当的访问和浏览测试对象功能的操作。除此之外，UI 测试还要确保 UI 功能内部的对象符合预期要求，并遵循公司或行业的标准。

l **测试对象**

XXX智能交通项目智能交通管理平台。

l **测试方案**

![image-20210817153924357](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817153924357.png)

![image-20210817153935908](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817153935908.png)

### 13.3.2.5 性能测试

l **名词解释**

并发用户数：同一时刻与服务器交互的用户数。

响应时间：客户端发出请求到收到响应所用时间

参数化：把用户名和密码用参数来表示，参数的值表示不同的用户名。

事务：度量一个动作的时间计量器。

l **测试对象**

在下表中列出性能测试的业务名称及对该名称脚本编写的要求及结果。

| **序号** | **业务名称**              | **测试目的**                                                 | **备注**                                                     |
| -------- | ------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 1        | 用户登录                  | 不同用户并发登录系统，事务响应时间                           | 通过参数化手段模拟不同用户登录，添加事务，通过事务获取系统登录时间的响应时间 |
| 2        | 地图操作                  | 多用户同时操作地图的响应时间                                 | 登录平台后，添加地图操作事务。                               |
| 3        | 接处警                    | 高负载下系统的处理能力                                       |                                                              |
| 4        | 流量系统                  | 大数据量下进行查询、统计流量操作的响应时间                   |                                                              |
| 5        | GPS                       | 在大数据量，重负载的情况下，进行历史轨迹查询操作的响应时间   |                                                              |
| 6        | PDA                       | 在大数据量，重负载的情况下，进行历史轨迹查询操作的响应时间   | GPS的测试方法与PDA系统相同                                   |
| 7        | 设备管理                  | 多用户同时操作重点或者频繁使用的的业务操作，系统响应时间     |                                                              |
| 8        | 警情接报系统              | 多用户并发操作系统主要业务，系统响应时间                     |                                                              |
| 9        | CCTV                      | 多用户同时进行视频控制操作，系统响应时间                     |                                                              |
| 10       | 态势监控                  | 模拟100个用户进行综合态势监控操作，每个用户同时展示不小于5个专题，并持续递增并发用户量，直到系统无响应，用于测试系统的负载能力。 |                                                              |
| 11       | 警情研判-实时综合曲线展示 | 根据客户的实际情况，模拟100个用户进行实时综合曲线监控展示操作，并逐级递增并发用户量。根据多用户并发操作的响应时间情况，分别测试系统的响应时间和效率。 |                                                              |
| 12       | 警情研判-拥堵事故警情监控 | 据客户的实际情况，模拟100个用户进行事故监控预警，50个用户进行拥堵监控预警，并进行计算预警在地图上对超警戒值的大队进行预警。根据多用户并发操作的响应时间情况，分别测试系统的响应时间以及预警得效率。 |                                                              |

l **测试方案**

该平台有c#语言开发的C\S架构的应用程序和java语言开发的B\S架构的web网站。基于消息订阅机制的消息服务器，承载数据库访问与操作，以及对外暴露接口的webservice服务，以及oracle数据库，地图数据库。对本系统的性能测试我们使用LoadRunner自动化测试工具进行测试，测试主要的关注点是系统的重要业务功能点、使用频繁的功能、存在大数据流的业务功能，在测试对象中已经列出。测试功能的响应时间和能承受的数据规模。由于集成指挥平台后台主要是oracle数据库，使用数据库监控比较重要。在做性能测试前，需对被测的模块进行完整的功能测试，确保功能无误后再做性能测试。

![image-20210817154021134](https://gitee.com/er-huomeng/l-img/raw/master/img/image-20210817154021134.png)

应用在客户端性能测试的测试，在客户端模拟大量虚拟用户和数据，主要组成部分包括主控台、代理机以及被测服务器，各部分采用网络连接。主控台负责管理各个代理以及手机各个代理测试数据，代理负责模拟虚拟用户加压。在每次并发性能测试中，可有多个代理器。