# 一、车路协同发展的痛点问题

​		车路协同当前依然处于发展初期，具体实现的技术、商业模式、建设模式都还在探索尝试。

​		目前最典型的车路协同方案包括聪明的车（自动驾驶、V2X OBU）、智慧的路（V2X  RSU、智能感知设备、边缘计算、信号机等）、网络、云（控）平台，基本上是一个完整的云管端架构的系统。而在一些大型示范项目中，云平台包括了多项应用，既有面向交通管理的应用，也有面向智慧公交、智慧物流、车厂TSP等的服务。

​		打造一个完整独立的系统，对于在车联网初期进行示范试点是没有问题的，可以尽可能地进行更多的功能和性能测试。但对于最终商用，就会存在业务主体不明确等诸多问题。

​		车路协同从技术层面上需要有一个完整的体系架构，但从端到端的应用及服务系统角度看，**车路协同只是一种技术支撑，或者说作为应用系统中的一个子系统存在，才有可能实现真正的商业逻辑**。

​		以交通管理为例，目前智慧交通的交管中已包括了交通数据采集、信号优化、交通诱导、交通状况监测及应急处置等等业务。对于车路协同来说，不是另建一套系统进行交通管理，而是作为一个补充融入到原有系统中，解决原有技术解决不了的问题。

![](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210527152454180.png)

​		比如，原有交通数据采集中已包括了大量的视频、线圈、微波测速、浮动车、互联网的数据，车路协同技术可以增加车载终端提供的GPS、紧急故障、驾驶意图等数据，可以增加以交通参与者目标为粒度的感知覆盖面和精细度；另外，以往的交通诱导、道路状况、收费信息等的发布对象是无差别的，而通过车路协同技术可以差异化地精准到车；再如，柔性车道的控制，从面向驾驶员的可变指示牌，通过车路协同技术，可以转变为面向自动驾驶车辆和智能网联车辆的精准指引。

​		但是，车路协同技术并不会改变整体交通管理的业务逻辑。原有交通管理系统的形成是经过不断演进变化的，不是一蹴而就的，是错综复杂的系统。车路协同作为新技术，对原有系统的数据来源、控制方法、发布方式进行补充，并融入到实际业务系统中。

​		只有作为业务生产系统的一部分，为生产服务，商业模式才可能理顺，受益方是买单者。同样，车路协同技术应用到智慧公交，应用到港口、机场等，也需要融入到原有的生产系统中，和原有的车辆管理、调度、维修管理等深度融合。



# 二、为何选择高速公路去验证车路协同技术应用

​		高速公路和一级公路的交通环境相对封闭、路面结构更平整、道路线型更平顺，相比其它等级的公路，更有利于车辆实现部分或完全自动驾驶功能，并且高速公路和一级公路的安全设施和管理设施更加完备、更易于升级改造。

​		考虑自动驾驶的发展阶段、技术经济性等方面的因素，当前阶段宜首先从高速公路和一级公路的自动驾驶专用道以及自动驾驶专用公路进行车路协同的技术应用验证。智慧高速是具备数字化、网联化、智能化等特征的高速公路。它通过多维状态感知、多源信息融合等手段，对高速公路行驶的车辆进行精准管控并为其提供运营服务，实现安全、高效、绿色的交通运行。

​		智慧高速车路协同分级说明

![image-20210520165402163](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210520165402163.png)

## 2.1 高速公路特点分析

为保证行车安全，高速公路作为一个相对封闭的行车区域、除具备普通公路的功能外，还具有如下自身的功能特征。

### 2.1.1 交通控制、汽车专用

高速公路不仅不允许出现混合交通，而且对进入的车辆和车速都有严格的要求和限制，以避免车辆混流。在通常情况下，高速公路规定：凡非机动车辆、由于车速较低可能形成危险的车辆和可能妨碍交通的车辆，都不得进入高速公路。

### 2.1.2 分隔行驶

为保证安全，高速公路采取了不同于普通公路的分隔行驶的办法：一是在路面中央设立分隔带，实行车道分离、渠化，从而隔绝相向对行车辆的接触，避免车辆的擦挂或相撞；二是至少为同向行驶车辆设置两个以上车道，用划线的方法将车道分成主车道和超车道，或分为快车道和慢车道，以减少由于车速差别发生超车带来的干扰，避免事故的发生。

### 2.1.3 控制出入

为避免车辆混流造成的横向干扰，保证道路畅通和车辆高速行驶，高速公路实行严格控制车辆出入的办法，其方式主要是采取全封闭、全立交，使高速公路与周围环境隔离，从而限制非机动车、行人、牲畜的进入，通行车辆也只能从互通式立交匠道出入高速公路。

### 2.1.4 采用较高的技术标准

高速公路设计和施工以及后期管理都采用了较高的技术标准。高速公路在线形选择上也有独特的要求，既要避免长直线型的路段，又要防止转弯半径过小影响安全，一般采用大半径曲线形，根据地形以圆曲线或缓和曲线为主，既增加了线路的美观性，又有利于保证行车的舒适和安全。

### 2.1.5 具有完善的交通工程设施和服务设施

高速公路不同于普通公路，除具有基本的道路使用功能外，高速公路还设有不少交通工程和服务设施，典型的如服务区、加油站、提示标志标识等。这些设施为车辆的高速运行提供了技术上、物资上的供应和保障，使道路不仅具有车辆通行的功能，而且能够成为一个能源、信息传递的多功能载体。

## 2.2 高速公路智能网联（车联网）示范整体情况

​		不完全统计，高速公路车路协同示范主要包括北京和河北的**延崇高速**、**大兴新机场高速、京雄高速**，吉林**珲乌高速**，江苏的**新一代国家交通控制网（常州）试点工程、通锡高速南通方向、S342无锡段、G524常熟段、沪宁高速无锡硕放至东桥路段、五峰山过江通道公路接线工程**，浙江的**杭绍甬高速、沪杭甬高速公路智慧改造、杭州绕城西复线高速、杭绍台高速公路绍兴金华段**，福建的**基于大数据路网综合管理智慧高速公路示范工程项目**，江西的**宁定高速、昌九高速**，河南的新一代国家交通控制网和智慧公路试点工程（机西高速公路）**，广东的**南沙大桥、广乐高速**，湖南的**长沙113公里智慧高速项目**，山东的**智能网联高速公路测试基地项目、济潍高速**，海南的**环岛旅游公路。

## 2.3 政府车路协同建设主要应用场景

![image-20210525165136380](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210525165136380.png)

### 2.3.1 虚拟测试场

![image-20210525165141057](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210525165141057.png)

### 2.3.2 车路协同实场测试场景

![image-20210525165145644](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210525165145644.png)

![image-20210525165150099](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210525165150099.png)

### 2.3.3 城市道路场景

![image-20210525165154452](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210525165154452.png)

![image-20210525165158186](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210525165158186.png)

### 2.3.4 精准公交

![image-20210525165202074](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210525165202074.png)

![image-20210525165205402](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210525165205402.png)

### 2.3.5 高速公路场景

![image-20210525165210588](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210525165210588.png)

![image-20210525165215835](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210525165215835.png)

![image-20210525165224593](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210525165224593.png)

![image-20210525170404821](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210525170404821.png)

# 三、高速公路车路协同应用场景分析

## 3.1 高速公路应用场景分析

根据交警部门统计分析，高速公路有50%的事故发生在匝道，主要有以下5种类型，临近匝道停车，观察路牌；猛打方向，突然变道；临近匝道强行变道超车；匝道内行驶速度较快；错过匝道高速倒车灯。

1、安全保障类应用：隧道及隧道群、桥隧相接段、长大纵坡段、小半径曲线段、互通分合流区（尤其是分流区）、服务区出入口、高边坡路段等以及恶劣气象突发情况、交通事件下的交通安全保障应用场景。

2、效率提升类应用：自由流收费、货车编队驾驶、大交通流量高速公路的主动交通管控（包括综合运用速度控制、车道控制、匝道控制、硬路肩临时使用等措施）。

3、信息服务类应用：SOS（高速公路信息服务类最有价值的一种应用）、服务区停车诱导、服务区加油（充电）提示等。

![image-20210525145608297](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210525145608297.png)

### 3.1.1 物理区域划分

根据高速公路建设特点，可将高速公路划分为三大区域。高速公路出入口、车辆通行路段、高速公路服务区。

#### 1. 高速公路出入口

示意图如图1所示。

车辆在进出高速公路之前，要先通过收费站。通过收费站后，进入高速公路汇入臣道，此处车辆较多，为了避免碰撞及拥堵，应为距道及主路车辆提供全面的车辆行驶信息。

![image-20210520102624568](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210520102624568.png)



此区域内适用的应用场景包括前向碰撞预警、侧向碰撞预警、盲区预警/变道辅助、左转辅助等安全类应用，前方拥堵提醒、动态潮汐车道行驶等效率类应用，服务信息公告、智能汽车近场支付等信息服务类应用。



![image-20210520102725522](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210520102725522.png)

在车辆进入高速公路之前，应先通过收费站。通过收费站后，车辆进入高速公路汇入匠道，此处车辆较多，为避免碰撞及拥堵，应为匠道及高速公路上的车辆提供全面的车辆行驶信息。高速公路汇入口车路协同应用场景需求见表2。

![image-20210520105538711](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210520105538711.png)

对于普通高速公路，一般情况下，高速公路出口处情况与入口处情况相似，其应用场景需求见表5。

![image-20210520105608431](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210520105608431.png)

#### 2. 车辆通行路段

示意图如图2所示。

车辆通行路段车辆行驶方向一致，有可能会产生碰撞、拥堵等情况，并且道路处在山区，可能会产生急弯、陡坡、横风、落石等突发情况，因此为了保障车辆通行安全，在私家车辆通行路段车路协同应用。

此区域内适用的应用场景包括前向碰撞预警、侧向碰撞预警、紧急制动预警、异常车辆预警、车辆失控预警、弯道速度预警等安全类应用，高级优先车辆让行、车内标牌、前方拥堵提醒等效率类应用，服务信息公告等信息服务类应用。



![image-20210520102755081](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210520102755081.png)

通行路段有可能会产生碰撞、拥堵等情况，并且当路段位于山区时，可能会产生急弯、陡坡、横风、落石等突发情况，为了保障车辆通行安全，通行路段车路协同应用场景需求见表3。

![image-20210520105548455](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210520105548455.png)



#### 3. 高速公路服务区

示意图如图3所示。

服务区是车辆停车休息的地方，会出现停车、人员走动、加油购物等场景。

基于以上分析，适用于该区域的应用场景包括基于环境物体感知的安全驾驶辅助提示、弱势交通参与者碰撞预警等安全类应用，自动泊车等效率类应用，服务信息公告、智能汽车近场支付等信息服务类应用。

高速公路服务区是停车休息的地方，因此服务区内会有大量车辆通行，为保证服务区内车辆通行安全应建立完善的车路协同应用场景，其应用场景需求见表4。

![image-20210520105559855](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210520105559855.png)



### 3.1.2 业务场景划分

​	高速公路需为货运物流、普通车辆、客车等提供服务，同时还需要维护管理等，不同的业务场景及管理需求对应用场景的需求也各不相同。

#### 1. 货运物流场景

示意图如图4所示。

![image-20210520103054760](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210520103054760.png)

货运物流车辆一般出发地和目的地明确，在高速公路上行驶具有相对连续性，可通过编队或远程驾驶等方式来降低人力成本，提高交通效率。

此业务场景下适用的应用场景包括协作式自适应巡航、协作式车队/队列告警、车辆远程诊断、远程遥控驾驶、商用及货用车在一定范围内的传输信息等。

#### 2. 应急救援场景

示意图如图5所示。

![image-20210520103113000](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210520103113000.png)

高速公路上经常会出现交通事故等情况，在出现交通事故后第一时间赶到救援现场，会对救援起到极大的帮助，为了提高救援效率，紧急救援、高级优先车辆让行、紧急车辆信号优先权等应用场景可适用于该业务。

#### 3. 道路养护管理场景

示意图如图6所示。

![image-20210520103123801](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210520103123801.png)

高速公路需要定期进行维护保养，在维护保养的过程中需要对道路进行临时封闭或限行管理，为了保证维护保养过程中的交通安全，道路施工预警、限制访问、限行管理等应用场景可适用于该业务场景。

#### 4. 收费站

收费站及服务区也是高速公路的主要业务，为满足收费站及服务区内的经营及收费业务，智能汽车近场支付、自动泊车、服务信息公告等应用场景可适用于该业务场景。



## 3.2 高速公路典型应用场景及其子场景

消息层数据集用ASN.1标准进行定义，遵循“消息帧-消息体-数据帧-数据元素”层层嵌套的逻辑进行制定。 数据集交互的编解码方式遵循非对齐压缩编码规则UPER。

![](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210609091441599.png)

上述定义的消息层数据集，主要由<font color='red'>1个消息帧格式，5个最基本的消息体以及相应的数据帧和数据元素组成。</font>

<font color='red'>消息帧是单个应用层消息的统一打包格式，是数据编解码的唯一操作对象。消息帧由不同类别的消息体组成，并支持扩展。</font>

<font color='red'>数据帧由其他数据单元或数据类型组合而成，具有特定的实际意义。是消息体的组成部分。</font>

<font color='red'>数据元素是消息体或数据单元的组成部分。它由基本数据类型定义产生，具有实际物理意义。</font>



云端接收消息数据或下发消息数据集时，完整的数据集由一个消息帧即MsgFrame和5个最基本的消息体组成，其中每个消息体是由许多数据帧组成的，数据帧是由多个数据单元构成的。

接收发数据时，是对单个应用层消息的统一打包接收发，也就是MsgFrame是唯一的接收发的操作对象，编码解码都是指的消息帧的编码或者解码而言。

### 3.2.1 安全

#### 1. 异常车辆提醒

- 0901	车辆超速
- 接口：
  - `/safety/abnormalVehicle/VehicleOverSpeed/vehicleId`
  - `/safety/abnormalVehicle/VehicleOverSpeed/vehicleCode`

```json
{
    vehicleId: "车辆ID",
    vehicleCode: "车牌号",
    vehiclePosition3D:[{
    	lat: "开始超速纬度",
    	lon： "开始超速经度:,
        elevation: "开始超速海拔高程"
	},{
    	lat: "开始超速纬度",
    	lon： "开始超速经度:,
        elevation: "开始超速海拔高程"
	}],
    VehicleClassification: {
        basicVehicleClass: "车辆基本分类",
		fuelType: "燃料动力类型"（非必填）
    },
    overSpeedBeginTime: "开始超速时间",
    overSpeedEndTime: "结束超速时间",
    overSpeedMax: "最大超速",
    overSpeedAvg: "平均超速"
	pathHistoryPointList: [{	（车辆历史轨迹点）
        lon: "经度",
        lat: "纬度",
        speed: "车速"
        posAccuracy: "实时位置置信度"
    },{
        lon: "经度",
        lat: "纬度",
        speed: "车速"
        posAccuracy: "实时位置置信度"
    },{
        lon: "经度",
        lat: "纬度",
        speed: "车速"
        posAccuracy: "实时位置置信度"        
    }],
    NodeList: [{
        nodeReferenceID: "路口所在区域与节点ID"
        LinkList: [{
        	upstreamNodeId: "上行节点(路口)编号"
        	speedLimitType: "限速类型",
        	speed: "车速",
        	LanesList: [{
        		laneId: "车道编号",
        		speedLimits : "速度限制",（非必填）
		    },{
                laneId: "车道编号",
        		speedLimits : "速度限制",（非必填）
            }]
    	},{
            upstreamNodeId: "上行节点(路口)编号"
        	speedLimitType: "限速类型",
        	speed: "车速",
        	LanesList: [{
        		laneId: "车道编号",
        		speedLimits : "速度限制",（非必填）
		    },{
                laneId: "车道编号",
        		speedLimits : "速度限制",（非必填）
            }]
        }]
    },{
        nodeReferenceID: "路口所在区域与节点ID"
        LinkList: [{
        	upstreamNodeId: "上行节点(路口)编号"
        	speedLimitType: "限速类型",
        	speed: "车速",
        	LanesList: [{
        		laneId: "车道编号",
        		speedLimits : "速度限制",（非必填）
		    },{
                laneId: "车道编号",
        		speedLimits : "速度限制",（非必填）
            }]
    	},{
            upstreamNodeId: "上行节点(路口)编号"
        	speedLimitType: "限速类型",
        	speed: "车速",
        	LanesList: [{
        		laneId: "车道编号",
        		speedLimits : "速度限制",（非必填）
		    },{
                laneId: "车道编号",
        		speedLimits : "速度限制",（非必填）
            }]
        }]
    }]
}
```



- 0902	车辆慢行
- 接口：
  - `/safety/abnormalVehicle/vehicleSlow/vehicleId`
  - `/safety/abnormalVehicle/vehicleSlow/vehicleCode`

```json
{
    vehicleId: "车辆ID",
    vehicleCode: "车牌号",
    vehiclePosition3D:[{
    	lat: "开始慢行纬度",
    	lon： "开始慢行经度:,
        elevation: "开始慢行海拔高程"
	},{
    	lat: "开始慢行纬度",
    	lon： "开始慢行经度:,
        elevation: "开始慢行海拔高程"
	}],
    vehicleSpeed: "车辆速度",
    VehicleClassification: {
        basicVehicleClass: "车辆基本分类",
		fuelType: "燃料动力类型"（非必填）
    },
    vehicleSlowBeginTime: "开始慢行时间",
    vehicleSlowEndTime: "结束慢行时间",
    vehicleSlowMinSpeed: "最低慢行速度",
    vehicleSlowAvgSpeed: "慢行平均速度",
    pathHistoryPointList: [{	（车辆历史轨迹点）
        lon: "经度",
        lat: "纬度",
        speed: "车速"
        posAccuracy: "实时位置置信度"
    },{
        lon: "经度",
        lat: "纬度",
        speed: "车速"
        posAccuracy: "实时位置置信度"
    },{
        lon: "经度",
        lat: "纬度",
        speed: "车速"
        posAccuracy: "实时位置置信度"        
    }],
    NodeList: [{
        nodeReferenceID: "路口所在区域与节点ID"
        LinkList: [{
        	upstreamNodeId: "上行节点(路口)编号"
        	speedLimitType: "限速类型",
        	speed: "车速",
        	LanesList: [{
        		laneId: "车道编号",
        		speedLimits : "速度限制",（非必填）
		    },{
                laneId: "车道编号",
        		speedLimits : "速度限制",（非必填）
            }]
    	},{
            upstreamNodeId: "上行节点(路口)编号"
        	speedLimitType: "限速类型",
        	speed: "车速",
        	LanesList: [{
        		laneId: "车道编号",
        		speedLimits : "速度限制",（非必填）
		    },{
                laneId: "车道编号",
        		speedLimits : "速度限制",（非必填）
            }]
        }]
    },{
        nodeReferenceID: "路口所在区域与节点ID"
        LinkList: [{
        	upstreamNodeId: "上行节点(路口)编号"
        	speedLimitType: "限速类型",
        	speed: "车速",
        	LanesList: [{
        		laneId: "车道编号",
        		speedLimits : "速度限制",（非必填）
		    },{
                laneId: "车道编号",
        		speedLimits : "速度限制",（非必填）
            }]
    	},{
            upstreamNodeId: "上行节点(路口)编号"
        	speedLimitType: "限速类型",
        	speed: "车速",
        	LanesList: [{
        		laneId: "车道编号",
        		speedLimits : "速度限制",（非必填）
		    },{
                laneId: "车道编号",
        		speedLimits : "速度限制",（非必填）
            }]
        }]
    }]
}
```



- 0903	车辆停驶
- 接口：
  - `/safety/abnormalVehicle/vehicleStop/vehicleId`
  - `/safety/abnormalVehicle/vehicleStop/vehicleCode`

```json
{
    vehicleId: "车辆ID",
    vehicleCode: "车牌号",
    vehiclePosition3D:{
    	lat: "纬度",
    	lon： "经度:,
        elevation: "海拔高程"（非必填）
	},
    vehicleSpeed: "车辆速度",
    VehicleClassification: {
        basicVehicleClass: "车辆基本分类",
		fuelType: "燃料动力类型"（非必填）
    },
    vehicleStopBeginTime: "停驶开始时间",
    vehicleStopEndTime: "停驶结束时间",
}
```



- 0904	车辆逆行

- 接口：
  - `/safety/abnormalVehicle/vehicleConverse/vehicleId`
  - `/safety/abnormalVehicle/vehicleConverse/vehicleCode`

```json
{
    vehicleId: "车辆ID",
    vehicleCode: "车牌号",
    vehiclePosition3D:[{
    	lat: "开始逆行纬度",
    	lon： "开始逆行经度:,
        elevation: "开始逆行海拔高程"
	},{
    	lat: "开始逆行纬度",
    	lon： "开始逆行经度:,
        elevation: "开始逆行海拔高程"
	}],
    vehicleSpeed: "车辆速度",
    VehicleClassification: {
        basicVehicleClass: "车辆基本分类",
		fuelType: "燃料动力类型"（非必填）
    },
    vehicleConverseBeginTime: "车辆逆行开始时间",
    vehicleConverseEndTime: "车辆逆行结束时间",
    vehicleConverseDistance: "逆行距离",
    pathHistoryPointList: [{	（车辆历史轨迹点）
        lon: "经度",
        lat: "纬度",
        speed: "车速"
        posAccuracy: "实时位置置信度"
    },{
        lon: "经度",
        lat: "纬度",
        speed: "车速"
        posAccuracy: "实时位置置信度"
    },{
        lon: "经度",
        lat: "纬度",
        speed: "车速"
        posAccuracy: "实时位置置信度"        
    }],
    NodeList: [{
        nodeReferenceID: "路口所在区域与节点ID"
		nodePosition3D: {
        	lat: "纬度",
        	lon: "经度",
        	elevation: "海拔高程"
	    }
    },{
        nodeReferenceID: "路口所在区域与节点ID"
		nodePosition3D: {
        	lat: "纬度",
        	lon: "经度",
        	elevation: "海拔高程"
	    }
    }]
}
```



#### 2. 道路安全预警

- 0408	路面湿滑
- 接口：
  - `/safety/abnormalVehicle/slipperRoad`

```json
{
	rsuId: "rsuID",
    rsuPosition3D: [{
        lat: "纬度",
        lon: "经度",
        elevation: "海拔高程"
    },{
        lat: "纬度",
        lon: "经度",
        elevation: "海拔高程"
    }],
    //rtes和rtss必须存在一个
    rtes:{
        rteld: "交通事件ID",
        eventType: "交通事件类型",
        eventSource: "交通事件来源",
        eventPosition3D:{
            lat: "纬度",
            lon: "经度",
        },
        referencePathList:[{	(此交通事件的相关路径列表)
            pathPointList:[{
				lat: "纬度",
				lon: "经度",                           
			},{
				lat: "纬度",
				lon: "经度",    
			}],
			pathRadius: "距激活警告的警报路径的最大距离"
        },{
            pathPointList:[{
				lat: "纬度",
				lon: "经度",                           
			},{
				lat: "纬度",
				lon: "经度",    
			}],
			pathRadius: "距激活警告的警报路径的最大距离"            
        }]
    },
    rtss:{
        
    }
}
```



- 路面积雪（路面结冰）
- 接口：
  - `safety/abnormalTraffic/lcyRoad`

```json
{
    rsuId: "rsuID",
    refPos3D: "交通警报参考位置",
    RTEList: {
    	rteId: "交通事件ID",
    	eventType: "交通事件类型-0308 交通气象_暴雪",
    	eventSource: "交通事件来源 3 meteorological department 气象部门",
    	eventPos: "事件的位置"{
        	lat: "事件位置纬度",
        	lon: "事件位置经度",
    	}
    	timeDetails: "事件的生效时间"{
        	startTime: "开始时间",
        	endTime: "结束时间",
    	}
	}
}
```



- 路面结冰
- 接口：
  - `safety/abnormalTraffic/lcyRoad`

```json
{
    rsuId: "rsuID",
    refPos3D: "交通警报参考位置",
    RTEList: {
    	rteId: "交通事件ID",
    	eventType: "交通事件类型-0308 交通气象_暴雪",
    	eventSource: "交通事件来源 3 meteorological department 气象部门",
    	eventPos: "事件的位置"{
        	lat: "事件位置纬度",
        	lon: "事件位置经度",
    	}
    	timeDetails: "事件的生效时间"{
        	startTime: "开始时间",
        	endTime: "结束时间",
    	}
	}
}
```



#### 3. 弯道速度预警

- 急弯路限速
- 接口：
  - `safety/slw/sharpBendLimitSpeed`

```json
{
	rsuId: "rsuID",
    rsuPosition3D: {
        lat: "纬度",
        lon: "经度",
        elevation: "海拔高程"
    },
    rtss:{
        rtsId: "交通标志ID",
        signType: "交通标准类型 2 警2 急弯路",
        signPos: "此标志位置"{
    		lat: "纬度",
        	lon: "经度",
	    },
    	referenceLinks: "本次交通标志的相关路段"{
    		upstreamNodeld: "路段的上游节点",
    		downstreamNodeld: "路段的下游节点",
		}
    }
}
```



#### 4. 限速预警

- 道路限速
- 接口：
  - `safety/slw/sharpBendLimitSpeed`

```json
{
	rsuId: "rsuID",
    rsuPosition3D: {
        lat: "纬度",
        lon: "经度",
        elevation: "海拔高程"
    },
    rtss:{
        rtsId: "交通标志ID",
        signType: "交通标准类型 2 警2 急弯路",
        signPos: "此标志位置"{
    		lat: "纬度",
        	lon: "经度",
	    },
    	referenceLinks: "本次交通标志的相关路段"{
    		upstreamNodeld: "路段的上游节点",
    		downstreamNodeld: "路段的下游节点",
		}
    }
}
```



#### 5. 匝道汇入预警

- 车辆超速
- 接口：
  - `/safety/abnormalVehicle/VehicleOverSpeed/vehicleId`
  - `/safety/abnormalVehicle/VehicleOverSpeed/vehicleCode`

  - 数据结构同异常车辆超速。



- 车辆违停
- 接口：
  - `/safety/abnormalVehicle/VehicleOverSpeed/vehicleId`
  - `/safety/abnormalVehicle/VehicleOverSpeed/vehicleCode`
  - 数据结构同异常车辆违停。



- 车流量大

- 接口：
  - `safety/`



- 交通事故
- 接口：
  - `safety/secondaryAccident/trafficAccident`

```json
{
    rsuId: "rsuID",
    rsuPosition3D:{
        lat: "纬度",
        lon: "经度",
    },
    rtes: {
        rteld: "交通事件ID",
        eventType: "交通事件类型-0101 交通事故_车辆故障 0102 交通事故_人车事故 0103 交通事故_车车事故 0104 交通事故_设施相关 0199 交通事故_其他",
        eventSource: "交通事件来源",
        eventPosition3D: {
            lat: "事件纬度",
            lon: "事件经度",
        }
    }
}
```



- 大货车预警
- 接口：
  - `safety/`



- 匝道预警
- 接口：

```json
{
    rsuId: "rsuID",
    rsuPosition3D:{
        lat: "纬度",
        lon: "经度",
    },
    rtss: {
        rtsld: "交通标志ID",
        signType: "交通标志类型",
        signPos: {
            lat: "标志纬度",
            lon: "标志经度",
        }
    }
}
```





#### 6. 匝道分流预警

- 车辆超速
- 接口：
  - `/safety/abnormalVehicle/VehicleOverSpeed/vehicleId`
  - `/safety/abnormalVehicle/VehicleOverSpeed/vehicleCode`

  - 数据结构同异常车辆超速。



- 车辆逆行
- 接口：
  - `/safety/abnormalVehicle/VehicleOverSpeed/vehicleId`
  - `/safety/abnormalVehicle/VehicleOverSpeed/vehicleCode`
  - 数据结构同异常车辆违停。



- 车流量大



- 车辆违停
- 接口：
  - `/safety/abnormalVehicle/vehicleStop/vehicleId`
  - `/safety/abnormalVehicle/vehicleStop/vehicleCode`

```json
{
    vehicleId: "车辆ID",
    vehicleCode: "车牌号",
    vehiclePosition3D:{
    	lat: "纬度",
    	lon： "经度:,
        elevation: "海拔高程"（非必填）
	},
    vehicleSpeed: "车辆速度",
    VehicleClassification: {
        basicVehicleClass: "车辆基本分类",
		fuelType: "燃料动力类型"（非必填）
    },
    vehicleStopBeginTime: "停驶开始时间",
    vehicleStopEndTime: "停驶结束时间",
}
```



#### 7. 危险路段预警

- 落石
- 接口：
  - `safety/hln/rockfall`

```json
{
	rsuId: "rsuID",
    rsuPosition3D: {
        lat: "纬度",
        lon: "经度",
        elevation: "海拔高程"
    },
    rtss:{
        rtsId: "交通标志ID",
        signType: "交通标准类型 警15 注意落石",
        signPos: "此标志位置"{
    		lat: "纬度",
        	lon: "经度",
	    },
    	referenceLinks: "本次交通标志的相关路段"{
    		upstreamNodeld: "路段的上游节点",
    		downstreamNodeld: "路段的下游节点",
		}
    }
}
```





- 横风
- 接口：
  - `safety/hln/crosswind`

```json
{
	rsuId: "rsuID",
    rsuPosition3D: {
        lat: "纬度",
        lon: "经度",
        elevation: "海拔高程"
    },
    rtss:{
        rtsId: "交通标志ID",
        signType: "交通标准类型 警16 注意横风",
        signPos: "此标志位置"{
    		lat: "纬度",
        	lon: "经度",
	    },
    	referenceLinks: "本次交通标志的相关路段"{
    		upstreamNodeld: "路段的上游节点",
    		downstreamNodeld: "路段的下游节点",
		}
    }
}
```





- 连续下坡
- 接口：
  - `safety/hln/longDescent`

```json
{
	rsuId: "rsuID",
    rsuPosition3D: {
        lat: "纬度",
        lon: "经度",
        elevation: "海拔高程"
    },
    rtss:{
        rtsId: "交通标志ID",
        signType: "交通标准类型 警6 连续下坡",
        signPos: "此标志位置"{
    		lat: "纬度",
        	lon: "经度",
	    },
    	referenceLinks: "本次交通标志的相关路段"{
    		upstreamNodeld: "路段的上游节点",
    		downstreamNodeld: "路段的下游节点",
		}
    }
}
```





#### 8. 恶劣天气预警

- 0301	雨

- 接口：

  - `safety/adverseWeather/rain`

  ```json
  {
      rsuId: "rsuID",
      refPos3D: "交通警报参考位置",
      RTEList: {
      	rteId: "交通事件ID",
      	eventType: "交通事件类型-0301 交通气象_暴雨",
      	eventSource: "交通事件来源 3 meteorological department 气象部门",
      	eventPos: "事件的位置"{
          	lat: "事件位置纬度",
          	lon: "事件位置经度",
      	}
      	timeDetails: "事件的生效时间"{
          	startTime: "开始时间",
          	endTime: "结束时间",
      	}
  	}
  }
  ```



- 0308	雪
- 接口：
  - `safety/adverseWeather/snow`

```json
{
    rsuId: "rsuID",
    refPos3D: "交通警报参考位置",
    RTEList: {
    	rteId: "交通事件ID",
    	eventType: "交通事件类型-0308 交通气象_暴雪",
    	eventSource: "交通事件来源 3 meteorological department 气象部门",
    	eventPos: "事件的位置"{
        	lat: "事件位置纬度",
        	lon: "事件位置经度",
    	}
    	timeDetails: "事件的生效时间"{
        	startTime: "开始时间",
        	endTime: "结束时间",
    	}
	}
}
```



- 0304	风
- 接口：
  - `safety/adverseWeather/wind`

```json
{
    rsuId: "rsuID",
    refPos3D: "交通警报参考位置",
    RTEList: {
    	rteId: "交通事件ID",
    	eventType: "交通事件类型-0304 交通气象_大风",
    	eventSource: "交通事件来源 3 meteorological department 气象部门",
    	eventPos: "事件的位置"{
        	lat: "事件位置纬度",
        	lon: "事件位置经度",
    	}
    	timeDetails: "事件的生效时间"{
        	startTime: "开始时间",
        	endTime: "结束时间",
    	}
	}
}
```



- 0305	雾
- 接口：
  - `safety/adverseWeather/haze`

```json
{
    rsuId: "rsuID",
    refPos3D: "交通警报参考位置",
    RTEList: {
    	rteId: "交通事件ID",
    	eventType: "交通事件类型-0305 交通气象_大雾",
    	eventSource: "交通事件来源 3 meteorological department 气象部门",
    	eventPos: "事件的位置"{
        	lat: "事件位置纬度",
        	lon: "事件位置经度",
    	}
    	timeDetails: "事件的生效时间"{
        	startTime: "开始时间",
        	endTime: "结束时间",
    	}
	}
}
```



#### 9. 二次事故预警

- 交通事故（交通事故包含车辆故障、人车事故、车车事故、设施相关、其他）
- 接口：
  - `safety/secondaryAccident/trafficAccident`

```json
{
    rsuId: "rsuID",
    rsuPosition3D:{
        lat: "纬度",
        lon: "经度",
    },
    rtes: {
        rteld: "交通事件ID",
        eventType: "交通事件类型-0101 交通事故_车辆故障 0102 交通事故_人车事故 0103 交通事故_车车事故 0104 交通事故_设施相关 0199 交通事故_其他",
        eventSource: "交通事件来源",
        eventPosition3D: {
            lat: "事件纬度",
            lon: "事件经度",
        }
    }
}
```



#### 10. 前向碰撞预警

- 车辆碰撞
- 接口：
  - `safety/fcw/vehicleId`
  - `safety/fcw/vehicleCode`

```json
{
    vehicleId: "车辆ID",
    vehicleCode: "车牌号",
    fcwBeginTime: "预警开始时间",
    fcwEndTime: "预警结束时间",
    fcwKeepTime: "预警持续时间",
    forwardVehicleMinDistance: "前向车最短距离",
    VehicleClassification: {
        basicVehicleClass: "车辆基本分类",
		fuelType: "燃料动力类型"（非必填）
    },
    brakeSystemStatus: "车辆的刹车系统状态"{
	    brakePadel: "刹车踏板状态",
    	wheelBrakes: "四轮分别的刹车状态",
    	abs: "刹车防抱死系统(ABS)状态",
    	brakeBoost: "刹车辅助系统的状态"
	},
	vehicleSafetyExtensions: {
        vehicleEventFlags: "车辆特殊标志/状态"，(参见附录C)
        pathHistoryPointList: [{
        	lat: "纬度",
        	lon: "经度",
    	},{
        	lat: "纬度",
        	lon: "经度",            
        }]
    }
}
```





#### 11. 紧急制动预警

- 紧急制动
- 接口：
  - `safety/ebw/vehicleId`
  - `safety/ebw/vehicleCode`

```json
{
    vehicleId: "车辆ID",
    vehicleCode: "车牌号",
    ebwBeginTime: "紧急制动开始时间",
    ebwEndTime: "紧急制动结束时间",
    ebwKeepTime: "紧急制动持续时间",
    ebwDistance: "紧急制动距离",
    VehicleClassification: {
        basicVehicleClass: "车辆基本分类",
		fuelType: "燃料动力类型"（非必填）
    },
    brakeSystemStatus: "车辆的刹车系统状态"{
	    brakePadel: "刹车踏板状态",
    	wheelBrakes: "四轮分别的刹车状态",
    	abs: "刹车防抱死系统(ABS)状态",
    	brakeBoost: "刹车辅助系统的状态"
	},
	vehicleSafetyExtensions: {
        vehicleEventFlags: "车辆特殊标志/状态"，(参见附录C)
        pathHistoryPointList: [{
        	lat: "纬度",
        	lon: "经度",
    	},{
        	lat: "纬度",
        	lon: "经度",            
        }]
    }
}
```



#### 12. 车辆失控预警

- 车辆失控
- 接口：
  - `safety/clw/vehicleId`
  - `safety/clw/vehicleCode`

```json
{
    vehicleId: "车辆ID",
    vehicleCode: "车牌号",
    clwBeginTime: "车辆失控开始时间",
    clwEndTime: "车辆失控结束时间",
    clwKeepTime: "车辆失控持续时间",
    clwDistance: "车辆失控距离",
    VehicleClassification: {
        basicVehicleClass: "车辆基本分类",
		fuelType: "燃料动力类型"（非必填）
    },
    brakeSystemStatus: "车辆的刹车系统状态"{
    	scs : "车辆动态稳定控制系统状态",	//● Unavailable∶系统未装备或不可用;● Of∶ 系统处于关闭状态;
									   //● On∶ 系统处于开启状态，但未触发;● Engaged∶系统被触发，处于作用状态。
	},
	vehicleSafetyExtensions: {
        vehicleEventFlags: "车辆特殊标志/状态"，(参见附录C)
        pathHistoryPointList: [{
        	lat: "纬度",
        	lon: "经度",
    	},{
        	lat: "纬度",
        	lon: "经度",            
        }]
    }
}
```





#### 13. 行人与动物闯入

- 0405	行人
- 接口：`/safety/abnormalTraffic/pedestrian`

```json
{
    rsuId: "rsuID",
    rsuPosition3D:{
        lat: "纬度",
        lon: "经度",
    },
    rtes: {
        rteld: "交通事件ID",
        eventType: "交通事件类型-0405 路面状况_人",
        eventSource: "交通事件来源",
        eventPosition3D: {
            lat: "事件纬度",
            lon: "事件经度",
        }
    }
}
```

- 0406	动物
- 接口：`/safety/abnormalTraffic/animal`

```json
{
    rsuId: "rsuID",
    rsuPosition3D:{
        lat: "纬度",
        lon: "经度",
    },
    rtes: {
        rteld: "交通事件ID",
        eventType: "交通事件类型-0406 路面状况_动物",
        eventSource: "交通事件来源",
        eventPosition3D: {
            lat: "事件纬度",
            lon: "事件经度",
        }
    }
}
```



### 3.2.2 效率

#### 1. 车内标牌

- 限速

- 接口：
  - `/efficiency/ivs/speedLimit`

```json
{
    rsuId: "rsuID",
    rsuPosition3D:{
        lat: "纬度",
        lon: "经度",
    },
    rtss: {
        rtsld: "交通标志ID",
        signType: "交通标志类型 51 禁4 禁止通行",
        signPos: {
            lat: "标志纬度",
            lon: "标志经度",
        }
    }
}
```





- 隧道
- 接口：
  - `/efficiency/ivs/tunnel`

```json
{
    rsuId: "rsuID",
    rsuPosition3D:{
        lat: "纬度",
        lon: "经度",
    },
    rtss: {
        rtsld: "交通标志ID",
        signType: "交通标志类型 21 警21 隧道",
        signPos: {
            lat: "标志纬度",
            lon: "标志经度",
        }
    }
}
```





- 连续下坡
- 接口：
  - `/efficiency/ivs/longDescent`

```json
{
    rsuId: "rsuID",
    rsuPosition3D:{
        lat: "纬度",
        lon: "经度",
    },
    rtss: {
        rtsld: "交通标志ID",
        signType: "交通标志类型 6 警6 连续下坡",
        signPos: {
            lat: "标志纬度",
            lon: "标志经度",
        }
    }
}
```





#### 2. 前方拥堵提醒

- 道路拥堵
- 接口：
  - `/efficiency/abnormalTraffic/trafficJam`

```json
{
    rsuId: "rsuID",
    rsuPosition3D:{
        lat: "纬度",
        lon: "经度",
    },
    rtes: {
        rteld: "交通事件ID",
        eventType: "交通事件类型-0707 重大事件_交通集中阻塞",
        eventSource: "交通事件来源",
        eventPosition3D: {
            lat: "事件纬度",
            lon: "事件经度",
        }
    }
}
```



#### 3. 道路施工提醒

- 道路施工
- 接口：
  - `/efficiency/abnormalTraffic/roadWork`

```json
{
    rsuId: "rsuID",
    rsuPosition3D:{
        lat: "纬度",
        lon: "经度",
    },
    rtes: {
        rteld: "交通事件ID",
        eventType: "交通事件类型-0501 道路施工_占道施工	0502 道路施工_断路施工	0599 道路施工_其他",
        eventSource: "交通事件来源",
        eventPosition3D: {
            lat: "事件纬度",
            lon: "事件经度",
        }
    }
}
```





#### 4. 限制访问预警

- 禁止通行
- 接口：
  - `efficiency/restrictAccess/noEntry`

```json
{
    rsuId: "rsuID",
    rsuPosition3D:{
        lat: "纬度",
        lon: "经度",
    },
    rtss: {
        rtsld: "交通标志ID",
        signType: "交通标志类型 51 禁4 禁止通行",
        signPos: {
            lat: "标志纬度",
            lon: "标志经度",
        }
    }
}
```





#### 5. 紧急车辆优先

- 紧急车辆避让提醒
- 接口：
  - `efficiency/abnormalVehicle/emergencyVehicle`

```json

```





#### 6. 服务信息公告

- 服务区提醒

- 接口：
  - `/ef/sia/serviceAreaWarn`

```json
{
    rsuId: "rsuID",
    rsuPosition3D:{
        lat: "纬度",
        lon: "经度",
    },
    rtss: {
        rtsld: "交通标志ID",
        signType: "交通标志类型 203 路72 服务区预告",
        signPos: {
            lat: "标志纬度",
            lon: "标志经度",
        }
    }
}
```



- ETC收费站提醒

- 接口：
  - `/ef/sia/etcTollStation`

```json
{
    rsuId: "rsuID",
    rsuPosition3D:{
        lat: "纬度",
        lon: "经度",
    },
    rtss: {
        rtsld: "交通标志ID",
        signType: "交通标志类型 198 路67 设有电子不停车收费(ETC)车道的收费站预告及收费站",
        signPos: {
            lat: "标志纬度",
            lon: "标志经度",
        }
    }
}
```



- 非ETC收费站提醒

- 接口：
  - `/ef/sia/notEtcTollStation`

```json
{
    rsuId: "rsuID",
    rsuPosition3D:{
        lat: "纬度",
        lon: "经度",
    },
    rtss: {
        rtsld: "交通标志ID",
        signType: "交通标志类型 197 路66 不设电子不停车收费(ETC)车道的收费站预告及收费站",
        signPos: {
            lat: "标志纬度",
            lon: "标志经度",
        }
    }
}
```



#### 7. 服务区车辆排队信息

- 服务区车辆排队通知(只有RSI的警告标志，包含了注意前方车辆排队，服务区车辆排队无)
- 接口：
  - `/ef/sia/serviceAreaVehicleQueue`

```json
{
    rsuId: "rsuID",
    rsuPosition3D:{
        lat: "纬度",
        lon: "经度",
    },
    rtss: {
        rtsld: "交通标志ID",
        signType: "交通标志类型 警47 注意前方车辆排队",
        signPos: {
            lat: "标志纬度",
            lon: "标志经度",
        }
    }
}
```



### 3.2.3 信息服务（信息服务类接口暂时不提供，过于复杂，国家规范二版本有这方面的要求）

#### 1. 汽车近场支付

- 停车收费和小额收费



#### 2. 动态地图

- 实时地图更新

- 接口：
  - `informationService/dynamicMap/mapUpdate`

```json
{
    map.
}
```





#### 3. 停车场泊车（服务区）引导

- 智能停车

```json
{
    ``
}
```





#### 4. 出行服务

- 智能导航





![image-20210520165143123](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210520165143123.png)

![image-20210520165155894](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210520165155894.png)





# 四、智能网联车云控平台架构

## 4.1 车路协同系统终端构成

车路协同主要涉及车端、路侧端和云端三个端口，因此，车路协同系统可被拆分为以下三个核心组成部分：车载单元（简称OBU,安装在车端）、路侧单元（简称RSU，负责传输路侧端及云端数据）和通信平台。

- 车载单元（OBU)是指安装在车辆终端的、起到增加驾驶员对行车环境和车辆运行状态感知、加强行车安全作用的单元。OBU从各类传感器和车载网络获取原始信息，并解算出车路协同应用需要的底层信息，通过信息交互传递至路侧单元。其功能包括车辆运动状态获取、行车环境信息感知、车辆定位信息获取、信息处理及管理、安全报警与预警等。
- 路侧单元（RSU)是采集当前的道路状况、交通状况等信息，通过通讯网络，将信息传递至指挥中心或路侧处理单元进行处理，在裁定相关信息后通过网络传递至车载终端，辅助驾驶员进行驾驶的单元。RSU是车路协同系统的重要组成部分，也是突破车路协同技术的关键所在。RSU的毛利率高达70-80%,是车路协业产业链中附加值最高的产品形式。
- 通信平台负责提供车-车、车-路间实时传输的信息管道，通过低延时、高可靠、快速接入的网络环境，保障车端与路侧端的信息实时交互。

![image-20210526112120790](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210526112120790.png)

## 4.2 云控平台系统架构

![image-20210526112501396](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210526112501396.png)

### 4.2.1 GIS综合展示

#### 4.2.1.1 地图底图展示

​	实现所属区域的GIS地图展示功能，高亮显示所属区域的底图，并将所属区域外的添加遮罩，添加地图区域的边缘轮廓。

- 实现地图底图的标准图层，卫星图。
- 实现高德、百度、腾讯等第三方地图服务的接入。
- 实现车道级别的高精度地图服务，用以车路协同仿真系统的功能实现。
- 实现地图的2.5D，3D效果展示。

​	参照风格如下：

![image-20210602152233472](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210602152233472.png)

#### 4.2.1.2 路网展示

​	实现所属区域的路网可视化展示，并高亮显示路网，根据道路的行政等级、技术等级以相应的图例呈现路网结构。

​	其中，根据行政等级分为：

1. 国道（国家高速公路和普通国道），简称：G

2. 省道（省级高速公路和普通省道），简称：S

3. 县道，简称：X

4. 乡道，简称：Y

5. 村道，简称：C

6. 专用公路，简称：Z

  根据公路技术等级划分为：

1. 高速公路
2. 一级公路
3. 二级公路
4. 三级公路
5. 四级公路



​	参照风格如下：

![image-20210602152633394](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210602152633394.png)



​	其中，当地图放大到最大级别时，可看到车道级别，即路段的车道数量能够呈现出来。

![image-20210602153239728](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210602153239728.png)



#### 4.2.1.3 RSU、信号灯、情报板、标志牌点位展示

​	在GIS地图上，通过可视化的方式展示RSU、信号灯、情报板、标志牌的地理位置信息，并可进行信息查看操作。

- 实现RSU、信号灯、情报板、标志牌的点位可视化展示。
- 实现点位的点击事件操作，可查看相应点位的详细信息。

- 点位要实现聚合效果，参考4.2.1.5点位地图可视化。

​	参考样式如下：

![image-20210602153543324](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210602153543324.png)



#### 4.2.1.4 交通事件可视化

- 实现交通事件的实时推送，并在地图上以可视化的方式呈现。
- 实现交通事件的多维度筛选功能，交通事件统计功能。
- 实现交通指标的可视化展示。

- 通过车辆OBU或路侧RSU单元检测到交通事件后，在地图上进行交通事件的可视化展示功能，根据事件的严重程度进行频率控制。

- 根据交通事件类型的不同，用以不同的图标进行展示。

​	参考设计风格如下：

![image-20210602155057576](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210602155057576.png)

#### 4.2.1.5 点位地图可视化

- 实现点位地图的点聚合展示。
- 当点位地图放大到最大级别，可点击相应的点位，查看详情，如RSU处有摄像头，可进行视频查看。也可查看RSU处的其他设备。



参考效果如下：

![image-20210603093143350](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210603093143350.png)

#### 4.2.1.6 发布信息可视化

- 实现发布信息可视化，如情报板的可视化，RSU广播的可视化。
- 实现地图上对发布信息的手动维护工作，即修改发布信息内容，可进行实时同步发送广播。



参考样式如下：

- 其中，点位需换成情报板或标志标牌的符号。
- 可视化界面需符合情报板、标志标牌或RSU广播内容的样式。

![image-20210603093442614](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210603093442614.png)

#### 4.2.1.7 营运车辆可视化

- GIS地图上实现车辆管理统计功能。
- 实现车辆的在线地图可视化呈现，以不同图例呈现不同类型的车辆。
- 实现车辆视频的实时位置，历史轨迹，轨迹回放功能。
- 实现车辆视频的车载摄像头视频播放功能。
- 实现车辆OBU设备上传的自动故障报警功能。
- 实现车辆实时营运和暂停的功能，即区分速度为0、车辆未启动和正在行驶车辆的监控。



参考样式如下：

- 需增加图例呈现不同样式的车。
- 需设计车辆点击后的详情界面，可查看车辆详细信息，车辆轨迹，视频，行驶里程统计。
- 需实现车辆OBU监测信息描述查看。

![image-20210603103911294](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210603103911294.png)



### 4.2.2 路网管理（库表设计还需设计）

融合高速路网结构和车路协同路网结构。

![image-20210519104742127](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210519104742127.png)

- 实现道路级别统计
- 实现节点数量统计
- 实现路段数量统计
- 实现车路协同覆盖总里程统计

#### 4.2.2.1 路线管理

​	维护所属区域的路线管理。

- 增加路线
- 删除路线
- 修改路线
- 查询路线

| 字段         | 类型         | 空   | 说明                      |
| ------------ | ------------ | ---- | ------------------------- |
| id           | VARCHAR (32) | N    | 主键                      |
| create_by    | VARCHAR (50) | Y    | 创建人                    |
| create_time  | DATETIME     | Y    | 创建日期                  |
| update_by    | VARCHAR (50) | Y    | 更新人                    |
| update_time  | DATETIME     | Y    | 更新日期                  |
| sys_org_code | VARCHAR (64) | N    | 所属部门                  |
| road_code    | VARCHAR (32) | N    | 路线编码（编号）          |
| road_name    | VARCHAR (64) | N    | 路线名称                  |
| admin_degree | VARCHAR (32) | N    | 行政等级（包括国高） 代码 |
| admin_name   | VARCHAR (32) | N    | 行政等级名称              |
| start_pile   | DECIMAL (8)  | N    | 起点桩号                  |
| end_pile     | DECIMAL (8)  | N    | 止点桩号                  |
| start_name   | VARCHAR (32) | N    | 起点名称                  |
| end_name     | VARCHAR (32) | N    | 止点名称                  |
| length       | DECIMAL (8)  | N    | 路线总里程                |
| build_date   | DATE         | N    | 建造时间                  |
| remark       | VARCHAR (50) | Y    | 备注                      |



#### 4.2.2.2 节点管理

​	节点维护管理。

- 增加节点
- 删除节点
- 修改节点
- 查询节点

| 字段          | 类型         | 空   | 说明                                                         |
| ------------- | ------------ | ---- | ------------------------------------------------------------ |
| id            | VARCHAR (32) | N    | 主键（节点ID）                                               |
| create_by     | VARCHAR (50) | Y    | 创建人                                                       |
| create_time   | DATETIME     | Y    | 创建日期                                                     |
| update_by     | VARCHAR (50) | Y    | 更新人                                                       |
| update_time   | DATETIME     | Y    | 更新日期                                                     |
| sys_org_code  | VARCHAR (64) | Y    | 所属部门                                                     |
| road_code     | VARCHAR (32) | N    | 路线编码（编号）                                             |
| node_name     | VARCHAR (32) | N    | 节点名称                                                     |
| node_type     | INT          | N    | 节点类型 1-收费站节点 2-互通节点 3-出入口节点 4-隧道节点 5-其他节点 |
| pile          | DECIMAL (8)  | N    | 节点桩号                                                     |
| lon           | DECIMAL (8)  | N    | 经度                                                         |
| lat           | DECIMAL (8)  | N    | 纬度                                                         |
| elevation     | DECIMAL (8)  | N    | 海拔高度                                                     |
| dsitrict_code | VARCHAR (64) | N    | 所在行政区 GB2260-2007                                       |
| description   | VARCHAR (64) | N    | 节点描述                                                     |
| remark        | VARCHAR (50) | Y    | 备注                                                         |

#### 4.2.2.3 路段管理

​	路段管理功能维护。

- 新增路段
- 删除路段
- 修改路段
- 查询路段

| 字段           | 类型         | 空   | 说明                                                         |
| -------------- | ------------ | ---- | ------------------------------------------------------------ |
| id             | VARCHAR (32) | N    | 主键                                                         |
| create_by      | VARCHAR (50) | Y    | 创建人                                                       |
| create_time    | DATETIME     | Y    | 创建日期                                                     |
| update_by      | VARCHAR (50) | Y    | 更新人                                                       |
| update_time    | DATETIME     | Y    | 更新日期                                                     |
| sys_org_code   | VARCHAR (64) | N    | 所属部门                                                     |
| road_code      | VARCHAR (32) | N    | 路线编号                                                     |
| start_pile     | VARCHAR (32) | N    | 路段起始桩号                                                 |
| end_pile       | VARCHAR (32) | N    | 路段止点桩号                                                 |
| start_node     | VARCHAR (32) | N    | 路段起节点                                                   |
| end_node       | VARCHAR (32) | N    | 路段止节点                                                   |
| length         | DECIMAL (8)  | N    | 路段里程 单位：公里                                          |
| lowest_speed   | DECIMAL (8)  | N    | 设计最低时速 Km/h                                            |
| highest_speed  | DECIMAL (8)  | N    | 设计最高时速 Km/h                                            |
| lane_num       | INT          | N    | 车道数                                                       |
| tranffic_flow  | INT          | N    | 交通流方向 1-双向通行 2-单向通行 3-未知                      |
| direction      | INT          | N    | 上下行标识 0-双向；1-上行；2-下行；                          |
| road_width     | DECIMAL (8)  | N    | 行车宽度 路面宽度，双 向线标识单 侧，单线标识 双向宽度       |
| road_func_type | INT          | N    | 路段功能类型 1-普通道路 2-隧道路段 3-互通路段4-深槽路段 5-轮渡水道 6-未知 |
| description    | VARCHAR (32) | N    | 路段描述                                                     |
| remark         | VARCHAR (50) | Y    | 备注                                                         |

**注：高速公路路段划分以出入口、收费站、互通立交、隧道为基础切分，对应起止点编号为相应节点ID，国省干线公路路段划分以互通立交、平面交叉口、收费站、隧道为基础切分，对应起止点编号为相应节点ID。**



#### 4.2.2.4 车道管理

车道管理功能维护。

- 新增车道
- 删除车道
- 修改车道
- 查询车道

车道属性：转向行为，被共享情况，连接情况，上下行，车道距道路中心线编号

| 字段               | 类型         | 空   | 说明                                                         |
| ------------------ | ------------ | ---- | ------------------------------------------------------------ |
| id                 | VARCHAR (32) | N    | 主键                                                         |
| create_by          | VARCHAR (50) | Y    | 创建人                                                       |
| create_time        | DATETIME     | Y    | 创建日期                                                     |
| update_by          | VARCHAR (50) | Y    | 更新人                                                       |
| update_time        | DATETIME     | Y    | 更新日期                                                     |
| sys_org_code       | VARCHAR (64) | Y    | 所属部门                                                     |
| del_flag           | VARCHAR (1)  | Y    | 删除标志 0表示未删除,1表示删除                               |
| cvis_link_id       | VARCHAR (32) | N    | 所属路段                                                     |
| lanes_num          | INT          | N    | 车道编号                                                     |
| name               | VARCHAR (64) | N    | 车道名称                                                     |
| lane_width         | DECIMAL (8)  | N    | 车道宽度                                                     |
| lane_type          | CHAR (1)     | N    | 车道类型 （下拉）                                            |
| lane_attributes    | VARCHAR (32) | N    | 车道属性                                                     |
| lane_maneuvers     | VARCHAR (32) | N    | 车道允许的转向行为 （多选下拉）                              |
| lane_share         | VARCHAR (32) | N    | 车道被共享情况（多选下拉）                                   |
| up_or_down         | CHAR (1)     | N    | 上下行（单选，上行或者下行）                                 |
| lane_center_number | INT          | N    | 车道距离道路中心线编号（单选，车道1，车道2，车道3，车道4，车道5，车道6） |



### 4.2.3 设备管理

#### 4.2.3.1 计算单元管理

- 在GIS地图上实现计算单位的可视化展示。
- 实现计算单元信息的基本维护操作，包括计算单元的添加、修改、删除和查询等操作。
- 实现计算单元的运行状态监测功能，并统计分析运行状态的原因描述信息，离线/在线比例等，故障排查分析等。



#### 4.2.3.2 RSU管理

- 实现RSU设备的基本管理，包括RSU设备的添加、修改、删除和查询等操作。
- 实现RSU设备的运行状态监测。

参考样式如下：

![image-20210603094110682](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210603094110682.png)



#### 4.2.3.3 传感器管理

- 在GIS地图上可视化方式呈现传感器，并实现相应点击事件可查看详细信息。
- 实现传感器设备的新增、修改、删除和查询等操作。
- 实现传感器设备的运行状态监测功能。

#### 4.2.3.4 信号灯管理

- 在GIS地图上可视化方式呈现信号灯，并实现信号灯的点击事件可查看信号灯的属性信息。
- 在GIS地图上实现信号灯的快速切换功能。
- 实现信号灯设备的新增、修改、删除和查询等操作。

参考样式如下：
![image-20210603094350111](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210603094350111.png)

#### 4.2.3.5 设备功能故障统计

- 实现所有故障设备的综合统计分析。

### 4.2.4 车辆管理

#### 4.2.4.1 车辆管理

- 实现车辆信息的基本维护，新增、修改、删除和查询操作。



参考如下样式：

![image-20210603094808806](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210603094808806.png)

#### 4.2.4.2 OBU管理

- 实现车辆，车辆所属OBU的关联统计管理。

参考如下样式：

![image-20210603094825269](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210603094825269.png)

### 4.2.5 车路协同场景应用

车路协同的一些安全、效率、服务类的场景，结合高速上所有的业务场景，进行相应融合，可大致融合为如下8大场景：

1. 事故区域警示
2. 紧急车辆优先通行
3. 道路危险状况提醒
4. 车辆故障上报
5. 匝道车辆汇入预警
6. 道路养护提示
7. 气象环境监测与车速引导
8. 交通标志数字化发布



这8大高速业务场景里，所形成的结果导向，都是由车路协同场景的多个场景组合而成，即车路协同的场景是过程，而应用是结果。

如前向碰撞预警、紧急制动预警、异常车辆预警、车辆失控预警、前方拥堵提醒、紧急车辆提醒，以及众多违章行为，如超速、疲劳驾驶、红眼驾驶、长时间占用超车道、驶入禁行区域、占用应急车道、违停等，都是这些小类融合成为一个高速完整的业务场景。



车路协同综合态势监测大屏里，时刻监测RSU设备和所有被RSU监测到的OBU设备的状态信息。



#### 4.2.5.1 事故区域警示

- 事故参与者车辆

根据OBU可返回的接口数据，若车辆出现前向碰撞预警，紧急制动预警，异常车辆提醒，车辆失控，道路危险状况提示，急刹车，急转弯等异常状态，云控平台立刻对该车辆进行异常状态监控，分析车辆是否存在发生交通事故。若经分析得出发生事故，立刻生成一条突发交通事故事件信息，在综合态势GIS大屏上进行动态呈现，并及时告知相关人员。



当事故发生后，由事故车辆、经过车辆的车载设备、临时警示交通标志、高速安全监控等多种数据来源向V2X车路协同平台上报事故精确地点、占用车道等事故信息，联系救援中心，并通过路侧设备（RSU)向后方来车广播推送事故信息，避免损失的扩大。





- 事故后行驶的车辆







场景描述：

1. 高速上仿真模拟发生一起交通事故。

2. 事故发生后，经事故车辆自身OBU、经过车辆的OBU设备、车辆置放的安全警示标志以及高速RSU设备的监控视频，将事故向车路协同云控平台上传，包括事故车辆的车牌号，车辆大小，事故发生时间，事故发生地点进行上报，并就事故所造成的拥堵车道进行上报。

3. 事故发生后，事故相关数据上报云控平台后，立刻紧急调度周边救援车辆赶往事故现场。

4. 云控平台自动下发指令给周边RSU设备，RSU向后方0.5公里，1公里，2公里处广播事故信息，避免二次事故发生。

   ![事故](D:\projects\hx_doc\车路协同-高速综合态势监测\事故.gif)

   需要实时获取周边车辆的OBU，需要获取事故周边所有的RSU设备。

   可以查看车辆的视频，轨迹，轨迹回放。

   提供车辆事故前10分钟的运行状态仿真信息，给保险行业提供支持。

   

#### 4.2.5.2 紧急车辆优先通行

当发生事故后，经由事故区域警示，然后调度周边紧急车辆进行救援，并通过路侧设备、标志标牌等广播推送事故信息，广播推送紧急车辆优先通行事情。

场景描述：

1. 经交通事故场景后，调度周边紧急救援车辆赶往现场。
2. 云控平台下发紧急车辆优先通行指令给路侧RSU。
3. RSU广播给周边OBU车辆，迅速让出快车道，让救援车辆能够快速赶往现场。



#### 4.2.5.3 道路危险状况提醒

交通管理部门对特定路段进行道路危险状况事件下发，包括：道路施工、大雾、雨雪、滑坡等。

当车辆行驶至事件推送范围内路段，智能路侧单元对车辆进行预警，提醒驾驶员谨慎驾驶。



限速提醒/超速告警：交通管理部门对特定路段进行限速下发，当车辆行驶过程中，超出该路段限定速度，智能路侧单元对车辆进行预警，提醒驾驶员减速行驶，适用于普通道路及高速公路等有限速的道路。



#### 4.2.5.4 车辆故障上报

结合车载设备，在故障发生时自动上报车辆故障信息和位置信息等，为故障车辆提供汽车维修和拖车服务，通过V2X车路协同平台传输至智能路侧单元，同步向周围车辆广播前方车辆故障，避免二次险情。

场景描述：

1. 车载设备OBU实时向云控平台发送车辆运行状态信息。
2. 当车辆发生故障后，云控平台实时监测到车辆故障信息，立即进行告警，上报车辆实时位置信息。
3. 服务类消息：提供周边汽车维修和拖车服务的相关联系方式。
4. 将故障车辆的信息通过RSU向周边其他OBU车辆扩散，防止造成车辆事故。



#### 4.2.5.5 匝道车辆汇入预警

车辆在高架或高速道路上正常行驶并接近匠道时，智能路侧单元将匝道汇入的车辆信息发送给直行车辆终端，对直行车辆驾驶员进行提醒，避免碰撞事故的发生。

场景描述：

1. 车辆从高速入口进入高速时，或车辆从服务区、加油站离开时，会进入匝道。
2. 当从匝道驶出时，需与高速上正在行驶的车辆进行交互。
3. RSU将匝道处和高速道路上的车辆进行广播，对高速道路上直行的驾驶员进行提醒，避免发生交通事故。



#### 4.2.5.6 道路养护提示

结合高精度定位、一键事件上报、警示安全锥桶、警示三角牌等，通过对传统的交通安全设施进行物联网化改造，并与APP数据平台无缝对接，实现道路施工和封闭管制信息的实时精准采集和发布，提升用户出行效率和安全水平。



#### 4.2.5.7 气象环境监测与车速引导

依托高速部分路段的气象监测站，将检测到的环境条件（如雨、团雾、沙尘）气象信息上报V2X平台，按照事先设定的原则变换限速值，同时将变化的限速值通过APP或者OBU发送给车辆，结合已有的视频监控分析部分路段车流量情况，通过可变限速标牌、信息提示屏等，对车辆进行车速引导。

场景描述：

1. 对高速部分行车路段，通过其气象监测站监测到的环境条件，实时上报给云控平台。
2. 云控平台根据气象信息，进行限速调整，将限速信息下发给APP，或者下发给OBU，或者下发给RSU，RSU进行广播。
3. 对拥堵路段，可通过车速诱导，疏通交通压力。



#### 4.2.5.8 交通标志数字化发布

交通标志摆脱实体的束缚，以数字化的形态存在于道路交通环境中。每一块标志都会有一个唯一的身份识别码（类似人的身份证号码）,通过无线广播的方式向道路上行驶的车辆发送识别码，车载设备通过解码获取标志的内容，从而采取相应的措施。同时可以拓展标线数字化、信号数字化、护栏数字化等，从而构建一个数字化的道路交通环境，基于此来实现车路协同。



### 4.2.6 运行监测

#### 4.2.6.1 设备监测

##### 1. 基础设施运行状态监测

- 实现桥梁、隧道、边坡等的运行状态监测，通过RSU设备进行监测。

##### 2. 事件检测器检测

- 实现RSU设备检测到的事件信息监测。

##### 3. 情报板发布监测

- 实现情报板发布信息的监测。

#### 4.2.6.2 运行监测

- OBU对车辆的运行状态监测，保卡车辆的加速度、转弯行为，违章行为，违法行为，驾驶行为分析，速度等的监测。
- OBU、RSU的交通量统计监测。

#### 4.2.6.3 气象监测

- 实现气象检测器设备监测到的气象管理。
- 对接第三方气象平台的气象监测管理，进行危险天气的预警，下发情报板，下发用户APP，互联网发布，高速入口发布，RSU广播发布等。

### 4.2.7 监控管理

- 实现全区域的所有视频的监控管理，所有车载视频的视频监控管理。
- 实现RSU实时监控信息的监控管理，统计管理。
- 实现平台数据量实时监控。

- 实现交通交通管控信息录入。
- 道路交通状况录入。
- 道路交通事件录入。
- 管控类型管理。
- 管控信息录入。

### 4.2.8 用户管理

- 实现用户的新增、删除、修改和查询功能。
- 实现用户角色的新增、删除、修改和查询功能，实现用户角色权限的分配和修改。
- 实现用户部门的新增、删除、修改和查询功能，实现用户部门的分配和修改。

## 4.3 技术架构

### 4.3.1 车路协同解决方案部署架构图

![image-20210525165228034](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210525165228034.png)



### 4.3.2 技术架构

​	主要会使用的技术方案有：

#### 4.3.2.1 物联网平台

- 物联网平台：统一设备接入，海量设备管理，

参考物联网平台架构图：

![platform](http://doc.jetlinks.cn/assets/img/platform.1c4782ae.svg)

参考设备接入流程：

![flow](http://doc.jetlinks.cn/assets/img/device-flow.ab1da967.svg)

#### 4.3.2.2 大数据平台

- 大数据平台搭建、算法分析、大数据运维，大数据组件优化。TCP/UDP/MQTT/HTTP、TLS/DLS、不同厂商、不同设备、不同报文、统一接入，统一管理。

![大数据架构](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%9E%B6%E6%9E%84.png)

OBU、RSU设备的协议数据—–>Kafka—->Spark消费Kafka的数据，进行计算分析，状态用redis进行存储标识——>Postgre用于一些GIS的计算—->结果集，可用于报表，大屏，接口提供等等。

#### 4.3.2.3 高精度地图

![image-20210521110604984](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210521110604984.png)

主要应用：

![image-20210603112248982](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210603112248982.png)



#### 4.3.2.4 仿真系统平台

车路协同系统是一种功能复杂的大系统，进行系统功能仿真测试是系统投入运营前的必备环节。因此，针对车路协同运行控制系统的功能测试需求，建立可视化的仿真平台以支持系统的全面、高效、可重复测试。

![image-20210603113915972](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210603113915972.png)

##### 1. 车路协同典型场景建模

在车路协同系统进行多车仿真时，车车信息交互模型将模拟车辆之间的信息交互。

![image-20210603114020588](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210603114020588.png)

#### 4.3.2.5 数字孪生平台

产品的最后最优秀的呈现和解决方案，就是彻底实现车路协同的数字孪生平台，将车路协同的所有应用场景以数字孪生的方式进行呈现。



# 附录A	车辆分类字典

| 编号 | 类型                                                 |
| ---- | ---------------------------------------------------- |
| 0    | 未知车辆类型，（未装备，未知或不可用）               |
| 1    | 特殊车辆类型，（特殊用途）                           |
| 10   | 乘用车类型未知                                       |
| 11   | 其他乘用车类型                                       |
| 20   | 轻型卡车车辆类型未知                                 |
| 21   | 其他类型轻型卡车，（卡车，各种轴类型，包括HPMS项目） |
| 25   | 卡车类型未知                                         |
| 26   | 卡车类型-其他类型                                    |
| 27   | 双轴，单组六个轮胎                                   |
| 28   | 三轴，单个单元                                       |
| 29   | 四轴或四轴以上，单个装置                             |
| 30   | 四轴或四轴以下，单拖车                               |
| 31   | 五轴或五轴以下，单拖车                               |
| 32   | 六轴或六轴以上，单拖车                               |
| 33   | 五轴或五轴以下，多拖车                               |
| 34   | 六轴，多拖车                                         |
| 35   | 七轴或七轴以下，多拖车                               |
| 40   | 摩托车-类型未知                                      |
| 41   | 摩托车-其它类型                                      |
| 42   | 摩托车-标准警察巡逻车                                |
| 43   | 摩托车-无包装运动                                    |
| 44   | 摩托车-运动旅游                                      |
| 45   | 摩托车-超级运动                                      |
| 46   | 摩托车-旅行车                                        |
| 47   | 摩托车-三轮车                                        |
| 48   | 摩托车-乘客                                          |
| 50   | 运输-类型未知                                        |
| 51   | 运输-其它类型                                        |
| 52   | 运输-快速公交                                        |
| 53   | 运输-特快公交                                        |
| 54   | 运输-本地公交                                        |
| 55   | 运输-校车                                            |
| 56   | 运输-固定导轨                                        |
| 57   | 运输-辅助                                            |
| 58   | 运输-辅助救护车                                      |
| 60   | 应急车辆-类型未知                                    |
| 61   | 应急车辆-其它类型                                    |
| 62   | 应急车辆-消防轻型消防车                              |
| 63   | 应急车辆-消防重型消防车                              |
| 64   | 应急车辆-消防护理人员车                              |
| 65   | 应急车辆-消防救护车                                  |
| 66   | 应急车辆-警用轻型车辆                                |
| 67   | 应急车辆-警用重型车辆                                |
| 68   | 其它应急车辆-应答器                                  |
| 69   | 其它应急车辆-救护车                                  |
| 80   | 其它移动式起重机-类型未知                            |
| 81   | 其它移动式起重机-其它类型                            |
| 82   | 其他行人                                             |
| 83   | 其它移动式起重-机视觉障碍                            |
| 84   | 其它移动式起重机-身体残疾                            |
| 85   | 其它移动式起重机-自行车                              |
| 86   | 其它移动式起重机-弱势道路工人                        |
| 90   | 基础结构-类型未知                                    |
| 91   | 基础设施-固定                                        |
| 92   | 基础设施-可移动                                      |
| 93   | 配备拖车                                             |

# 附录B 限速类型字典

| 编码                                       | 类型                       |
| ------------------------------------------ | -------------------------- |
| unknown                                    | 限速类型不可用             |
| maxSpeedInSchoolZone                       | 学校区域最高速度           |
| maxSpeedInSchoolZoneWhenChildrenArePresent | 孩子在场时学校区域最高速度 |
| maxSpeedlnConstructionZone                 | 施工区域最高速度           |
| vehicleMinSpeed                            | 车辆最小速度               |
| vehicleMaxSpeed                            | 车辆最大速度               |
| vehicleRegulatorySpeed                     | 一般交通管制限速           |
| vehicleNightMaxSpeed                       | 车辆夜间最大速度           |
| truckMinSpeed                              | 卡车最小速度               |
| truckMaxSpeed                              | 卡车最大速度               |
| truckNightMaxSpeed                         | 卡车夜间最大速度           |
| vehiclesWithTrailersMinSpeed               | 带拖盘的车辆最小速度       |
| vehiclesWithTrailersMaxSpeed               | 带拖盘的车辆最大速度       |
| vehiclesWithTrailersNightMaxSpeed          | 带拖盘的车辆夜间最大速度   |

# 附录C 车辆特殊标志/状态

| 类型                               | 标志/状态                                                    |
| ---------------------------------- | ------------------------------------------------------------ |
| eventHazardLights(0)               | 车辆警示灯亮起                                               |
| eventStopLineViolation(1)          | 车辆在到达路口前预测自己可能会来不及刹车而越过停止线         |
| intersectionViolation              | 交叉口违规                                                   |
| eventABSactivated(2)               | ABS 系统被触发并超过 100 毫秒                                |
| eventTractionControlLoss (3)       | 牵引力控制系统被触发并超过100 毫秒                           |
| eventStabilityControlactivated (4) | 车身稳定控制系统被触发并超过 100毫秒                         |
| eventHazardousMaterials (5)        | 危险品运输车                                                 |
| eventReserved1 (6)                 | 保留1                                                        |
| eventHardBraking (7)               | 车辆急刹车，并且减速度大于0.4g，g为重力加速度典型值9.80665m/s³² |
| eventLightsChanged (8)             | 过去2 秒内，车灯状态改变                                     |
| eventWipersChanged (9)             | 过去2秒内，车辆雨刷（前窗或后窗）状态改变                    |
| eventFlatTire (10)                 | 车辆发现至少1 个轮胎爆胎了                                   |
| eventDisabledVehicle(11)           | 车辆故障，无法行驶                                           |
| eventAirBagDeployment (12)         | 至少1个安全气囊弹出                                          |

# 附录D 交通标志类型参考

## --警告标志

-- 1 警1 交叉路口

-- 2 警2 急弯路

-- 3 警3 反向弯路

-- 4 警4 连续弯路

-- 5 警5 陡坡

-- 6 警6 连续下坡

-- 7 警7 窄路

-- 8 警8 窄桥

-- 9 警9 双向交通

-- 10 警10 注意行人

-- 11 警11 注意儿童

-- 12 警12 注意牲畜

-- 13 警13 注意野生动物

-- 14 警14 注意信号灯

-- 15 警15 注意落石

-- 16 警16 注意横风

-- 17 警17 易滑

-- 18 警18 傍山险路

-- 19 警19 堤坝路

-- 20 警20 村庄

-- 21 警21 隧道

-- 22 警22 渡口

-- 23 警23 驼峰桥

-- 24 警24 路面不平

-- 25 警25 路面高突

-- 26 警26 路面低佳

-- 27 警27 过水路面

-- 28 警28 有人看守铁路道口

-- 29 警29 无人看守铁路道口

-- 30 警30 叉形符号

-- 31 警31 斜杠符号

-- 32 警32 注意非机动车

-- 33 警33 注意残疾人

-- 34 警34 事故易发路段

-- 35 警35 慢行

-- 36 警36 注意障碍物

-- 37 警37 注意危险

-- 38 警38 施工

-- 39 警39 建议速度

-- 40 警40 隧道开车灯

-- 41 警41 注意潮汐车道

-- 42 警42 注意保持车距

-- 43 警43 注意分离式道路

-- 44 警44 注意合流

-- 45 警45 避险车道

-- 46 警46 注意路面结冰、注意雨(雪)天、注意雾天、注意不利气象条件

-- 47 警47 注意前方车辆排队

## --禁令标志

-- 48 禁1 停车让行

-- 49 禁2 减速让行

-- 50 禁3 会车让行

-- 51 禁4 禁止通行

-- 52 禁5 禁止驶入

-- 53 禁6 禁止机动车驶入

-- 54 禁7 禁止载货汽车驶入

-- 55 禁8 禁止电动三轮车驶人

-- 56 禁9 禁止大型客车驶入

-- 57 禁10 禁止小型客车驶入

-- 58 禁11 禁止挂车、半挂车驶入

-- 59 禁12 禁止拖拉机驶入

-- 60 禁13 禁止三轮汽车、低速货车驶入

-- 61 禁14 禁止摩托车驶入

-- 62 禁15 禁止某两种车驶入

-- 63 禁16 禁止非机动车进入

-- 64 禁17 禁止畜力车进入

-- 65 禁18 禁止人力客运三轮车进入

-- 66 禁19 禁止人力货运三轮车进入

-- 67 禁20 禁止人力车进人

-- 68 禁21 禁止行人进入

-- 69 禁22 禁止向左转弯

-- 70 禁23 禁止向右转弯

-- 71 禁24 禁止直行

-- 72 禁25 禁止向左向右转弯

-- 73 禁26 禁止直行和向左转弯

-- 74 禁27 禁止直行和向右转弯

-- 75 禁28 禁止掉头

-- 76 禁29 禁止超车

-- 77 禁30 解除禁止超车

-- 78 禁31 禁止停车

-- 79 禁32 禁止长时停车

-- 80 禁33 禁止鸣喇叭

-- 81 禁34 限制宽度

-- 82 禁35 限制高度

-- 83 禁36 限制质量

-- 84 禁37 限制轴重

-- 85 禁38 限制速度

-- 86 禁39 解除限制速度

-- 87 禁40 停车检查

-- 88 禁41 禁止运输危险物品车辆驶人

-- 89 禁42 海关

-- 90 禁43 区域限制速度

-- 91 禁44 区域限制速度解除

-- 92 禁45 区域禁止长时停车

-- 93 禁46 区域禁止长时停车解除

-- 94 禁47 区域禁止停车

-- 95 禁48 区域禁止停车解除

## --指示标志

-- 96 示1 直行

-- 97 示2 向左转弯

-- 98 示3 向右转弯

-- 99 示4 直行和向左转弯

-- 100 示5 直行和向右转弯

-- 101 示6 向左和向右转弯

-- 102 示7 靠右侧道路行驶

-- 103 示8 靠左侧道路行驶

-- 104 示9 立体交直行和左转弯行驶

-- 105 示10 立体交直行和右转弯行驶

-- 106 示11 环岛行驶

-- 107 示12 单行路(向左或向右)

-- 108 示13 单行路(直行)

-- 109 示14 步行

-- 110 示15 鸣喇叭

-- 111 示16 最低限速

-- 112 示17 路口优先通行

-- 113 示18 会车先行

-- 114 示19 人行横道

-- 115 示20 右转车道

-- 116 示21 左转车道

-- 117 示22 直行车道

-- 118 示23 直行和右转合用车道

-- 119 示24 直行和左转合用车道

-- 120 示25 掉头车道

-- 121 示26 掉头和左转合用车道

-- 122 示27 分向行驶车道

-- 123 示28 公交线路专用车道

-- 124 示29 机动车行驶

-- 125 示30 机动车车道

-- 126 示31 非机动车行驶

-- 127 示32 非机动车车道

-- 128 示33 快速公交系统专用车道

-- 129 示34 多乘员车辆专用车道

-- 130 示35 停车位

-- 131 示36 允许掉头

## --指路标志

-- 132 路1 四车道及以上公路交又路口预告

-- 133 路2 大交通量的四车道以上公路交叉路口预告

-- 134 路3 箭头杆上标识公路编号、道路名称的公路交又路口预告

-- 135 路4 十字交叉路口

-- 136 路5 丁字交叉路口

-- 137 路6 Y型交叉路口

-- 138 路7 环形交叉路口

-- 139 路8 互通式立体交叉

-- 140 路9 分岔处

-- 141 路10 国道编号

-- 142 路11 省道编号

-- 143 路12 县道编号

-- 144 路13 乡道编号

-- 145 路14 街道名称

-- 146 路15 路名牌

-- 147 路16 地点距离

-- 148 路17 地名

-- 149 路18 著名地点

-- 150 路19 行政区划分界

-- 151 路20 道路管理分界

-- 152 路21 地点识别

-- 153 路22 停车场

-- 154 路23 错车通

-- 155 路24 人行天桥

-- 156 路25 人行地下通道

-- 157 路26 残疾人专用设施

-- 158 路27 观景台

-- 159 路28 应急难设施(场所)

-- 160 路29 休息区

-- 161 路30 绕行

-- 162 路31 此路不通

-- 163 路32 车道数变少

-- 164 路33 车道数增加

-- 165 路34 交通监控设备

-- 166 路35 隧道出口距离预告

-- 167 路36 基本单元

-- 168 路37 组合使用

-- 169 路38 两侧通行

-- 170 路39 右侧通行

-- 171 路40 左侧通行

-- 172 路41 入口预告

-- 173 路42 地点、方向

-- 174 路43 编号

-- 175 路44 命名编号

-- 176 路45 路名

-- 177 路46 地点距离

-- 178 路47 城市区域多个出口时的地点距离

-- 179 路48 下一出口预告

-- 180 路49 出口编号

-- 181 路50 右侧出口预告

-- 182 路51 左侧出口预告

-- 183 路52 出口标志及出口地点方向

-- 184 路53 高速公路起点

-- 185 路54 终点预告

-- 186 路55 终点提示

-- 187 路56 国家高速公路、省级高速公路终点

-- 188 路57 道路交通信息

-- 189 路58 里程牌

-- 190 路59 百米牌

-- 191 路60 停车领卡

-- 192 路61 车距确认

-- 193 路62 特殊天气建议速度

-- 194 路63 紧急电话

-- 195 路64 电话位置指示

-- 196 路65 教援电话

-- 197 路66 不设电子不停车收费(ETC)车道的收费站预告及收费站

-- 198 路67 设有电子不停车收费(ETC)车道的收费站预告及收费站

-- 199 路68 ETC车道指示

-- 200 路69 计重收费

-- 201 路70 加油站

-- 202 路71 紧急停车带

-- 203 路72 服务区预告

-- 204 路73 停车区预告

-- 205 路74 停车场预告

-- 206 路75 停车场

-- 207 路76 爬坡车道

-- 208 路77 超限超载检测站

-- 209 路78 设置在指路标志版面中的方向

-- 210 路79 设置在指路标志版面外的方向

## --旅游区标志

-- 211 旅1 旅游区距离

-- 212 旅2 旅游区方向

-- 213 旅3 问讯处

-- 214 旅4 徒步

-- 215 旅5 索道

-- 216 旅6 野营地

-- 217 旅7 营火

-- 218 旅8 游戏场

-- 219 旅9 骑马

-- 220 旅10 钓鱼

-- 221 旅11 高尔夫球

-- 222 旅12 潜水

-- 223 旅13 游泳

-- 224 旅14 划船

-- 225 旅15 冬季游览区

-- 226 旅16 滑雪

-- 227 旅17 滑冰

## --其它标志

###  --辅助标志

-- 228 辅1 时间范围

-- 229 辅2 除公共汽车外

-- 230 辅3 机动车

-- 231 辅4 货车

-- 232 辅5 货车、拖拉机

-- 233 辅6 私人专属

-- 234 辅7 行驶方向标志

-- 235 辅8 向前200m

-- 236 辅9 向左100m

-- 237 辅10 向左、向右各50m

-- 238 辅11 向右100m

-- 239 辅12 某区域内

-- 240 辅13 距离某地200m

-- 241 辅14 长度

-- 242 辅15 学校

-- 243 辅16 海关

-- 244 辅17 事故

-- 245 辅18 塌方

-- 246 辅19 教练车行驶路线

-- 247 辅20 驾驶考试路线

-- 248 辅21 校车停靠站点

-- 249 辅22 组合辅助

# 附件E 交通事件类型参考

【定义】 

　　定义道路交通事件的类型，参考附录A。

　　其中，道路交通事件包括恶劣天气、异常路况和异常车况。GB/T 29100-2012中定义的事件分类代码作为该值的千位和百位，交通事件分类顺序码作为该值的十位和个位。

【ASN.1 代码】 

EventType ::= INTEGER (0. .65535)

-- Traffic event type according to AppendixA and China GB/T 29100-2012

--交通事件类型遵照附录A和中国GB/T 29100-2012

## --0100 交通事故_无

--0101 交通事故_车辆故障

--0102 交通事故_人车事故

--0103 交通事故_车车事故

--0104 交通事故_设施相关

--0199 交通事故_其他

## --0200 交通灾害_无

--0201 交通灾害_车辆火灾

--0202 交通灾害_路面火灾

--0203 交通灾害_路边火灾

--0204 交通灾害_隧道火灾

--0205 交通灾害_道路设施火灾

--0206 交通灾害_地址灾害

--0207 交通灾害_水灾

--0299 交通灾害_其他

## --0300 交通气象_无

--0301 交通气象_暴雨

--0302 交通气象_冰雹

--0303 交通气象_雷电

--0304 交通气象_大风

--0305 交通气象_大雾

--0306 交通气象_高温

--0307 交通气象_干旱

--0308 交通气象_暴雪

--0309 交通气象_寒潮

--0310 交通气象_霜冻

--0311 交通气象_霾

--0399 交通气象_其他

## --0400 路面状况_无

--0401 路面状况_散乱物体

--0402 路面状况_液体

--0403 路面状况_机油泄露

--0404 路面状况_道路障碍

--0405 路面状况_人

--0406 路面状况_动物

--0407 路面状况_积水

--0408 路面状况_湿滑

--0409 路面道路结冰状况_

--0499 路面状况_其他

## --0500 道路施工_无

--0501 道路施工_占道施工

--0502 道路施工_断路施工

--0599 道路施工_其他

## --0600 活动_无

--0601 活动_文体商业活动

--0602 活动_外交政务活动

--0699 活动_其他

## --0700 重大事件_无

--0701 重大事件_燃气事故

--0702 重大事件_化学污染

--0703 重大事件_核事故

--0704 重大事件_爆炸

--0705 重大事件_电力事故

--0706 重大事件_公共暴力

--0707 重大事件_交通集中阻塞

--0799 重大事件_其他

## --0900 其他_无

--0999 其他_其他

