- [自动驾驶规划概述_whuzhang16的博客-CSDN博客_自动驾驶规划](https://blog.csdn.net/whuzhang16/article/details/108312102)

[自动驾驶](https://so.csdn.net/so/search?q=自动驾驶&spm=1001.2101.3001.7020)的规划模块一般分为三层：任务规划、行为规划和动作规划，也有称为路由寻径、行为决策和局部规划。对应我们日常出行，通常会先打开导航软件，找到出发地和目的地之间的路线（路由寻径），然后在沿着导航路径行驶的过程中，针对遇到的不同交通状况决定是停车还是超车或是其他行为，最后根据上一步的决定重新规划一条局部路径执行上步的动作。

## **一、任务规划**

是属于相对顶层、全局的[路径规划](https://so.csdn.net/so/search?q=路径规划&spm=1001.2101.3001.7020)，如起始点之间的路径选择。

可以把道路系统简化成**有向图网络**（Directed Graph Network），这个有向图网络能够表示道路和道路之间的连接情况、通行规则、道路信息等，其本质上就是上文提到的高精地图的“语义”部分，这个有向图网络也被称为**路网图**（Route Network Graph）

![img](https://img-blog.csdnimg.cn/20200830223253567.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dodXpoYW5nMTY=,size_16,color_FFFFFF,t_70)

上述路网图中的每一条边都是带有权重的，因此，自动驾驶车辆的路径规划问题就可以转化为在路网图中，为了让车辆到达某个目的地，基于某种方法和原则选取最优路径的过程，规划问题就演变成了一个有向图搜索问题。传统算法如迪克斯特朗算法（Dijkstra's Algorithm）、A*算法（A* Algorithm）、D*算法等，主要用于计算离散图的最优路径搜索，被广泛应用于搜索路网图中代价最小路径的场景中。

## **二、行为规划**

也被称为行为决策、决策制定，其主要任务是根据路由寻径规划的目标和对当前环境的感知（如行人、周围车辆的位置、状态，信号灯状态等），做出下一步自动驾驶车辆需要执行的决策和动作，可以把这一层模块所起的作用理解为驾驶员的决策系统，驾驶员根据行驶目的地和当前交通状况决定是跟车还是超车、是停车还是绕过......

行为规划实现的一种方法是使用包含大量动作短语的复杂有限状态机（Finite State Machine, FSM）。有限状态机即从一个简单的起始状态出发，根据不同的驾驶场景跳转到不同的动作状态，同时将要执行的动作传递给下层的动作规划层。[深入浅出理解有限状态机](https://zhuanlan.zhihu.com/p/46347732)

虽然有限状态机（FSM）是目前自动驾驶系统采用的主流行为决策方法，但它仍存在很多局限性：

首先，要实现复杂的行为决策，需要人工设计大量有效的状态；

其次，车辆有可能会遇到FSM没有考虑过的状态，因此状态机的扩展也成为问题；

另外，如果FSM没有设计死锁保护，车辆可能会陷入某种死锁状态。

## **三、动作规划**

是指通过规划一系列执行动作以达到某种目的（如避障）的处理过程。通常来说，有两个指标可用来考量动作规划算法的性能：计算效率（Computational Efficiency）和完整性（Completeness）。计算效率即完成一次动作规划的计算处理效率，动作规划算法的计算效率在很大程度上取决于配置空间（Configuration Space）。如果一个动作规划算法能够在问题有解的情况下在有限时间内返回一个解，并且能在无解的情况下返回无解，那么就称该动作规划算法是完整的。