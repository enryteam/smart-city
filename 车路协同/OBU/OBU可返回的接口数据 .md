[TOC]
# 一、场景:前向碰撞预警
## 1.1 单位时间内向前碰撞预警地图展示
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号查询向前碰撞预警分布的经纬度

查询参数：时间事件：可选；参考位置：可选；车牌号：可选

返回的数据：
```json
# 返回类型：集合
# 主要字段：
# warn示例消息：
{
    "_id" : ObjectId("5ffd51d44e179564f06ee943"),
    "warn" : {
        "type" : 1,//消息类型  1
        { 
          "pos":{ //本车位置
          "lon":1121234567,
          "lat":281234567,
          "alt":1561 //可选
         },
        "speed":1263, //本车速度。
        "dist":1425, //与前车距离。
}
    },
    "ID" : "LF-931UP",  //车牌号
    "tm" : 1610437076   //消息发送时间
}
```

## 1.2 单位时间内向前碰撞预警消息总数
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号查询障碍物提醒消息总数

查询参数：时间事件：可选；参考位置：可选；车牌号：可选

返回的数据：返回类型：int 主要字段：总数：

# 二、场景:盲区预警
## 2.1 单位时间内盲区预警地图展示
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号查询盲区预警分布的经纬度

查询参数：时间事件：可选；参考位置：可选；车牌号：可选

返回的数据：
```json
返回类型：集合
主要字段：
warn示例消息：
{
    "_id" : ObjectId("5ffd51d44e179564f06ee943"),
    "warn" : {
        "type" : 4,//消息类型  4
        { 
          "pos":{ //本车位置
          "lon":1121234567,
          "lat":281234567,
          "alt":1561 //可选
         },
        "speed":1263, //本车速度。
        "head":263, //本车方向。
        "distV":1425, //与旁车的纵向距离。
        "distH":1425, //与旁车的横向距离。
}
    },
    "ID" : "LF-931UP",  //车牌号
    "tm" : 1610437076   //消息发送时间
}
```

## 2.2 单位时间内盲区预警消息总数
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号查询盲区预警消息总数

查询参数：时间事件：可选;参考位置：可选;车牌号：可选

返回的数据：返回类型：int 主要字段：总数：

# 三、场景:变道预警
## 3.1 单位时间内变道预警地图展示
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号查询变道预警分布的经纬度

查询参数：时间事件：可选;参考位置：可选;车牌号：可选

返回的数据：
```json
返回类型：集合
主要字段：
warn示例消息：
{
    "_id" : ObjectId("5ffd51d44e179564f06ee943"),
    "warn" : {
        "type" : 18,//消息类型  18
        { 
          "pos":{ //本车位置
          "lon":1121234567,
          "lat":281234567,
          "alt":1561 //可选
         },
        "speed":1263, //本车速度。
        "head":263, //本车方向。
        "distV":1425, //与旁车的纵向距离。
        "distH":1425, //与旁车的横向距离。
}
    },
    "ID" : "LF-931UP",  //车牌号
    "tm" : 1610437076   //消息发送时间
}
```

## 3.2 单位时间内变道预警消息总数
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号查询变道预警消息总数

查询参数：时间事件：可选;参考位置：可选;车牌号：可选

返回的数据：返回类型：int 主要字段：总数：

# 四、场景:紧急制动预警
## 4.1 单位时间内紧急制动预警地图展示
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号查询紧急制动预警分布的经纬度

查询参数：时间事件：可选;参考位置：可选;车牌号：可选

返回的数据：
```json
# 返回类型：集合
# 主要字段：
# warn示例消息：
{
    "_id" : ObjectId("5ffd51d44e179564f06ee943"),
    "warn" : {
        "type" : 6,//消息类型  6
        { 
          "pos":{ //本车位置
          "lon":1121234567,
          "lat":281234567,
          "alt":1561 //可选
         },
        "speed":1263, //本车速度。
       "dist":1425, //与前车距离。
       "acc":234 //前车加速度。
}
    },
    "ID" : "LF-931UP",  //车牌号
    "tm" : 1610437076   //消息发送时间
}
```

## 4.2 单位时间内紧急制动预警消息总数
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号查询紧急制动预警消息总数

查询参数：时间事件：可选;参考位置：可选;车牌号：可选

返回的数据：返回类型：int 主要字段：总数：

# 五、场景:异常车辆提醒
## 5.1 单位时间内异常车辆提醒地图展示
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号查询异常车辆提醒分布的经纬度

查询参数：时间事件：可选;参考位置：可选;车牌号：可选

返回的数据：
```json
# 返回类型：集合
# 主要字段：
#warn示例消息：
{
    "_id" : ObjectId("5ffd51d44e179564f06ee943"),
    "warn" : {
        "type" : 7,//消息类型  7
        {
          "pos":{ //本车位置
          "lon":1121234567,
          "lat":281234567,
          "alt":1561 //可选
         },
        "speed":1263, //本车速度。
        "dist":1425, //与前车距离。
      } 
    },
    "ID" : "LF-931UP",  //车牌号
    "tm" : 1610437076   //消息发送时间
}
```

## 5.2 单位时间内异常车辆提醒消息总数
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号查询异常车辆提醒消息总数

查询参数：时间事件：可选;参考位置：可选;车牌号：可选

返回的数据：返回类型：int 主要字段：总数：

# 六、场景:车辆失控
## 6.1 单位时间内车辆失控提醒地图展示
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号查询车辆失控分布的经纬度

查询参数：时间事件：可选;参考位置：可选;车牌号：可选;危险类型 ：可选

返回的数据：
```json
# 返回类型：集合
# 主要字段：
# warn示例消息：
{
    "_id" : ObjectId("5ffd51d44e179564f06ee943"),
    "warn" : {
        "type" : 8,//消息类型  8
        { 
          "pos":{ //本车位置
          "lon":1121234567,
          "lat":281234567,
          "alt":1561 //可选
         },
       "speed":1263, //本车速度。
       "dist":1425, //与前车距离。
       "acc":234, //本车加速度。
       "type":12 //前车失控类型
      }
    },
    "ID" : "LF-931UP",  //车牌号
    "tm" : 1610437076   //消息发送时间
}
```
备注：
```
危险类型：
4 ABS 系统异常
8 电子系统控制牵引力异常
16 车身稳定控制
```

## 6.2 单位时间内车辆失控消息总数
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号查询车辆失控提醒消息总数

查询参数：时间事件：可选;参考位置：可选;车牌号：可选;危险类型 ：可选

返回的数据：返回类型：int 主要字段：总数：

# 七、场景:道路危险状况提示
## 7.1 单位时间内道路危险状况提示提醒地图展示
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号查询车辆失控分布的经纬度

查询参数：时间事件：可选;参考位置：可选;车牌号：可选;危险类型 ：可选

返回的数据：
```json
# 返回类型：集合
# 主要字段：
# warn示例消息：
{
    "_id" : ObjectId("5ffd51d44e179564f06ee943"),
    "warn" : {
        "type" : 9,//消息类型  9
        { 
          "pos":{ //本车位置
          "lon":1121234567,
          "lat":281234567,
          "alt":1561 //可选
         },
       "dist":1425, //本车与危险点距离。
       "type":3 //危险类型
      } 
    },
    "ID" : "LF-931UP",  //车牌号
    "tm" : 1610437076   //消息发送时间
}
```
备注：
```
道路危险类型：
1 桥下积水
2 路面有坑
3 道路湿滑
4 前方急轩弯
5 道路施工
6 抛撒物
```

## 7.2 单位时间内道路危险状况提示总数
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号查询车辆失控提醒消息总数

查询参数：时间事件：可选;参考位置：可选;车牌号：可选;危险类型 ：可选

返回的数据：返回类型：int 主要字段：总数：

# 八、场景:限速预警
## 8.1 单位时间内限速预警提醒消息列表
数据来源：OBU中的WARN

接口名称：根据时间、车牌号查询限速预警消息列表

查询参数：时间事件：可选;车牌号：可选;最大限速：可选;最小限速：可选

返回的数据：
```json
# 返回类型：集合
# 主要字段：
# warn示例消息：
{
    "_id" : ObjectId("5ffd51d44e179564f06ee943"),
    "warn" : {
        "type" : 10,//消息类型  10
        {
          "min":10, //最小限速。12km/s 
          "max":60,  //最大限速。60km/s 
          "speed":6215  //本车速度。

         }
    },
    "ID" : "LF-931UP",  //车牌号
    "tm" : 1610437076   //消息发送时间
}
```

## 8.2 单位时间内限速预警提示总数
数据来源：OBU中的WARN

接口名称：根据时间、车牌号查询限速预警提醒消息总数

查询参数：时间事件：可选;车牌号：可选;最大限速：可选;最小限速：可选

返回的数据：返回类型：int 主要字段：总数：

# 九、场景：闯红灯预警
## 9.1 单位时间内闯红灯预警集合数据
数据来源：OBU中的WARN

接口名称：根据时间、车牌号查询限速预警集合列表数据

查询参数：时间事件：可选;车牌号：可选

返回的数据：
```json
返回类型：集合
主要字段：
warn示例消息：
{
    "_id" : ObjectId("5ffd51d44e179564f06ee943"),
    "warn" : {
        "type" : 20,//消息类型  20
        { 
        "color":71, //当前灯颜色。
        "sec":3, //倒计时秒数。
         }
    },
    "ID" : "LF-931UP",  //车牌号
    "tm" : 1610437076   //消息发送时间
}
```

## 9.2 单位时间内闯红灯预警提示总数
数据来源：OBU中的WARN

接口名称：根据时间、车牌号查询闯红灯预警提醒消息总数

查询参数：时间事件：可选;车牌号：可选

返回的数据：返回类型：int 主要字段：总数：

# 十、场景：绿波车速引导
## 10.1 单位时间内绿波车速引导集合数据
数据来源：OBU中的WARN

接口名称：根据时间、车牌号查询限速预警集合列表数据

查询参数：时间事件：可选;车牌号：可选

返回的数据：
```json
返回类型：集合
主要字段：
warn示例消息：
{
    "_id" : ObjectId("5ffd51d44e179564f06ee943"),
    "warn" : {
        "type" : 13,//消息类型  13
        {
       "color":71, //当前灯颜色。
       "sec":3, //倒计时秒数。
       "speed":3265 //建议车速。
         } 
    },
    "ID" : "LF-931UP",  //车牌号
    "tm" : 1610437076   //消息发送时间
}
```

## 10.2 单位时间内绿波车速引导提示总数
数据来源：OBU中的WARN

接口名称：根据时间、车牌号查询闯红灯预警提醒消息总数

查询参数：时间事件：可选;车牌号：可选

返回的数据：返回类型：int 主要字段：总数：

# 十一、场景：车内标牌
## 11.1 单位时间内车内标牌数据在地图分布情况
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号、标牌类型查询车内标牌在地图上分布情况

查询参数：时间事件：可选;车牌号：可选;位置点：可选;标牌类型：可选

返回的数据：
```json
# 返回类型：集合
# 主要字段：
# warn示例消息：
{
    "_id" : ObjectId("5ffd51d44e179564f06ee943"),
    "warn" : {
        "type" : 9,//消息类型  9
        {
          "pos":{ //本车位置
          "lon":1121234567,
          "lat":281234567,
          "alt":1561 //可选
         },
       "type":3 //标牌类型
      }
    },
    "ID" : "LF-931UP",  //车牌号
    "tm" : 1610437076   //消息发送时间
}
```
备注：
```
标牌类型：
17  道路湿滑
38 道路施工
36 注意障碍物
27 过水路面
24 路面不平
11 注意儿童
2  前方急弯
21 隧道
23 立交桥
```

## 11.2 单位时间车内标牌提示总数
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号、标牌类型查询车内标牌提醒消息总数

查询参数：时间事件：可选;车牌号：可选;位置点：可选;标牌类型：可选

返回的数据：返回类型：int 主要字段：总数：

# 十二、场景：紧急车辆提醒
## 12.1 单位时间内紧急车辆提醒在地图分布情况
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号查询紧急车辆提醒在地图上分布情况

查询参数：时间事件：可选;车牌号：可选;位置点：可选

返回的数据：
```json
# 返回类型：集合
# 主要字段：
# warn示例消息：
{
    "_id" : ObjectId("5ffd51d44e179564f06ee943"),
    "warn" : {
        "type" : 9,//消息类型  9
        { 
          "pos":{ //本车位置
          "lon":1121234567,
          "lat":281234567,
          "alt":1561 //可选
         },
       "speed":1263, //本车速度。
       "head":263, //本车方向。
       "dist":1425, //与紧急车辆的距离。
      } 
    },
    "ID" : "LF-931UP",  //车牌号
    "tm" : 1610437076   //消息发送时间
}
```
备注：
```
标牌类型：
17  道路湿滑
38 道路施工
36 注意障碍物
27 过水路面
24 路面不平
11 注意儿童
2  前方急弯
21 隧道
23 立交桥
```

## 12.2 单位时间紧急车辆提醒总数
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号查询紧急车辆提醒消息总数

查询参数：时间事件：可选;车牌号：可选;位置点：可选

返回的数据：返回类型：int 主要字段：总数：

# 十三、场景：公交优先通行
## 13.1 单位时间内公交优先通行提醒在地图分布情况
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号、优先策略、公交请求状态查询公交优先提醒在地图上分布情况

查询参数：时间事件：可选;车牌号：可选;位置点：可选;优先策略：可选;公交请求状态：可选

返回的数据：
```json
# 返回类型：集合
# 主要字段：
#warn示例消息：
{
    "_id" : ObjectId("5ffd51d44e179564f06ee943"),
    "warn" : {
        "type" : 9,//消息类型  9
        {
        “tsp”:{
        "ONEL":3, //单次优先总时长
         "STRA":0, //优先策略（6,优先未处理; 1,直接通过；2,绿灯延    长; 3,红灯早断; 4 无优先策略）
        “PRIREQ”:0, //公交优先请求状态（0,无优先请求；'L'/'l' 76/108--左转优先请求；‘S’/‘s' 83/115--直行优先请求；’R‘/’r‘ 82/114--右转优先请求）
},
         "ID":"1000", //设备 id。字符串
}
      }
    },
    "ID" : "LF-931UP",  //车牌号
    "tm" : 1610437076   //消息发送时间
}
```

## 13.2 单位时间内公交优先通行提醒总数
数据来源：OBU中的WARN

接口名称：根据时间、位置点、车牌号、公交请求状态优先策略、查询公交优先提醒消息总数

查询参数：可选;车牌号：可选;位置点：可选;优先策略：可选;公交请求状态：可选

返回的数据：返回类型：int 主要字段：总数：