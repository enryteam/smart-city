# 合作式智能运输系统 车用通信系统应用层及应用数据交互标准 第二阶段

# 引 言

T/ITS 0058-2017标准，完成了对17个基础应用场景和对应的交互消息集的定义，我们称之为“合作 式智能运输系统 车用通信系统应用层及应用数据交互标准”系列标准的“第一阶段”。在该标准基础 上，经过行业的验证和完善，形成了YD/T 3709-2020 《基于LTE的车联网无线通信技术 消息层技术要 求》标准，完善了我国LTE-V2X标准体系。 

针对车用通信技术的演进和车路协同应用新需求，本文件在“合作式智能运输系统 车用通信系统 应用层及应用数据交互标准”系列标准框架下，进一步研制了第二阶段的应用场景，包括场景描述、实现过程、通信方式、基本性能要求、数据交互需求等；并在第一阶段消息集的基础上，进行了新消息的 补充和兼容性扩展，能够同时支持两个阶段的所有应用。 

在通信方式上，第一阶段的消息交互均采用广播方式，即消息的发送无特定的接收对象，在通信可 达范围内的交通参与者均可以接收到相应的消息。而第二阶段的消息交互不仅仅包括广播机制，还支持 存在特定接收对象（一个或者多个）的信息交互方式与交互流程，即采用组播或者单播通信方式。

# 1 范围

本文件规定了合作式智能运输系统车用通信系统应用层第二阶段的应用场景和对应的交互数据技 术要求。

本文件适用于合作式智能运输系统车用通信系统应用层第二阶段应用场景的设计与开发。

# 2 规范性引用文件 

下列文件中的内容通过文中的规范性引用而构成本文件必不可少的条款。其中，注日期的引用文件， 仅该日期对应的版本适用于本文件；不注日期的引用文件，其最新版本（包括所有的修改单）适用于本文件。

GB/T 20851.3-2019 电子收费 专用短程通信 第3部分：应用层 

GB/T 20851.4-2019 电子收费 专用短程通信 第4部分：设备应用 

GB/T 31024.1-2014 合作式智能运输系统 专用短程通信 第1部分：总体技术要求 

GB/T 31024.3-2019 合作式智能运输系统 专用短程通信 第3部分：网络层和应用层规范 

GB/T 5768.2-2009 道路交通标志和标线 第2部分：道路交通标志 

YD/T 3709-2020 基于LTE的车联网无线通信技术 消息层技术要求 

T/ITS 0058-2017 合作式智能运输系统 车用通信系统应用层及应用数据交互标准 

《收费公路联网电子不停车收费技术要求》（交通运输部2011年第13号公告） 

《电子收费 单片式车载单元（OBU）技术要求》（交通运输部2019年第35号公告）

# 3 术语和定义 

T/ITS 0058-2017界定的以及下列术语和定义适用于本文件。 

## 3.1 术语 

### 3.1.1 合作式智能运输系统 cooperative intelligent transportation systems, C-ITS 

通过人、车、路信息交互，实现车辆和基础设施之间、车辆与车辆、车辆与人之间的智能协同与配合的一种智能运输系统体系。 

[来源：GB/T 31024.1-2014,2.1] 

### 3.1.2 专用短程通信 dedicated short range communication 

用于车辆、基础设施、行人等交通要素之间进行短程通信的无线通信方式。

[来源：GB/T 31024.3-2019,3.1] 

### 3.1.3 V2X 

车载单元与其他设备通讯，包括但不限于车载单元之间通讯（V2V），车载单元与路侧单元通讯（V2I）， 车载单元与行人设备通讯（V2P），车载单元与网络之间通讯（V2N）。 

[来源：T/ITS 0058-2017,3.1.7] 

## 3.2 定义 

### 3.2.1 感知数据共享 sensor data sharing，SDS 

车辆或路侧设施通过自身搭载的感知设备探测到周围其他交通参与者或道路异常状况信息，并将探测到的目标信息处理后，由车载单元或路侧单元通过 V2X（

3.1.3）发送给周围其他车辆。 

### 3.2.2 协作式变道 cooperative lane change，CLC 

车辆间通过共享行驶意图，从而调整驾驶行为，安全高效地完成变道；或者换道车辆发布换道意图，路侧单元通过下发引导信息，完成车路协作的变道。 

### 3.2.3 协作式车辆汇入 cooperative vehicle merge，CVM 

在高速路或城市快速路入口匝道处，通过车辆行驶意图的共享与路侧单元引导信息的下发，实现安全高效的匝道汇入。 

### 3.2.4 协作式交叉口通行 cooperative intersection passing，CIP 

在交叉口处，车辆与路侧单元间通过直连通信的方式，共享位置信息、行驶状态信息、行驶意图以及路侧引导信息，实现安全高效的交叉口通行。 

### 3.2.5 差分数据服务 differential data service，DDS 

利用 V2X 交互，为车辆下发定位差分数据，从而实现导航定位增强。 

### 3.2.6 动态车道管理 dynamic lane management，DLM 

路口处，车辆与路侧单元间通过直连通信的方式，共享位置信息、行驶状态信息、行驶意图以及路侧引导信息，实现交叉口进口道空间资源实时地合理分配。

### 3.2.7 协作式优先车辆通行 cooperative high priority vehicle passing，CHPVP 

智能交通系统调度交通资源针对优先车辆采取提前预留车道、封闭道路或切换信号灯等方式，为优先车辆提供安全高效到达目的地的绿色通道。 

### 3.2.8 场站路径引导服务 guidance service in parking area，GSPA 

车辆与路侧单元间通过直连通信的方式，对进入场站内部区域的车辆提供站点地图信息、车位信息、服务信息等，同时为车辆提供路径引导服务。 

### 3.2.9 浮动车数据采集 probe data collection，PDC 

路侧单元通过接收通信范围内车辆发送的信息，进行数据的融合与交通状态分析，形成局部端侧或边缘侧的基于浮动车数据的交通状态评估。 

### 3.2.10 弱势交通参与者安全通行 vulnerable road user safe passing，VRUSP 

弱势交通参与者向车辆或路侧单元通过直连通信的方式，主动共享自身位置信息、运动状态等信息，实现弱势交通参与者的道路安全通行。 

### 3.2.11 协作式车辆编队管理 cooperative platooning management，CPM 

自动驾驶车辆以编队的形式在特定的场景下呈队列形态行驶，与手动驾驶或自动驾驶的头车通过直连通信的方式，完成车队创建、加入编队、离开编队、解散编队等队列管理过程。 

### 3.2.12 道路收费服务 road tolling service，RTS 

在城市道路或高速公路的收费区域，车辆与路侧单元间通过直连通信的方式，交互收费信息，完成缴费业务。 

# 4 缩略语

下列缩略语适用于本文件。 

ASN.1：抽象语法记法一（Abstract Syntax Notation One） 

DE：数据元素（Data Element） 

DF：数据帧（Data Frame） 

EV：装载通信系统的车辆（Equipped Vehicle） 

ID：标识（IDentification） 

LTE：长期演进技术（Long Term Evolution）

LTE-V2X：基于LTE的车用无线通信技术（LTE Vehicle to Everything） 

Msg_BSM：基本安全消息（Message: Basic Safety Message） 

Msg_PAM：停车场地图（Message: Parking Area Map） 

Msg_PDC: 浮动车数据采集（Message: Probe Data Collection） 

Msg_CLPMM：编队管理消息（Message: Connectionless Platooning Management Message） 

Msg_MAP：地图消息（Message: Map） 

Msg_PSM：个体安全消息（Message: Personal Safety Message） 

Msg_RSC：路侧协调消息（Message: RoadSide Coordination） 

Msg_RSM：路侧单元消息（Message: Road Side Message） 

Msg_RTCM：国际海运事业无线电技术委员会（Message: Radio Technical Commission for Maritime Services） 

Msg_SPAT：信号灯相位与配时消息（Message: Signal Phase and Timing Message） 

Msg_SSM：感知共享消息（Message: Sensor Sharing Message） 

Msg_VIR：车辆意图和请求（Message: Vehicle Intention And Request） 

Msg_VPM：车辆支付消息（Message: Vehicle Payment Message） 

NV：未装载通信系统的普通车辆（Normal Vehicle） 

OBU：车载单元（On-Board Unit） 

RSU ：路侧单元（Road Side Unit） 

UPER：非对齐压缩编码规则（Unaligned Packet Encoding Rules） 

VRU：弱势交通参与者（Vulnerable Road User）

# 5 车用通信系统第二阶段应用场景 

## 5.1 应用场景汇总 

合作式智能运输系统车用通信系统定义、应用层及交互数据定义见附录A。 

本文件选择面向安全、效率、信息服务、交通管理、高级智能驾驶等领域的12个典型应用作为第二阶段应用。具体应用参见表 1。

![image-20211020161734367](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020161734367.png)

![image-20211020161748135](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020161748135.png)

本文件中所有应用场景均为示例性的典型场景，可以指导开发、测试与应用，但并不代表该应用的 

所有可能场景。 

## 5.2 应用定义及基本要求 

### 5.2.1 感知数据共享（SDS） 

#### 5.2.1.1 场景描述 

车辆EV以及路侧设备RSU通过自身搭载的感知设备（摄像头、雷达等传感器）探测到周围其他交通参与者（包括但不限于车辆、行人、骑行者等目标物）或道路异常状况信息，如：道路交通事件（如交通事故等）、车辆异常行为(超速、驶离车道、逆行、非常规行驶和异常静止等)、道路障碍物（如落石、遗撒物、枯枝等）及路面状况（如积水、结冰等）等信息，并将探测到的目标信息处理后，通过V2X发送给周围其他车辆，收到此信息的其他车辆可提前感知到不在自身视野范围内的交通参与者或道路异常状况，辅助自身做出正确的驾驶决策，减少交通事故和二次伤害，提高行车安全或通行效率。 

感知数据共享应用能够增强混合交通环境中车辆的感知能力，使车辆能够间接获取到前方道路异常状况与交通参与者的感知数据，尤其是对行人、骑行者等易受伤人群的感知能力，能有效的减少交通事故和二次伤害，提高复杂道路通行安全和通行效率。 

#### 5.2.1.2 实现过程 

##### 5.2.1.2.1 车车间交通参与者感知数据共享 

车车间交通参与者感知数据共享场景主要过程如下：  

- 车辆EV-1与EV-2在同一车道内同向行驶，EV-1在前，EV-2在EV-1后方跟车行驶，EV-2的视线可能被EV-1遮挡； 

- 此时有车辆NV在EV-1、EV-2相邻车道逆向行驶，见图1，或道路附近有行人P接近，见图2； 

- EV-1、EV-2需具备无线通信能力，且EV-1具有感知能力（搭载有车载传感器如摄像头或雷达等）， 车辆NV与行人P不具备V2X通信能力； 

- EV-1通过车载传感器检测到前方有车辆NV或行人P； 

- EV-2向EV-1请求前方路段感知信息，或EV-1主动向EV-2共享感知信息； 

- EV-1通过无线通信向车辆EV-2发送车辆NV或行人P的感知数据信息；

- 车辆EV-2根据收到的车辆NV或行人P的感知数据信息，及时做出合理的驾驶行为调整。

![image-20211020161926382](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020161926382.png)

##### 5.2.1.2.2 车车间道路异常状况感知数据共享 

车车间道路异常状况感知信息共享主要过程如下： 

- 车辆EV-1、EV-2同向行驶在同一车道，EV-1搭载有感知设备，EV-1在前，EV-2在后方跟随EV-1 行驶，EV-1前方有障碍物； 

- （可选）EV-2向EV-1请求前方的感知信息共享； 

- EV-1与EV-2需具备无线通信能力； 

- EV-1通过车载传感器发现前方车道存在障碍物，障碍物覆盖了本车道，见图3； 

- EV-1根据EV-2的共享请求，或根据自身算法，确定是否发送该障碍物信息；如确定发送，则通过无线通信向车辆EV-2发送该事件的感知信息； 

- 车辆EV-2接收到EV-1发送的道路异常状况感知信息，根据自身行驶信息，采取相应措施。

![image-20211020162011448](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020162011448.png)

##### 5.2.1.2.3 车路间交通参与者感知数据共享 

车路间交通参与者感知数据共享主要过程如下： 

- 车辆EV与NV-1在同一车道同向行驶，NV-1在前，EV在NV-1后方行驶，EV的视线可能被NV-1遮挡。 

道路附近设有RSU； 

- 相邻车道有车辆NV-2在相向行驶，见图4，或道路附近有行人P接近，见图5； 

- EV与RSU需具备无线通信能力，且RSU具有感知能力（搭载有传感器如摄像头或雷达等），车辆NV-2与行人P不具有V2X通信能力； 

- RSU通过传感器检测到前方有车辆NV-2或行人P； 

- EV向RSU请求前方路段感知信息，或RSU主动向EV共享感知信息。通过无线通信向EV发送车辆NV-2或行人P的感知数据信息； 

- EV根据收到的车辆NV-2或行人P的感知数据信息，及时做出合理的驾驶行为调整。

![image-20211020162126785](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020162126785.png)

![image-20211020162138558](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020162138558.png)

##### 5.2.1.2.4 车路间道路异常状况感知数据共享 

车路间道路异常状况感知信息共享主要过程如下： 

- 车辆EV-1和没有感知能力的普通车辆NV同向行驶在同一车道，NV在前方对EV-1造成了一定的视 野和探测范围遮挡；道路附近设有RSU，且RSU搭载有感知设备，道路前方有障碍物； 

- EV-1与RSU需具备无线通信能力； 

- （可选）EV-1向RSU请求前方的感知信息共享； 

- RSU通过传感器发现前方道路存在障碍物或发现道路车辆异常行为（如超速），并生成道路感知信息，见图6； 

- RSU根据障碍物影响范围，道路地图信息以及周围车辆信息，判断受障碍物影响的车辆，并通过无线通信向受影响的车辆EV-1发送该事件的感知信息； 

- EV-1接收到RSU发送的道路事件感知信息，根据自身行驶信息，采取相应措施。

![image-20211020162219992](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020162219992.png)

#### 5.2.1.3 通信方式 

感知数据提供车辆和接收车辆之间，路侧单元和感知数据接收车辆之间通过直连方式通信，通信方式可为广播、单播或组播。 

在有感知数据共享需求的一段连续时间内，触发周期性发送。 

#### 5.2.1.4 基本性能要求

基本性能要求如下： 

- 车速范围：0-120km/h； 

- 通信距离≥200m； 

- （应用触发期间）数据通信频率≥10Hz； 

- 应用层端到端时延≤100ms； 

- 水平方向精度≤1m； 

注1：本章所有的“应用层端到端时延”，按照通信双方，消息从发送方应用层发出，到接收方应用层收到的时间间隔。 

#### 5.2.1.5 数据交互需求 

交通参与者感知数据共享数据交互需求见表 2与表 3。

![image-20211020162308054](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020162308054.png)

![image-20211020162343184](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020162343184.png)

![image-20211020162416009](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020162416009.png)

### 5.2.2 协作式变道（CLC） 

#### 5.2.2.1 场景描述 

车辆EV在行驶过程中需要变道，车辆EV将行驶意图发送给相关车道（本车道和目标车道）的其他相关车辆或路侧设备RSU，相关车辆收到EV的意图信息或路侧设备的调度信息，根据自身情况调整驾驶行为，使得车辆EV能够安全完成变道或延迟变道。本应用适用于高速公路、城市及郊区道路。 

协作式变道可以实现车辆之间安全高效的自行合作变道，可以提升通行效率和道路安全。 

#### 5.2.2.2 实现过程 

##### 5.2.2.2.1 车车协作式变道 

车车协作式变道场景主要过程如下： 

- 装备有V2X通信设备的车辆EV-1、EV-2在道路上正常行驶，EV-2在EV-1相邻车道内行驶； 

- EV-1和EV-2需具备无线通信能力； 

- EV-1在行驶过程中需要进行变道时，EV-1将变道意图发送给目标车道的相关车辆EV-2； 

- EV-2收到EV-1的变道意图，根据自身信息、周围车辆信息或者其它车载传感器感知的周边环境信息，经决策判断，加速通过，见图7，或减速让道，见图 ，同时EV-2将其自身的驾驶行为调整即时发送给EV-1。 

![image-20211020162541328](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020162541328.png)

##### 5.2.2.2.2 车路协作式变道 

车路协作式变道场景主要过程如下： 

- 车辆EV在道路上正常行驶，车辆NV在EV相邻车道内行驶； 

- EV和RSU需具备无线通信能力，车辆NV不具备无线通信能力； 

- EV在行驶过程中需要变道，EV向RSU发送变道意图，RSU根据EV信息和当前相关道路车辆信息以及感知信息做出判断，向EV下发引导信息，辅助EV安全变道，见图9，或延后变道，见图10， 同时EV也将其自身的驾驶行为即时发送给周边车辆和RSU。

![image-20211020162622678](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020162622678.png)

![image-20211020162632610](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020162632610.png)

#### 5.2.2.3 通信方式 

变道车辆、周围相关车辆及相关RSU应具备无线通信能力，可采用单播、组播或广播方式进行交互。 

在变道场景触发的一段连续时间内，周期性发送消息。 

#### 5.2.2.4 基本性能要求 

基本性能要求如下： 

- 车速范围：0-120km/h； 

- 通信距离≥200m； 

- （应用触发期间）数据通信频率≥10Hz； 

- 应用层端到端时延≤50ms； 

- 水平方向精度≤0.5m； 

#### 5.2.2.5 数据交互需求 

协作式变道数据交互需求见表 4与表 5。

![image-20211020162725103](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020162725103.png)

![image-20211020162743033](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020162743033.png)

### 5.2.3 协作式车辆汇入（CVM） 

#### 5.2.3.1 场景描述 

在高速公路或快速道路入口匝道处，路侧单元获取周围车辆运行信息和行驶意图，通过发送车辆引导信息，协调匝道和主路汇入车道车辆，辅助匝道车辆安全、高效的汇入主路。本应用适用于高速公路或快速道路的入口匝道汇入场景。 

协作式车辆汇入应用能够在确保安全汇入的前提下，通过选择合理的汇入时间、汇入位置和汇入车速，减少汇入车辆对主路车流的影响，提高高速公路或快速道路入口匝道处通行安全和通行效率。 

#### 5.2.3.2 实现过程 

##### 5.2.3.2.1 RSU 引导匝道车辆汇入 

RSU 引导匝道车辆汇入场景主要过程如下： 

- 车辆EV在匝道上行驶，即将汇入主路，主路最右侧车道有车辆NV直行，匝道附近设有路侧单元， 见图11； 

- EV与RSU需具备无线通信能力；主路最右侧车辆NV可以具备或不具备无线通信能力，RSU要求能够通过无线通信交互或自身系统感知能力，实时获得NV的运行信息和状态； 

- RSU根据匝道车辆EV的行驶状态信息或EV发送的行驶意图信息，判断EV即将汇入主路，并根据主路车辆运动信息等，计算主线车流的汇入间隙是否可满足匝道车辆的汇入需求。若满足，则 生成匝道汇入的引导信息，并发送给匝道车辆EV； 
- 如主路车辆NV也具备无线通信能力，则RSU可以向其发布驾驶辅助信息，来确保主路车辆NV的安全行驶和匝道车辆的安全汇入； 
- EV收到RSU的汇入引导信息，根据自身运行状态和主路交通参与者信息（可能来自自身感知或其他V2X），生成驾驶行为策略或汇入轨迹规划，在不影响主路车辆正常行驶的前提下，安全地从匝道汇入主路。

![image-20211020162919410](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020162919410.png)

##### 5.2.3.2.2 协作式匝道信号控制 

协作式匝道信号控制场景主要过程如下： 

- RSU通过主路的网联车辆以及路侧传感器，获取主路交通参与者情况； 

- RSU通过匝道的网联车辆以及路侧传感器，获取匝道车辆运行状况以及汇入意图，见图12； 

- RSU分析主路交通状态并对可汇入间隙进行预测，将控制建议送给匝道信号控制设备，由匝道汇入控制信号灯生成具体控制策略，通过信号灯控制保证主路交通流的顺畅、安全运行，同时引导匝道车辆安全、高效地进入主路。

![image-20211020162956994](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020162956994.png)

#### 5.2.3.3 通信方式

车辆EV与RSU之间以单播、组播或广播方式进行信息交互。 

在应用触发期间，周期性发送消息。 

#### 5.2.3.4 基本性能要求 

基本性能要求如下： 

- 车速范围：0-120km/h； 

- 通信距离≥300m； 

- （应用触发期间）数据通信频率≥10Hz； 

- 应用层端到端时延≤50ms； 

- 车侧向精度≤0.5m； 

- 移动方向精度≤1m。 

#### 5.2.3.5 数据交互需求 

协作式车辆汇入数据交互需求见表 6至表8。

![image-20211020163034064](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020163034064.png)

![image-20211020163049416](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020163049416.png)

![image-20211020163101664](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020163101664.png)

### 5.2.4 协作式交叉口通行（CIP） 

#### 5.2.4.1 场景描述 

协作式交叉口通行是指装备有OBU的车辆EV和路侧设备（RSU）协作，安全、高效通过交叉口。EV向RSU发送车辆行驶信息，RSU根据车辆行驶信息、目标交叉路口的信号灯信息、其他车辆上报的行驶信息、以及路侧感知信息，为EV生成通过交叉路口的通行调度信息并发送给EV，调度EV安全通过交叉口。 

本应用适用于城市、郊区以及封闭园区等的普通道路及公路的交叉路口、无信号灯等交叉路口的通行。 

协作式交叉口通行能够为路口车辆提供更精准的通行调度信息，能够避免车辆在路口由于占错车道引起的加塞，或由于错误决断导致的道路拥堵，能够调度交叉口车辆安全、高效的通行。 

#### 5.2.4.2 实现过程 

##### 5.2.4.2.1 RSU 提前引导车辆换道行驶 

RSU 提前引导车辆换道行驶场景主要过程如下： 

- 车辆EV行驶在转向车道，但EV的行驶意图是直行，此时转向道行驶通畅，直行道行驶缓慢或堵塞，见图13； 

- EV与RSU需具备短程无线通信能力； 

- EV将自身信息以及行驶意图信息发给RSU，RSU根据当前道路状况生成调度信息发送给EV； 

- EV按照RSU生成的通行调度信息，提前变道到直行道等待，避免后续的加塞，影响交叉路口通行效率；

![image-20211020163202625](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020163202625.png)

##### 5.2.4.2.2 RSU 辅助车辆通过无信号灯控制的交叉路口 

RSU 辅助车辆通过无信号灯控制的交叉路口场景主要过程如下： 

- 车辆EV-1从远处驶向无信号灯交叉路口，交叉路口附近设有RSU； 

- 车辆EV-1向RSU发送行驶状态信息和行驶意图，见图14； 

-  RSU根据EV-1上报的行驶信息、当前路口其他车辆上报的行驶信息和意图信息，以及路侧传感器上报的感知信息，生成EV及其他所有接近路口的网联车辆的驾驶引导信息； 

- RSU将对应的引导信息发送给车辆EV； 

- EV-1收到RSU发送的驾驶引导信息，结合自身行驶状态以及道路信息、周围交通参与者信息， 生成最终的驾驶行为策略或轨迹规划，安全有效地通过路口。

![image-20211020163256736](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020163256736.png)

##### 5.2.4.2.3 协作式交叉口信号控制 

协作式交叉口信号控制场景主要过程如下： 

- RSU通过与经过路口的EV进行数据交互，从微观的车辆运行和转向数据，结合路侧的交通感知信息，分析路口信号灯各相位对应的交通流状况，实时生成信号优化策略，见图15； 

- RSU将优化策略下发路口信号控制设备，由信号控制设备产生具体的相位、周期控制策略，实现路口通行效率的提升。

![image-20211020163322888](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020163322888.png)

#### 5.2.4.3 通信方式 

车辆 EV 与 RSU 应具备无线通信能力，可通过单播、广播方式进行信息交互。 

应用触发过程中，周期性发送消息。 

#### 5.2.4.4 基本性能要求 

基本性能要求如下： 

- 车速范围：0-70km/h； 

- 通信距离≥200m； 

- （应用触发期间）数据通信频率≥10Hz； 

- 应用层端到端时延≤50ms； 

- 水平方向精度≤1m。 

#### 5.2.4.5 数据交互需求 

协作式交叉口通行数据交互需求见表 9至表 11。

![image-20211020163403786](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020163403786.png)

![image-20211020163413120](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020163413120.png)

![image-20211020163426542](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020163426542.png)

### 5.2.5 差分数据服务（DDS） 

#### 5.2.5.1 场景描述 

利用布设在区域内的基础设施（如 GNSS 基准站，地基增强系统等），监测视野内的 GNSS 卫星，通过集中数据处理，分类获得误差改正参数和完好性信息，通过 V2X 交互的方式播发给范围内的车辆，从而使车辆定位精度提升。 

差分数据服务能够提高车辆位置精度，从而在定位方面保障车用通信系统应用的精准实现，以提高车辆行驶安全、道路通行效率。 

#### 5.2.5.2 实现过程 

差分数据服务场景主要过程如下： 

- 道路附近设有 RSU 与差分数据服务基站，RSU 实时获取差分数据服务基站的差分数据，RSU 向周围车辆或其他交通参与者（行人、骑行者等）周期性广播差分数据，见图 16； 

- 装备有 V2X 通信设备的车辆或其他交通参与者，在接收到 RSU 发送的差分数据后，输入到自身GNSS 定位系统，实现自身定位解算精度的提升。

![image-20211020163458680](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020163458680.png)

#### 5.2.5.3 通信方式 

车辆与其他交通参与者以及RSU须具备无线通信能力，采用广播或单播方式进行信息交互。 

#### 5.2.5.4 基本性能要求 

基本性能要求如下： 

- 通信距离≥200m； 

- 数据通信频率≥1Hz； 

- 应用层端到端时延≤500ms。 

#### 5.2.5.5 数据交互需求 

差分数据服务场景数据交互需求如表 12所示。

![image-20211020163524088](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020163524088.png)

### 5.2.6 动态车道管理（DLM） 

#### 5.2.6.1 场景描述 

通过交叉口范围内的车辆与路侧单元的实时通信，路侧单元收集网联车辆以及通过感知设备感知路口车辆的状态数据包括位置、速度、转向等等，实时确定交叉口的各个流向的交通需求，以此为基础进行进口道车道功能的划分，并将车道功能划分的结果发送给车辆，实现对交叉口进口道的空间资源进行实时地合理分配，进而通过动态的车道管理提高交叉口的运行效率。 

动态车道管理应用针对的主要是交叉口各流向的需求变化波动较大的场景。对于车道功能固定的交叉口，在各流向的交通需求波动较大时，现有的车道可能无法满足某一流向的需求从而无法提供足够的排队空间，进一步可能导致交叉口的排队溢出等等，造成严重的拥堵。相比于固定的车道管理方法，通过动态车道管理可以实时的匹配各流向的交通需求，最大程度上给每个流向车辆提供充足的排队空间， 减少排队长度和二次排队次数。 

#### 5.2.6.2 实现过程 

动态车道管理场景见图 17，主要过程如下： 

- 初始状态：需要直行、左转和右转的 EV 驶入交叉口，EV 收到 RSU 发送的当前车道分配方案，结合地图信息进行合理变道；路侧单元 RSU 根据路口所有 EV 信息，结合路侧传感器的车辆感知信息，决策是否需要变更车道功能分配方案； 

- 过渡状态：当车道功能分配方案需要变更，则将具体变更功能的车道切换为过渡状态，禁止车辆驶入，并发送给进入路口的 EV； 

- 最终完成状态：路侧单元 RSU 根据路口对应区域的 EV 信息和路侧传感器感知信息，确认变更功能车道已清空后，则将具体变更功能的车道切换为最终变更状态，并发送给进入路口的 EV。

![image-20211020163608590](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020163608590.png)

DLM 应用由车载单元和路侧单元实现，通过车载单元向交叉口处的路侧单元发送 Msg_BSM 信息和转向请求信息，路侧单元通过内置的动态车道划分算法计算出合理的车道功能划分结果，并发送给车载单元，进而诱导网联车辆行驶至对应车道。 

#### 5.2.6.3 通信方式 

网联车辆和 RSU 应具备无线通信能力，采用广播、组播或单播进行信息交互。 

#### 5.2.6.4 基本性能要求 

基本性能要求如下： 

- 车速范围：0-70km/h； 

- 通信距离≥200m； 

- （应用触发期间）数据通信频率≥2Hz； 

- 应用层端到端时延≤100ms； 

-  水平方向精度≤1.5m。 

#### 5.2.6.5 数据交互需求 

动态车道管理场景数据交互需求如表 13 至表 15 所示。

![image-20211020163644633](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020163644633.png)

![image-20211020163656017](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020163656017.png)

### 5.2.7 协作式优先车辆通行（CHPVP） 

#### 5.2.7.1 场景描述 

智能交通系统调度交通资源针对优先车辆采取提前预留车道、封闭道路或切换信号灯等方式，为优先车辆提供安全高效到达目的地的绿色通道。优先车辆包括警车、消防车、救护车、工程抢险车、事故勘查车等，未来也可以基于该场景提供差异化行车服务。本文件适用于城市及高速公路。 

协作式优先车辆通行能够保障优先车辆在RSU的协调下，安全高效地到达目的地。能够为如警车、救护车、消防车等优先车辆提供畅通的通信通道，提升通行效率。 

#### 5.2.7.2 实现过程 

##### 5.2.7.2.1 车道预留场景 

车道预留场景主要过程如下： 

- 优先车辆EV-1按照规划好的路线进行行驶，车辆EV-2在本车道内正常行驶，道路附近设有路侧设备RSU，见图18； 

- EV-1、EV-2以及RSU需具备无线通信能力； 

- EV-1向RSU发送车辆基本信息与行驶意图信息，包括对于前方指定车道进行预留的请求； 

- RSU收到EV-1的车辆信息与行驶意图信息，结合当前道路和交通流情况，生成车道预留策略； 

- RSU将路段车道预留信息发送给受影响路段上的相应车辆，同时给出驾驶引导信息，引导车辆安全及时离开预留车道。

![image-20211020163734713](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020163734713.png)

##### 5.2.7.2.2 车道禁行/封闭场景 

车道禁行/封闭场景主要过程如下： 

- 由于给优先车辆预留道路资源、道路施工或其他突发交通事件，交通管理部门对某一路段、车道，在一定范围内进行禁行或封闭，见图19； 

- 处于该管制路段处或其上游的RSU，在管制开始前与管制期间，向接近和通过该区域的EV发送封闭车道或禁行信息，同时可以对特定车辆下发驾驶引导信息； 

- EV接收RSU的车道禁行/封闭信息后，能够及时、安全地调整驾驶行为，遵循交通管制。

![image-20211020163759833](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020163759833.png)

##### 5.2.7.2.3 协作式信号灯优先通行场景场景 

协作式信号灯优先通行场景主要过程如下： 

- 优先车辆EV按照规划好的路线进行行驶，接近信号灯控制路口，并发送行驶状态和优先请求； 

- 路口处设有RSU，并与信号灯控制设备连接，能够实现信号主动控制，见图20； 

- EV与RSU需具备无线通信能力； 

- RSU在优先车辆EV接近路口过程中，结合路口交通流情况，计算EV到达路口时间，向信号灯控制设备下发控制指令，信号灯控制设备生成具体的控制方案，实现信号灯绿灯延长或红灯早断，以保证EV能够高效通过路口； 

- RSU可以同时向EV下发驾驶引导信息，进一步辅助EV安全、高效地通行。

![image-20211020163826840](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020163826840.png)

#### 5.2.7.3 通信方式 

优先车辆EV和RSU应具备无线通信能力，可采用单播、广播方式进行信息的交互。 

应用触发过程中，优先车辆周期性发送请求信息，路侧单元周期性发送相应引导信息。 

#### 5.2.7.4 基本性能要求 

基本性能要求： 

- 车速范围：0-120km/h； 

- 通信距离≥200m； 

- （应用触发期间）数据通信频率≥10Hz； 

- 应用层端到端时延≤100ms； 

- 水平方向精度≤1.5m。 

#### 5.2.7.5 数据交互需求 

优先车辆优先场景数据交互需求见表 16至表 19。

![image-20211020163922368](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020163922368.png)

![image-20211020163931032](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020163931032.png)

### 5.2.8 场站路径引导服务（GSPA） 

#### 5.2.8.1 场景描述 

在场站内部区域（如停车场，高速路服务站，加油站等），RSU 通过 V2I/I2V 的方式，向进入的车辆提供站点地图信息、车位信息、服务信息等，同时为车辆提供路径引导服务。 

车辆场站路径引导服务场景能够在场站内，使车辆更便捷、精确地获得内部道路地图、车位信息， 以及引导路径，便于车辆更快地寻路和前往目的地，提升用户体验，服务“最后一公里”。 

#### 5.2.8.2 实现过程 

场站路径引导服务场景主要过程如下：

- 车辆EV到达场站服务范围内，场站附近设有RSU，见图21； 

- 车辆EV向RSU发送入场/离场信息或服务请求（包括自身信息、入场/离场请求以及意图信息等）； 

- 场站RSU收到EV发送的入场/离场信息或服务请求，根据EV车辆请求服务类型、当前场站内服务点的状态信息、地图信息为EV下发场站地图信息（包括场站内地图信息、各类车位信息和服务点信息），同时给EV下发路径引导信息； 

- 车辆EV，利用RSU下发的地图服务信息，实现内部路径规划，前往目的地。

![image-20211020164012677](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164012677.png)

#### 5.2.8.3 通信方式 

车辆EV与RSU应具备无线通信能力，采用单播或广播的通信方式进行信息交互。 

应用触发期间，周期性发送。 

#### 5.2.8.4 基本性能要求 

基本性能要求如下： 

- 车速范围：0-25km/h； 

- 通信距离≥200m； 

- （应用触发期间）数据通信频率≥2Hz； 

- 应用层端到端时延≤100ms； 

- 水平方向精度≤0.5m； 

#### 5.2.8.5 数据交互需求 

车辆场站路径引导服务数据交互需求如表 20至表 21所示。

![image-20211020164040119](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164040119.png)

![image-20211020164049138](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164049138.png)

![image-20211020164101528](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164101528.png)

### 5.2.9 浮动车数据采集（PDC） 

#### 5.2.9.1 场景描述 

RSU 通过接收通信范围内车辆发送的信息（包括行驶状态、驾驶意图以及感知信息等），进行数据的融合与交通状态分析，形成局部端侧或边缘侧的基于浮动车数据的交通状态评估。 

浮动车数据采集为 RSU 进行交通状态监控、交通事件检测、流量分析和动态路径诱导等监控管理提供精确数据支撑。 

#### 5.2.9.2 实现过程 

浮动车数据采集场景主要过程如下： 

- 路侧设备（RSU）接收并收集通信范围内的EV广播信息（包括基础安全消息、意图与请求消息以及车端感知共享消息），作为浮动车数据，见图22； 

- RSU对浮动车数据进行筛选、处理和融合，进行交通状态分析、事件检测等，为局部或区域的交通管理提供数据支持。

![image-20211020164142108](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164142108.png)

#### 5.2.9.3 通信方式

车辆和 RSU 需具备短程无线通信能力，采用广播或单播的方式进行信息交互。 

#### 5.2.9.4 基本性能要求 

基本性能要求如下： 

- 车速范围：0-120km/h； 

- 通信距离≥200m； 

- 应用层端到端时延≤500ms； 

- 水平方向精度≤1.5m。 

#### 5.2.9.5 数据交互需求 

浮动车数据采集数据交互需求如表 22 所示。

![image-20211020164211128](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164211128.png)

### 5.2.10 弱势交通参与者安全通行（VRUSP） 

#### 5.2.10.1 场景描述 

弱势交通参与者依靠自身具有无线通信能力的设备，实时发送其自身信息和运动状态等基础安全消息，同时接收周围车辆的安全消息，支持车辆对弱势交通参与者的潜在碰撞风险预警，以及弱势交通参与者对车辆的潜在碰撞风险预警。VRU的类型是多样化的，包括行人，骑自行车的人，以及有动力驱动的两轮车等。 

一方面，车辆EV能够基于VRU的消息，对潜在碰撞进行风险判定、预警或自主避让；另一方面，VRU能够基于车辆的Msg_BSM消息，对碰撞进行判定和恰当方式的预警。从而保障弱势交通参与者的安全通行。

#### 5.2.10.2 实现过程 

弱势交通参与者安全通行场景主要过程如下：

车辆EV正在行驶过程中，EV和VRU之间的视线被遮挡或VRU位于EV的视觉盲区，见图23、图24； 

-  VRU类型已知（行人，自行车，电动车，摩托车，…），EV和VRU具备无线通信能力； 

- VRU装配的通信设备周期性地向周围车辆广播自身消息，同时也接收到周围EV广播的Msg_BSM消息； 

- 周围车辆EV接收到VRU信息后，结合自身行驶状态信息（包括自身位置、速度、安全刹车距离、 车道信息、路况信息等）判断EV的运动轨迹和VRU的运动轨迹是否处于碰撞航线上，或者前方VRU是否可能会对EV行车造成影响，如果是，则对EV进行VRU警告或调整自身驾驶行为； 

- VRU接收到EV的消息后，结合自身运动状态信息，判断与EV是否有潜在的碰撞风险，如果是，则对VRU进行恰当方式的预警。

![image-20211020164301194](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164301194.png)

#### 5.2.10.3 通信方式 

车辆 EV 和 VRU 需具备短程无线通信能力，采用广播的方式进行信息交互。

应用触发期间，周期性发送。 

#### 5.2.10.4 基本性能要求 

基本性能要求如下： 

- VRU速度范围：0-25km/h； 

- 通信距离≥200m； 

- 数据通信频率≥10Hz； 

- 应用层端到端时延≤100ms； 

- 水平方向精度≤1m。 

#### 5.2.10.5 数据交互需求 

VRU 数据交互需求如表 23 所示。

![image-20211020164332259](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164332259.png)

### 5.2.11 协作式车辆编队管理（CPM） 

#### 5.2.11.1 场景描述 

协作式车辆编队管理，通过车辆间的信息交互实现编队的过程管理，实现包括创建车队、加入车队、 离开车队、解散车队等过程。其中，车队内的领航车、跟随车，以及车对外相关的自由车，均通过相应消息的发送，在无连接的情况下，实现彼此身份和编队操作的确认。协作式车辆编队管理应用能够为如高速货运等车队业务，提供高效、便捷的成员管理手段，提升车辆编队的智能化水平。 

##### 5.2.11.1.1 车辆属性定义 

车辆组队的场景下整体环境包含四种车辆角色，即领航车，跟随车，尾车（可选）和自由车。领航车定义为车辆组队场景中的头车，负责整个车队的管理工作，为整个组队场景中的数据源头，向所有跟随车发送车队成员管理信息；跟随车，定义为车辆组队场景中的头车之后的跟随车辆，是车辆组队场景中的重要组成车辆；尾车是车队中最后一辆车，根据需求可以设置该角色，也可以不设置，将尾车作为跟随车处理。自由车为车辆组队场景之外的其他车辆，自由车不参与组队领航车的跟随车的数据交互确认,见图25。

![image-20211020164415913](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164415913.png)

##### 5.2.11.1.2 组队过程中车辆属性状态转换 

在车辆组队过程中，各种车辆根据应用需要在各种角色中转换，其状态或属性相应的跟随变化，具体转换方式如下： 

自由车切换成领航车状态：当自由车根据应用需求，发送创建车队消息，自由车角色变为领航车角色，自由车属性即变为领航车属性； 

自由车切换成跟随车状态：当自由车根据应用需要发送申请加入车队消息，再确认领航车同意加入后，自由车角色变为跟随车角色，自由车属性即变为跟随车属性； 

跟随车切换成自由车状态：当跟随车根据应用需要发送离开车队消息，再确认领航车同意离队后，跟随车角色变为自由车角色，即跟随车属性变为自由车属性； 

领航车切换成自由车状态：当领航车根据应用需要发送解散车队消息，再确认所有跟随车离队后，领航车角色变为自由车，即领航车属性变为自由车属性。 

##### 5.2.11.1.3 车队运行过程中车辆状态定义 

车队运行过程中车辆状态定义见表24。

![image-20211020164500473](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164500473.png)

车队成员的管理信息，以及车辆申请信息的确认回复，均由领航车发送的成员管理信息字段表示。 

该成员管理信息包括了车队成员列表，加入成员列表以及离开成员列表，见表25。

![image-20211020164517689](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164517689.png)

#### 5.2.11.2 实现过程 

##### 5.2.11.2.1 创建车队 

创建车队场景主要过程如下： 

a) 自由车A静止或行驶状态，发起广播“创建车队”指令，见图26。 

b) 自由车A角色变换为领航车，并广播领航车信息表。

![image-20211020164538291](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164538291.png)

##### 5.2.11.2.2 加入车队 

加入车队场景主要过程如下： 

a) 自由车B接收到领航车A组队信息后，如果想要加入车队，则广播申请加入车队信息。否则不理会领航车A组队信息，见图27。 

b) 自由车B广播申请加入车队信息时，将申请状态设置为申请加入车队状态，设置车队ID为领航车A的车队ID。

![image-20211020164637167](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164637167.png)

c) 领航车A接收到自由车B申请加入车队信息后，确认是否让自由车B加入车队。如果接受自由车B为成员，则往下执行以下流程；否则无需理会该自由车B，自由车B角色还是自由车类型。领航车A动作如下： 

- 车队成员管理信息中车队申请状态置为确认同意加入车队状态，见图 28； 

- 车队成员管理信息中加入车队信息列表中增加跟随车 ID，并向队内车辆广播更新后的车队状态。

![image-20211020164722418](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164722418.png)

d) 自由车B接收到领航车A广播的确认同意加入该车队的消息，则执行以下步骤。自由车B动作如下：

- 自由车 B 设置行驶状态为加入车队状态，广播状态信息，并驶入队尾车队，见图 29； 

- 车辆 B 加入车队后进行跟驰，车辆 B 属性及角色转变为跟随车，并设置行驶状态为跟驰状态，广播状态信息。

![image-20211020164743695](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164743695.png)

e) 车辆B加入完成后，领航车A将车辆B加入车队成员列表，完成整个加入过程。其他跟随车依先后顺序，重复（1）-（5）动作，完成多个车辆加入，见图30。

![image-20211020164810665](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164810665.png)

##### 5.2.11.2.3 车队巡航

车队巡航场景主要过程如下： 

所有车辆组成编队以后，车队由领航车带领，进入巡航状态。领航车对外发布领航车及编队基本信息表，跟随车对外发布跟随车基本信息表，见图31。

![image-20211020164834521](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164834521.png)

##### 5.2.11.2.4 离开车队 

离开车队场景主要过程如下： 

a) 跟随车 B 向领航车 A 和所有跟随车广播申请离开车队指令。 

b) 领航车 A 接收到跟随车 B 申请离开车队指令后，经确认，允许跟随车 B 离开车队。跟随车 B和领航车 A 的动作如下： 

- 跟随车 B 发起申请离开车队请求，见图 32； 

- 跟随车 B 在收到领航车 A 确认离开车队信息后，车辆设置行驶状态为离队，并广播；直到完全离开车队，设置自身角色为自由车； 

- 自由车 B 停止发送车队管理消息，见图 33。

![image-20211020164900328](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164900328.png)

- 领航车 A 收到跟随车 B 申请离开车队请求； 

- 领航车 A 确认跟随车 B 可以离开车队，则将 B 移出车队成员列表，并加入到离队列表中； 

- 当 B 完全离开车队，变为自由车后，领航车 A 组队信息表中删除跟随车 B 信息，并广播。 

##### 5.2.11.2.5 解散车队 

解散车队场景主要过程如下： 

a) 领航车 A 广播“解散车队”请求，随后领航车 A 动作如下： 

- 领航车 A 信息表编队状态置为申请解散车队状态，并将车队中的所有成员加入离队列表中， 广播领航车信息表，见图 34。

![image-20211020164933209](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164933209.png)

b) 跟随车广播收到“解散车队”请求，跟随车动作如下： 

- 跟随车收到领航车 A 广播解散车队请求，见图 35； 

- 跟随车将自身状态设置为离队中并依次或自由离开车队； 

- 跟随车在离开车队后将自身角色设置为自由车； 

- 跟随车在远离车队后停止广播车队消息，见图 36。

![image-20211020164957767](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020164957767.png)

![image-20211020165011545](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020165011545.png)

c) 所有跟随车安全离开车队后，成功解散车队。 

d)领航车车辆角色变为自由车。 

e)停止发送领航车 A 信息表，见图 37。

![image-20211020165029193](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020165029193.png)

#### 5.2.11.3 通信方式 

编队车辆应具备无线通信能力，采用单播、组播或广播方式进行交互。 

#### 5.2.11.4 基本性能要求 

基本性能要求如下： 

- 车速范围：0-120km/h； 

- 通信距离≥400m； 

- （应用触发期间）数据通信频率≥10Hz； 

- 应用层端到端时延≤50ms； 

- 水平方向精度≤1m。 

#### 5.2.11.5 数据交互需求 

协作式车队管理场景数据交互需求见表 26 与表 27。

![image-20211020165059017](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020165059017.png)

### 5.2.12 道路收费服务（RTS） 

#### 5.2.12.1 场景描述 

车辆行进到城市道路或高速公路的收费区域时，车辆接收路侧发布的收费信息，并通过车路交互完成缴费业务，包括开放式收费（如过路桥收费、拥堵收费）、区域式收费（如高速路段收费、停车场收费）。收费站点部署 RSU，连接后台收费系统，车辆安装 OBU，当车辆进入收费区域，完成相互身份认证后，自动执行收费操作。 

通过车载终端与路侧单元的数据交互，在保证支付安全的条件下减少付费时间，有效提高付费成功率和车辆通行效率，有助于提升用户体验和商业服务质量；同时，能够为道路收费、拥堵收费、停车场收费等各个形态的业务，提供更灵活和轻量级的部署方式。 

#### 5.2.12.2 实现过程 

在道路收费服务场景中，定义两种安全模式，系统可以通过其中一种安全模式，完成收费服务过程。

安全模式1：利用基于LTE的车联网无线通信安全证书管理系统，实现车端和路端的身份认证，从而实现收费和支付过程。

安全模式2：利用现行的ETC电子收费系统的安全机制，参考GB/T 20851.4-2019，在应用层实现访问许可、信息鉴别、加密保护，从而实现收费和支付过程。 

##### 5.2.12.2.1 开放式道路收费（单次通道收费）服务 

开放式道路收费（单次通道收费）服务场景主要过程如下： 

1) RSU对外广播道路收费服务信息，包括支持的收费服务列表及对应的收费信息等。 

2) 车辆EV在进入收费区域，收到RSU广播的收费服务信息后，确定交互的安全模式和收费服务类型：

- 对于安全模式1：EV将收费服务类型、系统信息、车辆信息等发送给RSU； 

- 对于安全模式2：EV首先将从ESAM读取的系统信息和随机数发送给RSU；RSU根据系统信息和随机数生成访问许可，发送至EV；EV收到后验证访问许可的有效性，通过后将车辆信息等发送至RSU。 

3) RSU通过与收费系统交互获取交易信息，并将交易信息和站点信息等发送给EV。 

- 安全模式2：消息需附带从PSAM读取的随机数和用于信息鉴别的秘钥版本信息。 

4) EV记录站点信息，并根据消费信息生成收费交易凭证： 

- 安全模式1：将交易凭证携带支付账户信息发送给RSU； 

- 安全模式2：将交易凭证携带用于鉴别文件的真实性的信息鉴别码发送给RSU。 

5) RSU向EV发送交易结果和通行提示，见图38

![image-20211020165213913](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020165213913.png)

##### 5.2.12.2.2 区域式道路（如高速公路）收费服务 

区域式道路（如高速公路）收费服务场景见图 39，主要过程如下： 

a) 车辆驶入收费入口 

车辆驶入收费入口场景主要过程如下： 

1) RSU-1对外广播道路收费服务信息，包括支持的收费服务列表及对应的收费信息等； 

2) 车辆EV在进入收费入口区域，收到RSU-1广播的收费服务信息后，确定交互的安全模式和收费服务类型： 

- 安全模式1：EV将收费服务类型、系统信息、车辆信息等发送给RSU-1； 

- 安全模式2：EV首先将从ESAM读取的系统信息和随机数发送给RSU-1；RSU-1根据系统信息和随机数生成访问许可，发送至EV；EV收到后验证访问许可的有效性，通过后将车辆信息等发送至RSU-1。 

3. RSU-1通过与收费系统交互获取交易信息，并将交易信息和站点信息等发送给EV； 

- 安全模式2：消息需附带从PSAM读取的随机数和用于信息鉴别的秘钥版本信息。 

4) EV记录站点信息，并根据消费信息生成收费交易凭证； 

- 安全模式1：将交易凭证携带支付账户信息发送给RSU； 

- 安全模式2：将交易凭证携带用于鉴别文件的真实性的信息鉴别码发送给RSU。 

5)  RSU-1向EV发送交易结果（入口处不一定进行费用结算）和驶入提示。

![image-20211020165319289](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020165319289.png)

b) 车辆驶出收费出口/经过分段结算区 

车辆驶出收费出口/经过分段结算区场景主要过程如下： 

1) RSU-2对外广播道路收费服务信息，包括支持的收费服务列表及对应的收费信息等； 

2) 车辆EV在进入收费区域，收到RSU-2广播的收费服务信息后，确定交互的安全模式和收费服务类型： 

- 安全模式1：EV将收费服务类型、系统信息、车辆信息、过站信息等发送给RSU-2； 

- 安全模式2：EV首先将从ESAM读取的系统信息和随机数发送给RSU-2；RSU-2根据系统信息和随机数生成访问许可，发送至EV；EV收到后验证访问许可的有效性，通过后将车辆信息等发送至RSU-2。 

3) RSU-2通过与收费系统交互获取交易信息，并将交易信息和站点信息等发送给EV。 

- 安全模式2：消息需附带从PSAM读取的随机数和用于信息鉴别的秘钥版本信息。 

4)  EV记录站点信息，并根据消费信息生成收费交易凭证： 

- 安全模式1：将交易凭证携带支付账户信息发送给RSU； 

- 安全模式2：将交易凭证携带用于鉴别文件的真实性的信息鉴别码发送给RSU。 

5)  RSU-2向EV发送交易结果和驶出提示。 

#### 5.2.12.3 通信方式 

车辆EV与RSU应具备无线通信能力，采用单播或广播方式进行信息交互。 

RSU周期性广播道路收费消息。 

#### 5.2.12.4 基本性能要求

基本性能要求如下： 

- 车速范围：0-120km/h； 

- 通信距离≥200m； 

- （应用触发期间）数据通信频率：RSU道路收费信息≥1Hz，OBU交互信息≥10Hz(5s内收到回复为止)； 

- 应用层端到端时延≤100ms； 

- 水平方向精度≤0.5m。 

#### 5.2.12.5 数据交互需求 

道路收费服务场景数据交互需求见表 28。

![image-20211020165418215](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020165418215.png)

# 6 应用层交互数据技术要求 

## 6.1 消息层基本介绍和要求 

本文件中消息层数据集采用 ASN.1 标准进行定义，遵循“消息帧-消息体-数据帧-数据元素”层层嵌套的逻辑进行制定。 

数据集交互的编解码方式遵循非对齐压缩编码规则 UPER。 

本文件仅对第二阶段消息集中新出现的或在 YD/T 3709-2020 规定的消息集基础上扩展的数据元素与数据帧进行定义，其余数据元素与数据帧参考标准 YD/T 3709-2020。 

## 6.2 消息层数据集定义

本文件定义的消息层数据集，以统一的消息帧格式打包。消息帧包含 YD/T 3709-2020 中定义的 5个消息，以及本文件定义的第二阶段扩展消息，见图 40；在第二阶段扩展消息中，包含了 9 个新消息体，见图 41。

![image-20211020165509922](https://gitee.com/er-huomeng/l-img/raw/master/image-20211020165509922.png)

### 6.2.1 消息帧 

消息帧是单个应用层消息的统一打包格式，是数据编解码的唯一操作对象。消息帧由不同类别的消息体组成，并支持扩展。

```ASN.1
-- Main message frame 
MessageFrame ::= CHOICE { 
	-- Day 1 message frames ------------------ 
	bsmFrame BasicSafetyMessage, 
	mapFrame MapData, 
	rsmFrame RoadsideSafetyMessage, 
	spatFrame SPAT, 
	rsiFrame RoadSideInformation, 
	..., 
	-- Day 2 message frames ------------------ 
	msgFrameExt MessageFrameExt, 
	... 
}
```

### 6.2.2 消息体 

#### 6.2.2.1 Msg_MessageFrameExt 

【定义】

应用层及应用数据交互标准第二阶段消息。

```ASN.1
MessageFrameExt ::= SEQUENCE { 
	messageId MESSAGE-ID-AND-TYPE.&id({MessageTypes}), 
	value MESSAGE-ID-AND-TYPE.&Type({MessageTypes}{@.messageId}), 
	... 
}

MESSAGE-ID-AND-TYPE ::= CLASS { 
	&id ExtMsgID UNIQUE, 
	&Type 
} WITH SYNTAX {&Type IDENTIFIED BY &id} 

MessageTypes MESSAGE-ID-AND-TYPE ::= { 
	{ TestMsg IDENTIFIED BY testData } | 
	{ RTCMcorrections IDENTIFIED BY rtcmData } | 
	{ PAMData IDENTIFIED BY pamData } | 
	{ CLPMM IDENTIFIED BY clpmmData } | 
	{ PersonalSafetyMessage IDENTIFIED BY psmData } | 
	{ RoadsideCoordination IDENTIFIED BY rscData } | 
	{ SensorSharingMsg IDENTIFIED BY ssmData } | 
	{ VehIntentionAndRequest IDENTIFIED BY virData } |
	{ VehiclePaymentMessage IDENTIFIED BY vpmData }, 
	... 
}

ExtMsgID ::= INTEGER (0..32767) 

-- Test Message 
testData ExtMsgID ::= 0 

-- DAY II Messages ********************* 
rtcmData ExtMsgID ::= 10 
rscData ExtMsgID ::= 11 
ssmData ExtMsgID ::= 12 
virData ExtMsgID ::= 13 
pamData ExtMsgID ::= 14 
psmData ExtMsgID ::= 15 
clpmmData ExtMsgID ::= 16 
vpmData ExtMsgID ::= 17
```

#### 6.2.2.2 Msg_MAP 

【定义】

在第一阶段MAP消息基础上，进行兼容性扩展，支持更复杂的道路结构表达，以及更精确的车道级地图数据。增加了对路段中车道数增减的情况，信号灯待转区、右转专用道、公交停靠车道等国内道路常见场景的支持，扩展了转向信息以及路口车道间连接关系等。

```ASN.1
MapData ::= SEQUENCE { 
	msgCnt MsgCount, 
	timeStamp MinuteOfTheYear OPTIONAL, 
	nodes NodeList, 
	-- intersections or road endpoints
	...
	}
```

#### 6.2.2.3 Msg_PAM 

【定义】

场站内部地图的消息。包含了场站内道路信息、车位信息等，以及路侧向车辆提供的场站内引导信息。

```ASN.1
PAMData ::= SEQUENCE { 
	msgCnt MsgCount, 
	timeStamp MinuteOfTheYear OPTIONAL, 
	parkingLotInfo ParkingLotInfo, 
	-- Basic info of this parking area 
	pamNodes PAMNodeList, 
	-- intersections or road endpoints in parking area 
	
	parkingAreaGuidance SEQUENCE (SIZE(1..16)) OF ParkingGuide OPTIONAL, 
	-- parking area path guidance for individual vehicles 
	-- are list here. 
	
	... 
}
```

#### 6.2.2.4 Msg_CLPMM 

【定义】

面向无连接的车队管理消息。用来进行车队场景下的管理信息交互。该消息可由车队领航车、跟随车或参与车队的自由车广播，可用于车队建立、加入、离开、解散等过程。

```ASN.1
CLPMM ::= SEQUENCE { 
	msgCnt MsgCount, 
	id OCTET STRING (SIZE(8)), 
	-- temperary vehicle ID secMark DSecond, 
	pid OCTET STRING (SIZE(17)),
    -- Platooning ID 
    role RoleInPlatooning, 
    -- vehicle role 
    status StatusInPlatooning, 
    -- vehicle status leadingExt
    MemberManagement OPTIONAL, 
    -- Platooning management information 
    -- sent by the leading vehicle 
    ... 
    }
```

#### 6.2.2.5 Msg_PSM 

【定义】

弱势交通参与者（行人、非机动车）的基础安全消息，由VRU自身所携带的通信设备发送。

```ASN.1
PersonalSafetyMessage ::= SEQUENCE { 
	-- Basic Info -- 
	msgCnt MsgCount, 
	id OCTET STRING (SIZE(8)), 
	-- temperary ID 
	secMark DSecond, 
	timeConfidence TimeConfidence OPTIONAL, 
	pos Position3D, 
	posAccuracy PositionalAccuracy, 
	-- Accuracy for GNSS system 
	speed Speed, 
	heading Heading, 
	accelSet AccelerationSet4Way OPTIONAL, 
	pathHistory PathHistory OPTIONAL, 
	path-Planning PathPlanning OPTIONAL, 
	overallRadius INTEGER (0..200), 
	-- In units of one decimeter 
	-- Radius considering cluster or attachment 
	
	-- Type-related Data 
	-- non-motorData Non-motorData, 
	... 
	}
```

#### 6.2.2.6 Msg_RSC 

【定义】

路侧单元进行车辆协作或引导的消息，通常用于广播、组播或单播，给车辆提供引导信息和驾驶决策支持。消息可以针对单车进行引导，也可以面向特定的路段和车道符合条件的车辆进行引导。

```ASN.1
RoadsideCoordination ::= SEQUENCE { 
	msgCnt MsgCount, 
	id OCTET STRING (SIZE(8)), 
	-- temperary RSU ID
	secMark DSecond, 
	refPos Position3D, 
	-- Reference position of this RSC message 
	coordinates SEQUENCE (SIZE(1..16)) OF VehicleCoordination OPTIONAL, 
	-- Coordination with single vehicle 
	laneCoordinates SEQUENCE (SIZE(1..8)) OF LaneCoordination OPTIONAL, 
	-- Lane or link level coordination 
	... 
}
```

#### 6.2.2.7 Msg_RTCM 

【定义】

RTCM差分增强信息的消息。用于车辆提升自身定位精度。

```ASN.1
RTCMcorrections ::= SEQUENCE { 
	msgCnt MsgCount, 
	corrections SEQUENCE (SIZE(1..5)) OF RTCMmsg, 
	... 
	}
```

##### 6.2.2.8 Msg_SSM 

【定义】

交通参与者、道路障碍物和交通事件的感知共享消息，可由OBU、RSU以及VRU发布。 

Msg_SSM由RSU发送时，能够完全覆盖所有Msg_RSM中的信息，因此在一些条件允许或者应用场景要求较高的地方，可以替代Msg_RSM使用。

```ASN.1
SensorSharingMsg ::= SEQUENCE { 
	msgCnt MsgCount, 
	id OCTET STRING (SIZE(8)), 
	-- temperary vehicle ID / RSU ID 
	-- who provides the sensor sharing info. 
	equipmentType EquipmentType, 
	-- Type of the sender 
	secMark DSecond, 
	sensorPos Position3D, 
	-- Position of the RSU or OBU that sends this message 
	-- Used as the reference position within this VSS message
	detectedRegion DetectedRegion OPTIONAL, 
	-- detection area description 
	-- Autonomous vehicles combine the output of the target to make different safety strategies 
	participants DetectedPTCList OPTIONAL, 
	-- All or part of the traffic participants 
	obstacles DetectedObstacleList OPTIONAL, 
	-- All or part of Obstacles 
	rtes RTEList OPTIONAL, 
	-- All the rte data packed in this message 
	... 
	}
```

##### 6.2.2.9 Msg_VIR 

【定义】

车辆意图及请求消息。用来进行车辆驾驶意图、优先请求、协作请求等信息的传递。

```ASN.1
VehIntentionAndRequest ::= SEQUENCE { 
	msgCnt MsgCount, 
	id OCTET STRING (SIZE(8)), 
	-- temperary vehicle ID 
	-- same as id in BSM 
	secMark DSecond,
    refPos Position3D, 
    -- vehicle real position relates to secMark 
    intAndReq IARData, 
    -- vehicle intention and request 
    ... 
    }
```

#### 6.2.2.10 Msg_VPM 

【定义】

车辆支付消息。用来提供车辆和道路实现道路收费和支付信息的交互。

```ASN.1
VehiclePaymentMessage::= SEQUENCE{ 
	msgCnt MsgCount, 
	payment CHOICE{
		initialzation-request RST, 
		--Roadside Service Talbe 
		initialzation-response VSI, 
		--Vehicle Service Indication 
		action-request Action-Request, 
		action-response Action-Response, 
		... },
	... 
}
```

#### 6.2.2.11 Msg_RSI 

【定义】

在第一阶段RSI消息基础上，进行兼容性扩展。增加道路的辅助标志信息。

```ASN.1
RoadSideInformation ::= SEQUENCE { 
	msgCnt MsgCount, 
	moy MinuteOfTheYear OPTIONAL, 
	id OCTET STRING (SIZE(8)), 
	-- RSU ID refPos Position3D, 
	-- Reference position of this RSI message 
	rtes RTEList OPTIONAL, 
	-- All the rte data packed in this message 
	rtss RTSList OPTIONAL, 
	-- All the rts data packed in this message 
	... 
}
```

#### 6.2.2.12 Msg_TEST 

【定义】

提供测试使用的私有消息格式。

```ASN.1
TestMsg ::= SEQUENCE { 
	msgCnt MsgCount, 
	userData OCTET STRING (SIZE(1..2048))
}
```

#### 6.2.3 数据帧 

##### 6.2.3.1 DF_AccountInfo 

【定义】

定义LTE-V安全模式下的用户支付账户信息。用于响应写入通信凭证和入口信息操作时填写支付账号信息。

```ASN.1
AccountInfo ::= SEQUENCE{ 
	account OCTET STRING (SIZE(2..32)), 
	--账号 
	... 
	}
```

#### 6.2.3.2 DF_AccSet4WayConfidence 

【定义】

定义四轴加速度的置信度。

```ASN.1
AccSet4WayConfidence ::= SEQUENCE { 
	lonAccConfidence AccConfidence, 
	latAccConfidence AccConfidence, 
	vertAccConfidence AccConfidence, 
	yawRateCon AngularVConfidence 
	}
```

#### 6.2.3.3 DF_Action-Request 

【定义】

定义RSU向车辆发起的支付请求消息。 

包括请求模式、目标车辆ID、支付信息以及RSU的认证信息。

```ASN.1
Action-Request::=SEQUENCE{ 
	time DDateTime,
	mode BOOLEAN, 
	-- Mode 1 needs confirm; Mode 0 needs not
	sourceId OCTET STRING (SIZE(8)), 
	-- Rsu ID 
	targetId OCTET STRING (SIZE(8)) OPTIONAL, 
	-- Target OBU ID, necessary in broadcast mode 
	paymentEntityId PaymentEntityID, 
	actionParameter TransInfo, 
	accessCredentials OCTET STRING (SIZE(8)) OPTIONAL, 
	-- CON ETC SEC Mode 
	-- RSU's certification to visit OBU, calculated from rndOBU in VSI
    ... 
}
```

#### 6.2.3.4 DF_Action-Response 

【定义】

定义车辆对RSU发起的支付请求信息的回应消息。 

包括本车ID、目标RSU ID、支付信息以及请求消息的操作状态。

```ASN.1
Action-Response::=SEQUENCE{ 
	time DDateTime, 
	sourceId OCTET STRING (SIZE(8)), 
	-- Host OBU Id 
	targetId OCTET STRING (SIZE(8)) OPTIONAL, 
	-- Target RSU Id, necessary in broadcast mode 
	paymentEntityId PaymentEntityID, 
	responseParameter TransInfo OPTIONAL, 
	ret ReturnStatus, 
	... 
	}
```

#### 6.2.3.5 DF_AngularVelocity 

【定义】

定义姿态角速度。 

包括俯仰角、滚转角和偏航角。

```ASN.1
AngularVelocity ::= SEQUENCE { 
	pitchRate PitchRate, 
	rollRate RollRate, 
	yawRate YawRate 
}
```

#### 6.2.3.6 DF_AngularVelocityConfidence 

【定义】

定义姿态角速度置信度。 

包括俯仰角速度置信度、滚转角速度置信度、横摆角速度置信度。

```ASN.1
AngularVelocityConfidence ::= SEQUENCE { 
	pitchRate AngularVConfidence, 
	rollRate AngularVConfidence, 
	yawRate AngularVConfidence 
}
```

#### 6.2.3.7 DF_ApplicationParameter 

【定义】

定义支付消息中，初始化响应消息中的道路通行或服务收费的信息。 

包括道路通行费或服务的付款方式和收费的细节信息。

```ASN.1
ApplicationParameter::=SEQUENCE{ 
	pid PaymentEntityID, 
	-- Payment type of road toll or services 
	paymentInfo PaymentInfo, 
	-- Payment detailed information
	...
    }
```

#### 6.2.3.8 DF_Attitude 

【定义】

定义车辆的姿态角。

包括俯仰角、滚转角、横摆角。

```ASN.1
Attitude ::= SEQUENCE { 
	pitch Pitch, 
	roll Roll, 
	yaw Yaw 
	}
```

#### 6.2.3.9 DF_AttitudeConfidence 

【定义】

定义车辆姿态角置信度。 

包括俯仰角置信度、滚转角置信度、横摆角置信度。

```ASN.1
AttitudeConfidence ::= SEQUENCE { 
	pitchConfidence HeadingConfidence, 
	rollRateConfidence HeadingConfidence, 
	yawRate HeadingConfidence 
	}
```

#### 6.2.3.10 DF_ChannelRq 

【定义】

定义通道请求信息。用于请求向 OBU 内模块发送操作指令。

```ASN.1
ChannelRq ::= SEQUENCE{ 
	channelid ChannelID, 
	--通道标识 ID 
	apdu ApduList, 
	--通道指令数据 
    ...
}
```

#### 6.2.3.11 DF_ChannelRs 

【定义】

定义通道响应信息。用于表示对操作指令结果的响应。

```ASN.1
ChannelRs ::= SEQUENCE{ 
	channelid ChannelID, 
	--通道标识 ID 
	apdu ApduList,
    --通道指令数据 
    ... 
}
```

#### 6.2.3.12 DF_AuxiliarySign 

【定义】

定义道路辅助标识信息。用于标识车辆禁行标志等道路辅助标识信息。

```ASN.1
AuxiliarySign::= SEQUENCE{ 
	signWithVehicleType AuxiliarySignVehicleType OPTIONAL,
    -- 补充说明某些标志规定车辆的种类、属性，可用于表示一种或两种车辆禁止向某方向行驶的场景中 
    signDirection AuxiliarySignDirection OPTIONAL, 
    -- 补充说明禁令或标志规定的方向 
    ... 
}
```

#### 6.2.3.13 DF_ConnectingLaneEx 

【定义】

用于定位上游车道转向连接的下游车道的扩展信息。 

包括上游车道转向下游车道经过的分段 Id 和相连接的车道 ID，以及相邻车道的详细信息，如车道宽度、车道位置、是否和其他车道存在隔离（通常存在于右转时）。

```ASN.1
ConnectingLaneEx ::= SEQUENCE { 
	target-section SectionId, 
	target-lane LaneRefID, 
	-- Index of the connecting lane 
	
	connectingLaneWidth LaneWidth OPTIONAL, 
	-- Indicating the width of the real or virtual connecting lane 
	connectingLanePoints PointList OPTIONAL,
	-- Indicating the position of the real or virtual connecting lane 
	isolatedConnectingLane BOOLEAN OPTIONAL 
	-- A real isolated connecting lane is separated from any other lanes 
	-- Usually exists in right turning 
	}
```

#### 6.2.3.14 DF_ConnectionEx 

【定义】

定义当前车道与下游路段中车道连接关系的扩展信息。 

包括下游路段节点出口 ID、连接的下游路段车道扩展信息以及对应的信号灯相位号和某些信号灯相位号的等待区域（通常用于左转），同时指示此移动相对应的转弯方向。

```ASN.1
ConnectionEx::= SEQUENCE { 
	remoteIntersection NodeReferenceID, 
	-- This entry indicates the downstream intersection of the link this lane connects to. 
	-- This provides a means to create meshes of lanes 
	swl SignalWaitingLane OPTIONAL, 
	-- waiting area for certain signal phase 
	-- usually set for left turn 
	connectingLane SEQUENCE (SIZE(1..16)) OF ConnectingLaneEx OPTIONAL, 
	-- The index of the connecting lane and also 
	-- the maneuver from the current lane to it 
	-- When we want to list the allowed lanes of the next link 
	-- this lane can lead to, we use this entry phaseId PhaseID OPTIONAL, 
	-- The matching signal group send by 
	-- the SPAT message for this lane/maneuver. 
	-- Shall be present unless the connectingLane 
	-- has no signal group (is un-signalized) turn-direction Maneuver OPTIONAL, 
	-- Indicating the turn direction corresponding to this movement
	...
    }
```

#### 6.2.3.15 DF_ConnectsToExList 

【定义】

定义路段中每条车道，在下游路口处与下游路段中车道的转向连接关系扩展信息列表。

```ASN.1
ConnectsToExList ::= SEQUENCE (SIZE(1..32)) OF ConnectionEx
```

#### 6.2.3.16 DF_DetectedObstacleData 

【定义】

定义感知到的障碍物信息。 

包括障碍物类型、类型置信度、标识 Id、物体大小、形状、移动速度、航向角、加速度等信息， 以及障碍物数据的来源、时间戳信息。

```ASN.1
DetectedObstacleData ::= SEQUENCE { 
	obsType ObstacleType, 
	objTypeConfidence Confidence OPTIONAL, 
	obsId INTEGER (0..65535), 
	-- temporary ID set by the message sender
    -- 0 is reserved 
    -- 1..255 represent different detected obstacles 
    -- obsId of different participant needs to be unique locally 
    source SourceType, 
    secMark DSecond, 
    pos PositionOffsetLLV, 
    posConfidence PositionConfidenceSet,
    speed Speed, 
    speedCfd SpeedConfidence OPTIONAL, 
    heading Heading, 
    headingCfd HeadingConfidence OPTIONAL, 
    verSpeed Speed OPTIONAL, 
    verSpeedConfidence SpeedConfidence OPTIONAL, 
    accelSet AccelerationSet4Way OPTIONAL, 
    size ObjectSize, 
    objSizeConfidence ObjectSizeConfidence OPTIONAL, 
    tracking INTEGER (1..65535) OPTIONAL, 
    -- tracking time of this obstacle 
    -- in seconds polygon Polygon OPTIONAL, 
    -- 3D vertex list 
    ... 
    }
```

#### 6.2.3.17 DF_DetectedObstacleList

【定义】

定义感知到的障碍物信息列表。

```ASN.1
DetectedObstacleList ::= SEQUENCE (SIZE(1..64)) OF DetectedObstacleData
```

#### 6.2.3.18 DF_DetectedPTCData 

【定义】

定义感知到的交通参与者数据。 

包括感知到的交通参与者的基本信息，可选字段包括参与者尺寸大小、类型、四轴加速度和相关参数的置信水平，以及其保持某一状态的时间、历史轨迹、路线规划、跟踪时间、感知区域的，同时可以使用机动车或者非机动车的扩展信息作为补充。

```ASN.1
DetectedPTCData::= SEQUENCE { 
	ptc ParticipantData, 
	-- Basic information of traffic participant 
	objSizeConfidence ObjectSizeConfidence OPTIONAL, 
	--大小置信度 detectedPTCType DetectedPTCType OPTIONAL, 
	-- DayI 中 ParticipantType 类型很少，考虑是扩展原有的还是将 ParticipantType 作为一级分类，新增 字段作为二级分类 
	typeConfidence Confidence OPTIONAL, 
	-- 类型置信度 
	acc4WayConfidence AccSet4WayConfidence OPTIONAL, 
	--四轴加速度置信度 
	statusDuration TimeOffset OPTIONAL, 
	-- Time length for which ptc keeps the same situation 
	-- Mainly used for stationary vehicle 
	pathHistory PathHistory OPTIONAL, 
	planningList PlanningList OPTIONAL, 
	-- 路侧对被感知对象的预测可以比车端做得更优，协同预测 
	tracking INTEGER (1..65535) OPTIONAL, 
	-- tracking time of this obstacle 
	-- in seconds 
	polygon Polygon OPTIONAL, 
	-- 3D vertex list 
	
	type-relatedExt CHOICE { 
		motorExt MotorDataExtension,
		-- Data Extension for vehicle 
		non-motorExt Non-motorDataExtension, 
		-- Data Extension for vehicle 
		... 
	}OPTIONAL, 
	... 
}
```

#### 6.2.3.19 DF_DetectedPTCList 

【定义】

定义感知到的交通参与者的信息集合。

```ASN.1
DetectedPTCList ::= SEQUENCE (SIZE(1..512)) OF DetectedPTCData 
-- The target number at a large intersection can reach 300 to 500. 
-- need to consider the air interface resource capacity
```

#### 6.2.3.20 DF_DetectedRegion 

【定义】

定义感知区域的描述信息。 

表示由一系列具有三维相对位置的定点组成的多边形区域。

```ASN.1
DetectedRegion ::= SEQUENCE (SIZE(1.. 8)) OF Polygon
```

#### 6.2.3.21 DF_DriveRequest 

【定义】

定义 VIR 消息中车辆发出的请求信息。 

包括此次请求消息的标识 ID、请求消息的操作状态，可选字段包括请求的优先级、目标车辆的临时标识、目标 RSU 的临时标识、请求的内容、消息的有效期等。

```ASN.1
DriveRequest ::= SEQUENCE { 
	reqID INTEGER (0..255), 
	-- local ID of this request
	-- same request in serial VIR messages should keep the same reqID 
	status ReqStatus, 
	reqPriority OCTET STRING (SIZE(1)) OPTIONAL, 
	-- One-bit string 
	-- The lower five bits are reserved and shall be set to zero 
	-- Value from B00000000 to B11100000 represents the lowest to the highest level 
	targetVeh OCTET STRING (SIZE(8)) OPTIONAL, 
	-- the temporary ID of target vehicle targetRSU OCTET STRING (SIZE(8)) OPTIONAL, 
	-- the temporary ID of target RSU info ReqInfo OPTIONAL, 
	lifeTime TimeOffset OPTIONAL, 
	-- Lifetime of this request 
	-- Time offset is calculated from secMark of this message 
	... 
}
```

#### 6.2.3.22 DF_DriveSuggestion

【定义】

定义对单车或道路的驾驶行为建议。

```ASN.1
DriveSuggestion ::= SEQUENCE { 
	suggestion DriveBehavior, 
	-- Drive behavior allowed or recommended 
	-- within the time range below 
	-- if matches the related link or path 
	lifeTime TimeOffset OPTIONAL, 
	-- Lifetime of this suggestion 
	-- Time offset is calculated from secMark of this message 
	relatedLink ReferenceLink OPTIONAL, 
	-- Extra judgement condition for vehicle to decide whether to follow the suggestion or not 
	relatedPath ReferencePath OPTIONAL, 
	-- Extra judgement condition for vehicle to decide whether to follow the suggestion or not 
	...
    }
```

#### 6.2.3.23 DF_FullPositionVector

【定义】

定义完整的参考轨迹点信息。用于车辆历史轨迹数据单元，作为一串轨迹点的参考点数据。

```ASN.1
FullPositionVector ::= SEQUENCE { 
	utcTime DDateTime OPTIONAL, 
	-- time with mSec precision 
	pos Position3D, 
	heading Heading OPTIONAL, 
	transmission TransmissionState OPTIONAL, 
	speed Speed OPTIONAL, 
	posAccuracy PositionalAccuracy OPTIONAL, 
	posConfidence PositionConfidenceSet OPTIONAL, 
	timeConfidence TimeConfidence OPTIONAL, 
	motionCfd MotionConfidenceSet OPTIONAL, 
	... 
	}
```

#### 6.2.3.24 DF_GBICCInfo 

【定义】

定义 OBU 支付信息中的 IC 卡预读信息。

```ASN.1
GBICCInfo ::= SEQUENCE{ 
	iccIssueInfo OCTET STRING(SIZE(0..127,...)), 
	--卡片发行节本信息 
	iccUniTollInfo OCTET STRING(SIZE(0..127,...)), 
	--联网典型收费信息 
	iccBalance OCTET STRING(SIZE(0..127,...)), --电子钱包余额
	...
   }
```

#### 6.2.3.25 DF_GetTollDataRq 

【定义】

定义单片式请求获取收费数据、车辆信息。 

包括车辆信息、出入口信息、访问许可密钥等。