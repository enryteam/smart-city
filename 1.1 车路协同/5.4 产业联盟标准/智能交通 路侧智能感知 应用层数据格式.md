智能交通 路侧智能感知 应用层数据格式

2019-09-30 发布 									2020-03-01 实施

## 1 范围

本标准规定了智能交通系统中路侧智能感知的应用层场景和应用层数据交换格式，包括数据集的定义和编解码方式。 

本标准适用于基于路侧智能感知设备的应用场景开发、验证和商用，适用于智能路侧设备与交通参与者之间的数据交互过程，以及路侧智能感知设备对消息进行融合和转发、并精确控制传播范围的过程。 

本标准不涉及智能路侧设备与中心子系统之间的数据交互过程。 

## 2 规范性引用文件 

下列文件对于本文件的应用是必不可少的。凡是注日期的引用文件，仅所注日期的版本适用于本文件。凡是不注日期的引用文件，其最新版本（包括所有的修改版）适用于本文件。 

GB/T 31024.3-2019 合作式智能运输系统 专用短程通信 第3部分：网络层和应用层规范 

GB/T 16262.1-2006 信息技术 抽象语法记法一（ASN.1） 第 1 部分：基本记法规范 

GB/T 16262.2-2006 信息技术 抽象语法记法一（ASN.1） 第 2 部分：信息客体规范 

GB/T 16262.3-2006 信息技术 抽象语法记法一（ASN.1） 第 3 部分：约束规范 

GB/T 16262.4-2006 信息技术 抽象语法记法一（ASN.1） 第 4 部分：ASN.1 规范的参数化 

GB/T 16263.2-2006 信息技术 ASN.1编码规则 第2部分：紧缩编码规则（PER）规范 

T/ITS 0058-2016 合作式智能运输系统 车用通信系统应用层及应用数据交互标准 

T/ITS 0097-2018 合作式智能运输系统 通信架构 

T/ITS 0098-2018 合作式智能运输系统 增强应用集 

SAE J2735 专用短程通信消息集字典（Dedicated Short Range Communications (DSRC) Message Set Dictionary） 

## 3 术语和定义 

下列术语和定义适用于本文件。 

### 3.1 智能路侧设备 Intelligent Roadside Equipment, IRE 

部署在道路之上或道路附近的基础设施，具备感知、通信与边缘计算能力。 

### 3.2 V2X Vehicle-to-Everything

车载单元与其他设备之间的通信功能，包括但不限于车载单元之间通信（V2V）、车载单元与路侧单元通信（V2I）、车载单元与行人设备通信（V2P）、车载单元与网络之间通信（V2N）等功能。 

### 3.3 智能网联汽车 Intelligent & Connected Vehicle，ICV 

搭载先进的车载传感器、控制器、执行器等装置，并融合现代通信与网络技术，实现车与 X（人、车、路、云端等）智能信息交换、共享，具备复杂环境感知、智能决策、协同控制等功能，可实现“安全、高效、舒适、节能”行驶，并最终可实现替代人来操作的新一代汽车。 

### 3.4 消息 Message 

在多个通信设备之间传递的、符合特定格式并具备特定含义的数据元素集合。 

### 3.5 通信延迟 Communication latency 

从消息在发送端被发送到接收端正确完整接收的时间差。 

### 3.6 感知延迟 Perception latency 

从交通参与者某状态对应的真实时刻或事件发生的时刻，到该交通参与者的该状态或该事件被邻近的 IRE 检测到的时刻之间的时间差。 

### 3.7 数据包 Data packet 

每个消息被认为是发送该消息的通信系统的一个应用层数据包。即使该数据包在通信系统的底层被分解为多个更小的数据帧，它们仍然被认为是同一个数据包。 

### 3.8 有效丢包率 Effective packet loss rate 

当消息被连续重复发送 N 次时，携带这些消息的所有 N 个数据包都被丢失的概率被称为有效丢包率。当数据包被重复发送的时间间隔大于信道相关时间（channel coherence time）、并忽略拥塞情况时，有效丢包率等于单个数据包的丢包率的 N 次方。 

### 3.9 最大置信时间 Maximum confidence time 

用于判断感知结果是否超时的物理量。由于在数据处理和通信过程中存在延迟，消息接收端处理消息的时刻与消息的感知时间会存在一定时间差。在此段时间内，道路交通信息可能已发生改变。当此时间差小于等于最大置信时间时，可认为消息中的目标信息或状态信息是直接可用的；否则，接收端应对信息进行修正或舍弃。 

## 4 缩略语 

下列缩略语适用于本文件。 

API: 应用程序接口（Application Programming Interface） 

C-ITS:合作式智能运输系统（Cooperative Intelligent Transportation System） 

CSU：中心服务单元（Central Service Unit） 

ECU：边缘计算单元（Edge Computing Unit） 

ESU：边缘服务单元（Edge Service Unit） 

IRE：智能路侧设备（Intelligent Roadside Equipment） 

ITS：智能交通系统（Intelligent Transportation System） 

LTE：长期演进（Long Term Evolution） 

LTE-V2X：基于 LTE 的车用无线通信技术（ LTE Vehicle to Everything） 

OBU：车载单元（On-Board Unit） 

PSU：个人业务单元（Personal Service Unit） 

QoS：服务质量（Quality of Service） 

RSS：路侧传感器（Road Side Sensors） 

RSU：路侧单元（Road Side Unit） 

VRU：弱势交通参与者（Vulnerable Road User） 

## 5 智能路侧设备的通信架构与数据来源 

### 5.1 通信架构 

本标准基于T/ITS 0097-2018定义的C-ITS系统逻辑框架，系统中各个子系统及其接口之间的交互见图1所示。 

C-ITS 系统中各个子系统如下： 

a) 个人子系统：应为个人和移动设备提供 ITS 应用。依据部署和性能需求，个人子系统的具体实例可以包含一组个人业务单元PSU），PSU 包含各类程序和/或设施。 

b) 车辆子系统：应为驾驶员和/或乘客提供 ITS 应用服务。车辆子系统的具体实例可以包含一组车载单元（OBU），OBU 包含各类程序和/或设施。 

c) 道路子系统：应通过道路上安装的各类传感器和其它设备为车辆和交通管理提供 ITS 应用所需的信息，并根据应用需求，执行相应控制指示。道路子系统逻辑上可包含智能路侧设备（IRE） 和电子交通设施（如信号灯、电子标志牌等）；其中，IRE 包括路侧单元（RSU）、边缘计算 单元（ECU）和路侧传感器（RSS）。RSS 可与 RSU 统一部署，也可独立部署；ECU 实现智能计算、设备管理和业务分发等功能。 

d) 中心子系统：应通过车辆子系统、道路子系统和个人子系统汇聚的数据，提供全局或者局部的ITS 应用服务。基于数据汇聚和通信时延的需求，中心子系统应包括处理局部和时延敏感业务的边缘服务单元（ESU）和处理全局和非时延敏感业务的中心服务单元（CSU）。

![image-20211117093524916](https://gitee.com/er-huomeng/l-img/raw/master/image-20211117093524916.png)

### 5.2 数据来源和数据交互通道 

IRE 是位于道路子系统中的基础设施，它的构成主要包括如下物理单元，不同的物理单元可以部署在不同的物理设备上，也可以部署在同一个物理设备中。IRE 的物理系统与逻辑功能见图 2。

![image-20211117093853125](https://gitee.com/er-huomeng/l-img/raw/master/image-20211117093853125.png)

IRE 的智能计算、通信和设备管理能力的具体描述如下：

a) 智能计算能力： 

1) 由 RSS、ECU 中的计算平台和算法子单元共同提供，是本标准所定义的数据集中的数据的主要来源。RSS 与 ECU 进行感知数据的交互，计算平台主要包括处理器、硬件加速器、存储器、操作系统和应用程序编程接口（API）等。 

2) 包括对道路交通环境中的交通参与者的状态和道路状况的持续观测或测量能力。交通参与者、交通参与者状态、道路状况主要包括： 
   1) 交通参与者包括机动车、非机动车、行人、动物等； 
   2) 交通参与者的状态包括位置、速度、加速度、朝向等； 
   3) 道路状况包括道路边界、可行驶区域、车道线信息、交通标志信息等。 

b) 通信能力： 

1) 由 RSU 提供，是本标准所定义的数据集的交互通道，也是数据的重要来源； 

2) 包括 IRE 与其它通信设备之间的数据交互能力。其中： 
   1) 交互的数据被封装在本标准所定义的消息集中； 
   2) 其它通信设备包括其它 IRE、交通参与者、道路基础设施、边缘云、中心服务器等。 

3) 所采用的通信技术可以包括 LTE-V、4G、5G、以太网、光纤接入网等。 

c) 管理能力： 

1) 由 ECU 中的管理软件子单元提供； 

2) 主要包括设备管理和业务分发等功能。设备管理和业务分发主要包括： 
   1) 设备管理主要包括 IRE 设备与中心子系统之间的连接与认证、IRE 设备的状态监控和软件更新等功能； 
   2) 业务分发主要包括指定范围内的 IRE 设备在中心子系统的调配下单独或协同完成较大范围内或较长时间内的数据采集、环境感知或数据下发的功能。 

### 5.3 数据的融合与转发 

#### 5.3.1 概述 

数据的融合与转发可以有效地扩展 IRE 的感知范围、减小或消除感知盲区。数据的融合与转发需要数据集中相应数据元素的支持。本标准所定义的应用场景全部默认支持数据的融合与转发。 

#### 5.3.2 数据融合 

IRE 可以把相邻 IRE 发送的消息尤其是感知结果与自己的感知结果合并到新的消息中进行发送，以便提高感知的范围、精度和置信度，这个过程被称为数据的融合。实现数据融合的前提条件如下： 

a) IRE 的通信范围大于感知范围；例如，LTE V2X 直通链路接口（PC5 接口）的通信范围可以超过 500m，而大多数传感器的有效感知范围在 200m 之内； 

b) 相邻 IRE 之间的间距小于 IRE 的通信距离。

数据融合的实现方式是，IRE 所发送消息的辐射范围涵盖道路的各个方向，其发送的消息可被相邻的一个或多个 IRE 所接收，并被后者融合。 

#### 5.3.3 数据转发 

IRE 可以把接收到的、需要长距离传播的消息再次发送出去，这个过程被称为数据的转发。有些消息的预期传播范围大于 RSU 的通信范围，例如交通拥堵信息可能需要被传播到数公里外的区域。数据转发的实现方式如下： 

a) 消息接收：IRE 具有消息接收功能，接收的消息包括消息的预期传播方向信息和预期传播范围信息，这些信息与消息所需携带的信息类型、作用、场景和/或所影响的路段有关； 

b) 确定 IRE 是否已转发过该消息：IRE 的消息转发处理功能还用于确定 IRE 是否已转发过该消息。 如果尚未转发过，再触发对所述预期传播方向以及范围的判断； 

c) 判断是否对消息进行转发：IRE 还具有消息转发处理功能，通过确定 IRE 是否与消息的预期传播方向一致和/或是否在预期传播范围内，确定是否对消息进行转发。 

## 6 应用场景与总体要求 

### 6.1 概述 

智能路侧设备作为道路子系统的一部分，通过与车辆子系统或道路子系统其它部分（例如电子交通设施）的数据交互，为车辆子系统、个人子系统和其它道路子系统提供应用服务，每一个应用服务对应一个应用场景。 

#### 6.1.1 应用场景主要特征 

本标准所定义的应用场景的主要特征包括： 

a) 被感知的交通参与者可以不具备 V2X 通信能力，它们的运动状态被 IRE 感知并按照本标准所定义的数据格式发送给安装了 V2X 设备的交通参与者； 

b) IRE 为交通参与者提供车道级别的定位能力，降低了对 V2X 设备定位能力的要求。 

c) 交通信息和道路环境信息主要由智能路侧设备获取，并被发送给其它智能路侧设备。更重要的是，智能路侧设备可以监听相邻设备所发送的消息，并把其中的感知结果与自己的感知结果进行融合，并把融合后的结果更新到消息中进行发送。融合的过程会影响数据的感知延迟和置信度，因此对数据格式的定义产生了新的需求。 

#### 6.1.2 应用场景分类 

智能路侧设备的应用场景可以分为四大类： 

a) 感知能力拓展类； 

b) 紧急情况处理类；

c) 弱势交通参与者保护类（简称 VRU 保护）； 

d) 通行效率提升类。 

### 6.2 感知能力拓展 

#### 6.2.1 应用场景概述 

##### 6.2.1.1 弥补智能网联汽车的感知盲区 

a) 应用场景 

1) 智能网联汽车的感知范围常因其他物体遮挡而存在盲区，这种情况被称为感知盲区（见图 3）； 

2) 由于大型车辆 V2 的遮挡，智能网联汽车 V1 的感知范围存在盲区，无法感知到横向进入道路的行人 P1； 

3) V1 继续前行，将有可能因为没有足够的制动距离，而发生与 P1 碰撞的交通事故。 

b) 工作原理 

1) IRE-1 向 V1 实时提供包含 P1 位置在内的交通信息； 

2) V1 收到该信息后，可以获得足够的制动时间，从而消除安全隐患。

![image-20211117094342265](https://gitee.com/er-huomeng/l-img/raw/master/image-20211117094342265.png)

##### 6.2.1.2 为智能网联汽车实现超视距感知 

a) 应用场景 

1) 前方道路由于发生事故或需要进行路面维护而形成障碍（见图 4）； 

2) 该障碍和智能网联汽车 V1 之间尚有一段距离，不在其感知范围内，也不在 IRE-2 的感知范围内。 

b) 工作原理 

1) 在一条道路的沿线可以部署多个 IRE，从而使其感知范围交叉覆盖整条道路； 

2) IRE 通过广播形式发送信息，其覆盖范围通常大于设备间距； 

3) IRE-2 接收到 IRE-1 广播的信息后，可将其实时发送给 IRE-2 附近的车辆； 

4) IRE-2 附近的车辆获得超视距的障碍信息，可以及时采取换道等措施规避障碍，提高安全性和通行效率。

![image-20211117094422028](https://gitee.com/er-huomeng/l-img/raw/master/image-20211117094422028.png)

##### 6.2.1.3 提升智能网联汽车的可靠性 

a) 应用场景： IRE 可以提升智能网联汽车自适应巡航功能的可靠性。 

b) 工作原理： 

1) IRE 感知车辆与车道线和前车的相对位置，并把这些信息实时发送给该车辆； 

2) IRE 继续监控车辆的运行状态，一旦发现状态异常，便向车辆发送预警并建议退出自适应巡航模式； 

3) IRE 为车辆提供了额外的感知和预警能力，提高了自适应巡航功能的可靠性。 

#### 6.2.2 功能要求 

智能路侧设备应具备以下功能： 

a) 感知能力：可以持续测量道路环境中交通参与者的状态，包括位置、速度、加速度、朝向等； 

b) 通信能力：可以把道路环境中交通参与者的状态以广播的方式发送给附近的IRE或车辆。 

#### 6.2.3 性能要求 

##### 6.2.3.1 感知能力 

智能路侧设备的感知能力应满足以下性能要求： 

a) 对交通参与者位置的感知结果的横向误差小于 0.5m，纵向误差小于 1m； 

b) 对交通参与者的行进速率、行进方向、尺寸等物理量的感知结果的误差不大于真实值的 10%； 

c) 感知延迟小于 70ms，感知结果的更新频率大于等于 10Hz。 

##### 6.2.3.2 通信能力 

智能路侧设备的通信能力应满足以下性能要求： 

a) 无转发情况下的通信延迟小于 30ms；

b) 丢包率小于 1%（不需要重传）； 

c) 数据更新频率大于等于 10Hz； 

d) 数据的传播范围大于 500m（可由多个 IRE 转发数据）。 

#### 6.2.4 数据交互需求 

IRE 给交通参与者和其它 IRE 发送数据的最小需求见表 1，其中“目标”是“交通参与者”的简称。 

可选地，IRE 还可以发送交通参与者的加速度、身份、行为状态（例如正在通过街道）、健康状态等信息，以及所有通过感知或测量得出的物理量的置信度。 

![image-20211117094534317](https://gitee.com/er-huomeng/l-img/raw/master/image-20211117094534317.png)

### 6.3 通行效率提升 

#### 6.3.1 应用场景概述 

##### 6.3.1.1 交通拥堵提示 

工作原理： 

a) IRE 实时感知路段内车辆的数量、位置、速度，并智能分析拥堵程度； 

b) 当 IRE 判断已发生交通拥堵时，将该信息发送给拥堵道路上游方向一定距离内的车辆、以及上游合流交叉口上游一定距离内的车辆； 

c) 车辆接收到该信息后，通过声音、灯光、震动等方式向司机发出预警。 

##### 6.3.1.2 可变车道动态调整 

工作原理： 

a) IRE 监控各个车道实时流量，并与交通管理部门的智能交通系统进行数据交互，通过开启或关闭某条车道、改变车道的用途或行驶方向等方式对可变车道进行动态调整；例如，在左转拥堵而直行通畅的路口，可将一条可变车道调整为左转车道，以提高左转车辆通行效率；

b) IRE 还可通过 V2X 通信实时向路段车辆广播可变车道信息，提醒车辆尽早进行变道。 

##### 6.3.1.3 匝道动态调整 

工作原理： 

a) IRE 通过监控高架道路的实时流量，并与交通管理部门的智能交通系统进行数据交互，调整匝道控制信号灯，使它可以动态调节汇入高架道路的车流，缓解交通拥堵状况； 

b) 较大范围内的 IRE 也可以在管理软件的调度下，把相关感知结果发送给中心子系统，并由后者与智能交通系统进行数据交互。 

#### 6.3.2 功能要求 

智能路侧设备应具备以下功能： 

a) 感知能力：可以持续测量每一条车道或者指定地理区域在指定时间窗口内的车流密度； 

b) 通信能力： 

1) 可以把车流密度以广播或组播的方式发送给车辆； 

2) 在有需要的情况下把车流密度发送给电子交通设施或智能交通系统。 

#### 6.3.3 性能要求 

##### 6.3.3.1 感知能力 

智能路侧设备的感知能力应具备以下性能： 

a) 对车流密度的感知结果的误差小于真实值的 10%； 

b) 感知延迟小于 0.5s，感知结果（例如车流密度）的更新频率大于等于 1Hz。 

##### 6.3.3.2 通信能力 

智能路侧设备的通信能力应具备以下性能： 

a) 通信延迟小于 0.5s； 

b) 丢包率小于 1%； 

c) 数据更新频率大于等于 1Hz； 

d) 数据的传播范围大于 2000m。 

#### 6.3.4 数据交互需求 

IRE 给交通参与者和其它 IRE 发送数据的最小需求见表 2，主要包括交通流量状态和车道状态。 

a) 交通流量状态：主要包括道路级别的排队等待状态、拥堵程度等； 

b) 车道状态：主要包括车道级别的排队等待状态、拥堵程度，以及车道的用途、行驶方向、开启或关闭状态等； 

c) 描述方式：这些状态都以事件的方式，从内容、程度和/或方位等维度进行描述；其中的内容维度包括可量化的描述信息和/或不可量化的描述信息，分别用于描述易于穷举的内容和难以穷举的内容，相关示例参见附录 C。

![image-20211117094706124](https://gitee.com/er-huomeng/l-img/raw/master/image-20211117094706124.png)

### 6.4 紧急情况处理 

#### 6.4.1 应用场景概述 

a) 工作原理： 

1) IRE 通过自身的感知能力得到交通参与者的实时状态，并通过智能分析检测可能发生的危险状况； 

2) 根据危险状况类型的不同，IRE 把交通参与者的实时状态或者对即将发生的危险事件的描述发送给相关交通参与者，所发送消息的格式由本标准定义。 

b) 场景的适用范围： 

1) IRE 仅为交通参与者提供感知层面的信息，不参与决策过程；例如，不对车辆是否应该刹车或换道提供建议； 

2) 对于某些特殊的应用场景，IRE 的感知结果也可以发送给交通管理部门，但与这个过程相关的通信方式和数据格式不在本标准考虑的范围内。 

##### 6.4.1.1 前向碰撞预警 

工作原理： 

a) IRE 实时感知车辆的位置、速度和方向，并将这些信息发送给车辆； 

b) 当前车辆通过相关信息判断其与前车存在潜在的碰撞危险时，通过声音、灯光、震动等方式向司机发出预警。 

##### 6.4.1.2 路口碰撞预警 

工作原理： 

a) 在交叉路口、高速路入口等场景，IRE 实时感知车辆的位置、速度和方向，预估其未来一定时间内的行驶路线，该时间通常略大于车辆在当前车速下的制动时间； 

b) IRE 实时预测它与其它交通参与者或道路发生碰撞的概率； 

c) 当概率超过特定值时，IRE 向路口车辆发送相关信息；

d) 当前车辆接收该信息并与可能存在的其它信息来源进行融合； 

e) 当前车辆判断其与其他车辆存在碰撞危险时，向司机发出预警。 

##### 6.4.1.3 变道预警 

工作原理： 

a) IRE 实时感知车辆的位置、速度和方向，并发送给车辆； 

b) 当驾驶员意图变道时，车辆根据相关信息判断其与相邻车道的车辆是否存在碰撞危险，若存在则向司机发出预警。 

##### 6.4.1.4 车道偏离预警 

a) 工作原理： 

1) IRE 实时感知车辆的绝对位置，配合道路高精地图以及车道识别信息，得到该车辆在车道内的相对位置，并发送给该车辆； 

2) 当前车辆通过相关信息判断该车辆已偏离车道时，向司机发出预警； 

##### 6.4.1.5 紧急制动预警 

a) 工作原理： 

1) IRE 实时感知车辆的位置、速度和方向； 

2) 当 IRE 检测到车辆紧急制动时，向其后方车辆发送预警信息； 

##### 6.4.1.6 车辆失控预警 

工作原理： 

a) IRE 实时感知车辆的运行轨迹、车道线和道路边界，并对其进行智能分析； 

b) 当 IRE 发现车辆高速驶离道路或高速横向跨越车道时，将该车辆的轨迹和危险程度发送给该车辆附近可能受到影响的车辆； 

c) 附近车辆接收到信息后，向司机发出预警。 

##### 6.4.1.7 道路危险状况预警 

工作原理： 

a) IRE 实时监控道路情况； 

b) 当 IRE 监测到道路中存在障碍、积水、深坑等危险状况，或是检测到雨雪、大雾等恶劣天气造成在该路段行驶的危险系数较高时，将该信息发送给该路段上游方向一定距离内的车辆； 

c) 车辆接收到该信息后，向司机发出预警。 

##### 6.4.1.8 限速预警 

工作原理：

a) IRE 实时感知该车辆速度和方向； 

b) 当 IRE 判断车辆速度高于路段限速时，将该信息发送给附近可能受到影响的车辆； 

c) 车辆接收到该信息后，向司机发出预警。 

##### 6.4.1.9 司机状态评估 

工作原理： 

a) IRE 获取车辆的运行轨迹，并通过分析车辆运行轨迹实时判断司机的状态和注意力集中程度； 

b) 当轨迹经常严重偏离车道中心线或车速经常无故剧烈变化时，则被 IRE 判定为异常驾驶状态，包括但不限于酒驾或疲劳驾驶等； 

c) 当司机被判定为异常驾驶状态时，该信息可被广播给附近的车辆，由车辆向司机发出预警，必要时可储存以供查阅。 

##### 6.4.1.10 违规车辆实时警告 

工作原理： 

a) IRE 获取本地的限速、限行等交通规则和车辆的运行轨迹，判定车辆是否违规或者有危险驾驶行为； 

b) 对于违规或者有危险驾驶行为的车辆，IRE 对车辆发送警告，督促其安全驾驶； 

c) 对于营运车辆，相关信息还可被储存以供查阅，交通管理部门可基于历史信息对违规车辆做出处理。 

##### 6.4.1.11 超规车辆检测

工作原理： 

a) IRE 监控路面行驶的车辆，自动识别出车辆的尺寸和拖挂情况，并与当地的交通规则进行比对，判断车辆是否超规； 

b) 当检测到超规车辆时，IRE 对车辆发送警告； 

c) 相关信息会被记录，交通管理部门可基于该信息对超规车辆进行处理。 

#### 6.4.2 功能要求 

智能路侧设备应具备以下功能： 

a) 感知能力： 

1) 可以持续测量道路环境中交通参与者的状态，包括位置、速度、加速度、朝向等； 

2) 可以持续观测路面的状态； 

3) 可以从前述测量或观测量中发现危险或违规状况。 

b) 通信能力：可以把危险状况或路面紧急状态发送给对应的交通参与者。 

#### 6.4.3 性能要求

#### 6.4.3.1 感知能力 

智能路侧设备的感知能力应具备以下性能： 

a) 对交通参与者位置的感知结果的横向误差小于 0.5m，纵向误差小于 1m； 

b) 对交通参与者的速率、朝向、尺寸等物理量的感知结果的误差不大于真实值的 10%； 

c) 对已经发生的危险状况和路面紧急状态进行成功判断的概率大于 90%； 

d) 对不存在的危险状况和路面紧急状态进行误报的频率小于 1 次/小时； 

e) 实时应用的感知延迟小于 70ms，感知结果的更新频率大于等于 10Hz； 

f) 非实时应用的感知延迟小于 0.5s，感知结果的更新频率大于等于 1Hz。 

##### 6.4.3.2 通信能力 

智能路侧设备的通信能力应具备以下性能： 

a) 实时应用在无转发情况下的通信延迟小于 30ms； 

b) 非实时应用的通信延迟小于 0.5s； 

c) 丢包率小于 0.1%；（重传） 

d) 数据的传播范围大于 500m。 

附录 A 给出了在广播类无线通信系统中实现 0.1%丢包率的方法，仅供参考。 

#### 6.4.4 数据交互需求 

IRE 给交通参与者和其它 IRE 发送数据的最小需求见表 3。可选地，IRE 还可以发送交通参与者的加速度、身份、行为状态（例如正在通过街道）、健康状态等信息，以及所有通过感知或测量得出的物理量的置信度。 

![image-20211117095059939](https://gitee.com/er-huomeng/l-img/raw/master/image-20211117095059939.png)

### 6.5 VRU 保护 

#### 6.5.1 应用场景概述 

VRU 包括行人、自行车、摩托车、三轮车、手推车等交通参与者，他们/它们在本节列举的应用场景中需要受到额外的保护。 

##### 6.5.1.1 车门开启预警 

a) 应用场景：车辆 V1 停车后开启车门，存在与侧面车道上行驶或行走的车辆 V2 和 VRU 产生碰撞的危险（见图 5）。 

b) 工作原理： 

1) IRE 检测车辆的状态以及 VRU 的位置、速度和方向； 

2) 当 IRE 发现车门开启并可能与 VRU 发生碰撞时，发送碰撞预警。

![image-20211117095125540](https://gitee.com/er-huomeng/l-img/raw/master/image-20211117095125540.png)

##### 6.5.1.2 VRU 侧向通过预警 

a) 应用场景：车辆 V1 在与相邻车道逆向行驶的车辆 V2 会车时，存在与侧面 VRU 产生碰撞的危险（见图 6）。 

b) 工作原理： 

1) IRE 检测车辆和 VRU 的位置、速度和方向； 

2) 当 IRE 发现存在碰撞风险时，向车辆和 VRU 发出预警。

![image-20211117095158437](https://gitee.com/er-huomeng/l-img/raw/master/image-20211117095158437.png)

##### 6.5.1.3 倒车出库碰撞预警

a) 应用场景：车辆 V1 准备倒车驶出停车位，存在与侧面车道上行驶或行走的车辆 V2 和 VRU 产生碰撞的危险（见图 7）。 

b) 工作原理： 

1) IRE 检测车辆和 VRU 的位置、速度和方向； 

2) 当 IRE 发现存在碰撞风险时，向车辆 V1、V2 和 VRU 发送预警。

![image-20211117095228412](https://gitee.com/er-huomeng/l-img/raw/master/image-20211117095228412.png)

##### 6.5.1.4 违规行人警告 

工作原理： 

a) IRE 监控路面行人的轨迹，通过比对轨迹与人行道的边界判断行人是否违规； 

b) 当检测到违规行人时，IRE 把其轨迹实时广播给周边的车辆，帮助车辆避开违规行人； 

c) IRE 可通过声音、灯光等其它方式对行人和周边车辆发出警告。 

#### 6.5.2 功能要求 

智能路侧设备应具备以下功能： 

a) 感知能力： 

1) 可持续测量道路环境中交通参与者的状态，包括位置、速度、加速度、朝向等； 

2) 可持续观测路面的状态； 

3) 可测量车辆边界的状态，例如车门开启或关闭等。 

b) 通信能力：可以把交通参与者和车辆边界的状态以广播的方式发送给交通参与者。 

#### 6.5.3 性能要求 

##### 6.5.3.1 感知能力 

智能路侧设备的感知能力应具备以下性能： 

a) 对交通参与者位置的感知结果的横向误差（交通参与者的位置相对于车道线的垂直距离误差）小于 0.5m，纵向误差（交通参与者的位置在行进方向上的距离误差）小于 1m； 

b) 对车辆的离散状态量（例如车门开启或关闭）的感知结果的正确率大于 90%；

c) 对交通参与者的位置、速率、朝向、尺寸等物理量的感知结果的误差不大于真实值的 10%； 

d) 感知延迟小于 70ms； 

e) 感知结果的更新频率大于等于 10Hz。 

##### 6.5.3.2 通信能力 

智能路侧设备的通信能力应具备以下性能： 

a) 无转发情况下的通信延迟小于 30ms； 

b) 丢包率小于 0.1%； 

c) 数据的传播范围大于 200m。 

附录 A 给出了在广播类无线通信系统中实现 0.1%丢包率的方法。 

#### 6.5.4 数据交互需求 

IRE 给交通参与者和其它 IRE 发送数据的最小需求见表 4。该最小需求与紧急情况处理类应用场景的需求基本相同，但优先级更高。可选地，IRE 还可以发送交通参与者的加速度、身份、行为状态（例如正在通过街道）、健康状态等信息，以及所有通过感知或测量得出的物理量的置信度。

![image-20211117095323563](https://gitee.com/er-huomeng/l-img/raw/master/image-20211117095323563.png)

### 6.6 功能与性能的整体要求 

#### 6.6.1 数据的可靠性 

前述应用场景对数据的可靠性的需求如下： 

a) 与位置有关的数据应使用统一的世界坐标系。

b) 所有数据应使用统一的量纲和量化方式。 

c) 数据包应携带时间戳。 

d) 一些关键数据（如交通参与者的位置、速度等）应携带置信度信息。 

#### 6.6.2 接入及设备管理能力 

接入及设备管理能力的主要内容包括： 

a) 智能路侧设备可以与中心子系统建立连接并接受后者的管理。 

b) 智能路侧设备相互之间可以建立连接并进行数据交互。 

c) 智能路侧设备可以与车辆子系统建立连接并对后者进行管理。 

管理的方式和内容不在本标准所涉及的范围内。 

#### 6.6.3 数据融合与转发 

a) 数据的融合： 

1) 智能路侧设备可以通过监听 V2X 无线信道的方式接收相邻智能路侧设备发送的数据，把接收到的感知结果与本地的感知结果进行融合； 

2) 融合后的感知结果应该具有更大的感知范围和/或更高的感知精度。 

b) 数据的转发： 

1) 智能路侧设备可以依照应用场景对数据传播范围的需求，通过确定 IRE 是否位于消息的预期传播方向上和/或和预期传播范围内，确定是否对消息进行转发； 

2) IRE 的消息转发处理功能还用于确定 RSU 是否已转发过该消息。如果尚未转发过，再触发对所述预期传播方向以及范围的判断。 

## 7 应用层数据格式 

### 7.1 基本介绍和要求

应用层数据集用 ASN.1 标准进行定义，遵循“消息集- 数据帧- 数据元素”层层嵌套的逻辑进行定义。

数据集交互的编解码方式遵循非对齐压缩编码规则 UPER（Unaligned Packet Encoding Rules）。 

位置和尺寸类物理量的最小分辨率是 1cm，对应激光雷达等高性能传感器的测量精度；时间类物理量的最小分辨率是 1ms。 

### 7.2 消息集（Message） 

#### 7.2.1 Msg_IM 

【定义】

IRE 通过传感器感知到交通参与者的信息，包括位置、速度等，并将信息组合为本节所定义的消息IRE Message，简称 IM。 

IM 中的信息可以来自单个 IRE 的感知结果，也可以来自对多个 IRE 的感知结果进行融合后的结果。 

在本标准所定义的智能交通体系中，IRE 间可以通信，例如，IRE 可以监听相邻 IRE 在 LTE V2X 直通链路接口（PC5 接口）信道上广播的消息；并且由于 PC5 的通信范围通常大于 IRE 的间距，这种监听在绝大多数情况下是有效的。因此，当前 IRE 可以接收到其他 IRE 发送的消息，将这些消息与自身的感知结果融合，并在有需要的情况下对消息进行转发。

此消息的定义如下： 

```ASN.1
-- Main message frame 
IREBroadcastMsg ::= SEQUENCE{ 
	msgProfileLevel MsgProfileLevel, 
	messageType MessageType, 
	id OCTET STRING(SIZE(8)), 
	msgId INTEGER(0..255), 
	perceptionTime PerceptionTime, 
	position Position3D, 
	direction SEQUENCE(SIZE(dircNum)) OF Scope 
	-- the range of each expected transmission direction 
	msgBody CHOICE 
	{ 
		emergencyMsg EmergencyMsg, 
		objectListMsg ObjectListMsg 
	} 
}
```

在上述消息中，msgProfileLevel 用于记录消息格式或软件的版本号；messageType 代表消息的类型；id指明消息的来源，即产生该消息的 IRE 编号，在消息被转发时保持不变，因此消息的接收者可以据此获知消息所携带的事件或感知结果的发生地点；msgId 是不同消息在同一个 IRE 中的编号，当消息被重复发送以便降低有效丢包率时，消息的接收端可以据此滤除重复的消息；perceptionTime 表示消息被产生的时间；position 表示产生消息的 IRE 的地理坐标；direction 字段用于定义消息的预期传播范围； 

msgBody 是消息的正文。其中，direction 数据帧与消息的转发和融合密切相关，也是该消息区别于 BSM、 RSI 等消息的地方。 

### 7.3 数据帧（Data Frame） 

#### 7.3.1 DF_ EmergencyMsg 

【定义】 

用于定义非周期性发送的紧急消息的类型和内容。

```ASN.1
EmergencyMsg ::= Sequence{ 
	emergencyCode AlertType, 
	-- Type of the emergency message 
	description IA5String (SIZE(1..256)) 
	-- Content of the emergency message 
}
```

#### 7.3.2 DF_ ObjectListMsg 

【定义】 

用于定义周期性发送的目标列表，包含目标的数量、有效时长、数据的置信度、数据的融合比例、每个目标的运动状态等内容。

```ASN.1
ObjectListMsg ::= Sequence{ 
	numOfObjects NumOfObjects, 
	dircNum DirectNumber, 
	-- the number of expected transmission direction 
	confidenceTime ConfidenceTime, 
	-- the time duration which the data contained here don’t need to be updated 
	transmissionGap TransmissionGap, 
	-- the time interval between two consecutive data frames as defined here 
	confidenceIdc ConfidenceIdc, 
	-- defines the degree to which the data in this frame is aggregated 
	objectList SEQUENCE(SIZE(numOfObjects)) OF RSUObject 
	-- the description to the status of each object 
}
```

#### 7.3.3 DF_RSUObject 

【定义】 

用于定义单个目标的运动状态，包括目标的类型、相对位置、高程、速度、朝向、感知时间的偏移量、感知置信度、优先级等。对于 IRE 本地产生的目标，感知时间的偏移量等于感知延迟；对于来自相邻 IRE 的目标，感知时间的偏移量等于感知延迟与通信延迟的总和。另外，perceptionTimeOffset 与perceptionTime 之和等于该目标当前运动状态对应的真实时刻。 

```ASN.1
RSUObject ::= SEQUENCE { 
	objectType ObjectClass, 
	-- type of the object 
	positionOffset Position-LL-32B, 
	-- the position relative to IRE
	elevation ElevationOffset, 
	-- the height relative to that of IRE 
	speed Speed, 
	-- the absolution speed 
	heading Heading, 
	-- orientation of the object 
	size ObjectSize, 
	-- size of the object 
	perceptionTimeOffset PerceptionTimeOffset, 
	-- the time difference of the perception result 
	objectConfidence ObjectConfidence, 
	-- confidence of the perception result 
	priority Priotity 
	-- priority of the object; for example, emergency vehicles have high priority. 
}
```

#### 7.3.4 DF_Position3D 

【定义】 

使用经纬度和海拔高程表示的位置信息。

```ASN.1
Position3D ::= Sequence{ 
	lat Latitude, 
	long Longtitude, 
	elevation Elevation, 
}
```

#### 7.3.5 DF_ObjectSize 

【定义】 

使用长、宽、高表示的目标尺寸信息，其中目标可以是机动车、行人、自行车等。为了支持行人等尺寸较小目标，这里没有采纳 GB/T 31024.3-2019 定义的数据帧 VehicleSize，而是另外定义了以 1cm 为最小分辨率的数据元素 Height、Width 和 Length 并组成数据帧。

```ASN.1
ObjectSize ::= Sequence{ 
	height Height, 
	width Width, 
	length Length, 
}
```

#### 7.3.6 DF_Scope 

【定义】

此消息的预期传播方向和预期传播范围，包括消息的航向角、范围的表达方式以及范围的具体数值；其中航向角的定义是，消息的预期传播方向与正北方向的顺时针夹角。这个数据帧是本标准所定义的消息集与 BSM、RSM 和 RSI 之间的最大区别。

```ASN.1
Scope::= Sequence{ 
	heading Heading 
	-- the orientation to which is message should be transmitted or forwarded 
	rangeType RangeType 
	-- the way by which the expected transmission range of this message is defined 
	value Range 
	-- the value of transmission range in the way defined by rangeType 
}
```

#### 7.3.7 引用的数据帧 

消息集所使用的数据帧 Position-LL-32B 使用了 GB/T 31024.3-2019 对同名数据帧的相同定义。 

### 7.4 数据元素（Data Element） 

#### 7.4.1 DE_MsgProfileLevel 

【定义】 

字符串类型，表示此消息使用的标准的档次和级别，也可用于描述版本号。是新增加的数据元素，可以在必要时方便地对数据格式进行更新或升级。

```ASN.1
MsgProfileLevel ::= OCTET STRING (SIZE(2))
```

#### 7.4.2 DE_ MessageType 

【定义】 

8 比特数值，表示此消息的类别，用于区分紧急消息和非紧急消息、以及消息的具体类别，是一个枚举类型。是新增加的数据元素，可以把事件类的非周期性消息和包含 ObjectList 的周期性消息合并到同一个消息定义中。消息的接收者和转发者可以通过这个数据元素方便地实现不同类型的消息的 QoS。

```ASN.1
MessageType ::= ENUMERATED{ 
	Unknown(0), 
	Traffic Participant(s) Described as Object(s) (1), 
	Static Obstacle (2), 
	Emergency Message (3), 
	… 
	}--encoded as a 8bit value
```

#### 7.4.3 DE_ AlertType

【定义】 

16 比特数值，表示紧急消息的类型，最小值为 0，最大值为 65535，参考了《消息层技术要求》对DE_SignType 和 DE_EventType 的定义；在保留这些已定义的消息类型和事件的同时，新增加了若干消息类型并由下述 ASN.1 代码给出。需要注意的是，本标准所定义的数据元素的默认数据来源是 IRE，因此只能获知交通参与者的外在运动状态，无法获知车辆刹车系统的状态等外部不可见的信息。因此定义消息类型的参考依据与 BSM 等有较大区别。

```ASN.1
AlertType::= INTEGER(0..65535) 
	-- Sudden change of speed = 1 
	-- Sudden change of heading (sharp turn) = 2 
	-- Emergency vehicle approaching = 3 
	-- Dangerous road conditions = 4 
	-- Hazardous weather = 5 
	-- Sudden change of vehicle outline = 6 
	…
```

#### 7.4.4 DE_NumOfObjects 

【定义】 

10 比特数值，表示此条消息中所包含的目标数量，最小为 0，最大为 1023。GB/T 31024.3-2019 中交通参与者的数量被固定为 16 个，在这里拓展成一个可变参数，可以根据 IRE 的实际感知结果动态设置。

```ASN.1
NumOfObjects ::= INTEGER(0..1023)
```

#### 7.4.5 DE_PerceptionTime 

【定义】 

48 比特数值，表示此消息的感知时间，以 1ms 为单位。其含义为该时刻相对于 1970-1-1 00:00 所经过的时间长度。是新增加的数据元素。 

```ASN.1
PerceptionTime ::= INTEGER(0..281474976710655 )
```

#### 7.4.6 DE_DirectNumber 

【定义】 

8 比特数值，表示此消息可以传播的方向的数量，取值范围是 0 至 255 之间的整数。是新增加的数据元素，为消息的转发和融合提供了便利。

```ASN.1
DirectNumber::= INTEGER(0..255 )
```

#### 7.4.7 DE_ConfidenceTime 

【定义】 

10 比特数值，表示最大置信时间，以 1ms 为单位。由于存在感知延迟和通信延迟，消息接收端收到消息的时刻与消息的感知时间会存在一定时间差。在此段时间内，道路交通信息可能已发生改变。当此时间差小于等于最大置信时间时，可认为消息中标识的目标信息是直接可用的；否则，接收端应对目标信息进行修正。是新增加的数据元素，为消息的转发和融合提供了便利。

```ASN.1
ConfidenceTime ::= INTEGER(0..1023)
```

#### 7.4.8 DE_TransmissionGap 

【定义】 

16 比特数值，表示 IRE 即将发送的下条消息的感知时间与此条消息的感知时间的时间差，以 1ms为单位。消息的接收者可根据此值来得到 IRE 发送消息的频率。是新增加的数据元素，为消息的转发和融合提供了便利。 

```ASN.1
TransmissionGap ::= INTEGER(0..65535)
```

#### 7.4.9 DE_ObjectClass 

【定义】 

8 比特数值，用于定义单个目标的类型，参考了 GB/T 31024.3-2019 对 DE_BasicVehicleClass 的定义；在保留已定义的所有车辆种类的同时，增加了若干新的目标类型并由下述 ASN.1 代码给出；新增加的部分参考了《消息层技术要求》对 DE_ParticipantType 的定义。

```ASN.1
ObjectClass::= INTEGER(0..255) 
	…
	-- non motor = 2 
	-- pedestrian = 3 
	-- rsu = 4 
	…
```

#### 7.4.10 DE_ElevationOffset 

【定义】 

16 比特数值，表示当前位置点关于参考位置点的海拔高程偏差，以 0.01m 为单位。是新增加的数据元素，相比 GB/T 31024.3-2019 对 DF_VerticalOffset 的定义具有更高的（厘米级的）精度，以便与激光雷达等高性能传感器的感知精度匹配。

```ASN.1
ElevationOffset::= INTEGER(-32768..32767)
```

#### 7.4.11 DE_RangeType 

【定义】 

8 比特数值，表示预期传播范围的描述方式，是一个枚举类型。与 Range 配合使用，可以描述消息的预期传播范围。当 RangeType=2 时，Range 的初始值表示该消息的最大跳数；该消息在每次被转发时Range 减 1，表示该消息的当前剩余可转发次数；当 Range 等于 0 时该消息不再被转发。当 RangeType等于 1 或 3 时，Range 仅表示最大预期传播距离或最大预期传播延迟，在转发的过程中保持不变，这是因为消息的实际传播距离和传播延迟可以从 objectList 中获得。是新增加的数据元素，为消息的转发和融合提供了便利。

```ASN.1
RangeType ::= ENUMERATED{ 
	Unknown(0), 
	Maximal Range in Meter (1), 
	The Number of Maximal or Current Hop (2), 
	Maximal Delay in Mini-Second (3), 
	… 
	}--encoded as a 8bit value
```

#### 7.4.12 DE_Range 

16 比特数值，表示预期传播范围的具体数值。与 RangeType 配合使用，可以描述消息的预期传播范围。根据 RangeType 取值的不同，该字段在消息被转发的过程中可能被修改，也可能保持不变。是新增加的数据元素，为消息的转发和融合提供了便利。 

```ASN.1
Range::= INTER(0..65535)
```

#### 7.4.13 DE_Height 

【定义】 

10 比特数值，表示目标的高度信息，以 0.01m 为单位。值为 0 时代表高度信息不可用。是新增加的数据元素，相比 GB/T 31024.3-2019 的定义具有更高的（厘米级的）精度，以便与激光雷达等高性能传感器的感知精度匹配。

```ASN.1
Height ::= INTEGER(0..1023)
```

#### 7.4.14 DE_Width 

【定义】 

10 比特数值，表示目标的宽度信息，以 0.01m 为单位。值为 0 时代表宽度信息不可用。是新增加的数据元素，相比 GB/T 31024.3-2019 的定义具有更高的（厘米级的）精度，以便与激光雷达等高性能传感器的感知精度匹配；同时参考了《消息层技术要求》对 DE_VehicleWidth 的定义，使用了相同的数据格式，但修改了名称，以便适用于各种不同类型的交通参与者。

```ASN.1
Width ::= INTEGER(0..1023)
```

#### 7.4.15 DE_Length 

【定义】 

12 比特数值，表示目标的长度信息，以 0.01m 为单位。值为 0 时代表长度信息不可用。是新增加的数据元素，相比 GB/T 31024.3-2019 的定义具有更高的（厘米级的）精度，以便与激光雷达等高性能传感器的感知精度匹配；同时参考了《消息层技术要求》对 DE_VehicleLength 的定义，使用了相同的数据格式，但修改了名称，以便适用于各种不同类型的交通参与者。

```ASN.1
Length ::= INTEGER(0..4095)
```

#### 7.4.16 DE_PerceptionTimeOffset 

【定义】 

16 比特数值，表示目标的感知时间偏移量，即目标的感知时间与消息的形成时间的差值，以 1ms为单位。由于 IRE 可以把自己的感知结果与相邻 IRE 发送的消息进行融合，ObjectList 中的目标来源可能有多个，消息中所包含的目标的感知时间可以不全相同，这段时间差由本数据进行描述。

PerceptionTimeOffset 的参考点是 IRE 的本地目标的感知时刻，即 PerceptionTime；时间差为正值表示时间延后，为负值表示时间提前。是新增加的数据元素，为消息的融合提供了便利。

```ASN.1
PerceptionTimeOffset ::= INTEGER(-32768..32767)
```

#### 7.4.17 DE_ConfidenceIdc 

【定义】 

4 比特数值，表示此消息所包含的目标信息中来源于当前 IRE 的感知结果与所有感知结果（包括来源于其它 ITE 的感知结果）之间的比例。该比例描述了消息的置信度；比例越高，置信度越高。是新增加的数据元素，为消息的融合提供了便利。

```ASN.1
ConfidenceIdc ::= INTEGER(0..15)
```

#### 7.4.18 引用的数据元素 

消息集和数据帧所使用的数据元素 Latitude、Longitude、Elevation、OffsetLL-B16、Speed、Heading、Priority、Confidence 等使用了与 GB/T 31024.3-2019 同名数据元素相同的定义。

## 附 录 A 

（资料性附录） 

### 在广播类无线通信系统中实现 0.1%丢包率的可选方法 

设广播类无线通信系统（例如无反馈机制的 PC5 通信系统）的平均丢包率等于 P，无线通信系统的信道相关时间 (channel coherence time) 等于 T；设某应用场景对丢包率（可靠性）的需求是 0.1%，对最大延迟（实时性）的需求是 100ms，对通信范围的需求是 500m。为了降低消息的有效丢包率，消息的发送端（例如 IRE）可以在满足 N*T 小于 100ms 的条件下，把相同的消息发送 N 遍，同时消息发送的间隔大于 T，使得丢包的事件在概率上是不相关的；此时消息的有效丢包率约等于 P 的 N 次方。 

信道相关时间 T 约等于多普勒频偏的倒数。基于 PC5 的通信系统在 500m 通信范围内的丢包率一般小于 10%，信道相关时间在数十毫秒量级，因此当 N≥3 时，P 的 N 次方小于 0.1%，可以满足对可靠性的需求。

当车辆的车速提高时，丢包率 P 会增大，但同时信道相关时间 T 减小；消息的发送端可以增加重复发送消息的次数，以便同时满足可靠性和实时性的需求。 

当车辆的车速降低时，丢包率 P 会减小，同时信道相关时间 T 会增大；消息的发送端可以减少重复发送消息的次数，以便同时满足可靠性和实时性的需求。 

当高速运动的车辆、低速运动的车辆以及 VRU 等慢速交通参与者同时存在时，建议将消息重复发送 3 遍，则可在绝大多数情况下实现 0.1%的丢包率，并确保延迟小于 100ms。鉴于要求达到 0.1%丢包率的消息在所有消息中的占比很小，我们忽略由于重复发送此类消息可能导致的信道拥塞情况。

## 附 录 B 

（资料性附录） 

### 本标准所定义的数据元素与 GB/T 31024.3-2019 的对比 

本标准所定义的数据格式沿用和拓展了 GB/T 31024.3-2019 的部分数据元素，并增加了一些新的数据元素。表 B.1 给出了所有数据元素与 GB/T 31024.3-2019 之间的关系，并在备注中简要介绍了新增数据元素的功能。

![image-20211117101149018](https://gitee.com/er-huomeng/l-img/raw/master/image-20211117101149018.png)

## 附 录 C 

（资料性附录） 

### 通信效率提升应用场景的数据交互表示方法示例 

**示例 1：道路前方 600****m** **处出现严重拥堵** 

对于“道路前方 600m 处出现严重拥堵”这样的交通流量状态，其内容维度的描述信息是可穷举的事件类型“拥堵”，程度维度的描述信息是“严重”，方位维度的描述信息是“道路前方 600m 处”。 

**示例 2：当前匝道仅限公交车和尾号为 3 和 8 的乘用车通行** 

对于“当前匝道仅限公交车和尾号为 3 和 8 的乘用车通行”这样的车道状态，其内容维度的描述信息是不可穷举的交通规则“限制公交车和尾号为 3 和 8 的乘用车通行”，方位维度的描述信息是“当前匝道”，没有程度维度的描述信息。 

## 附 录 D 

（资料性附录） 

### 消息解析过程 

1. 解析目标位置 

目标的位置信息包含经度、纬度、海拔高程。消息中编码的是目标位置与发送消息的 IRE 位置的差值，其解析过程如下。 

1） 解析目标纬度 

目标纬度 = clip3( -900000000, 900000000, Latitude + Latitude_offset) 

2） 解析目标经度 

```java
if Longitude + Longtitude_offset > 1800000000 
	目标经度 = Longitude + Longtitude_offset – 3600000000 
else if Longitude + Longtitude_offset < -1799999999 
	目标经度 = Longitude + Longtitude_offset + 3600000000 
else 
	目标经度 = Longitude + Longtitude_offset 
```

3） 解析目标海拔高程 

​		目标海拔高程 = Elevation + Elevation_offset 

2. 对目标位置进行预测 

3. 解析目标的感知时间 

   目标感知时间 = PerceptionTime + PerceptionTimeOffset 

4. 预测目标当前位置 

记当前时间为 T1。如果 T1 - 目标感知时间 <= ConfidenceTime， 则无需对目标当前位置进行预测；否则，需基于目标位置、目标的速度和航向角，及当前时间与目标感知时间的时间差，估计目标当前位置。