- [智能网联汽车（十六）——大数据技术](https://zhuanlan.zhihu.com/p/158882387)

## **一、大数据概念**

### **1.大数据概念**

在多个公司都给出了大数据的概念，其中比较清晰可用的是国际数据公司（IDC）给出的定义，具体为：海量的数据规模(Volume)、快速的数据流转和动态的数据体系(Velocity)、多样的数据类型(Variety)、巨大的数据价值(Value）。

### **2.大数据技术三个特点**

在《大数据时代》一书中，介绍了大数据技术有三个主要特点：

1）不是用随机样本，而是用全体数据

根据人工录像分析写出的球探报告和视频自动分析得到的全面分析

2）不是用精确性的数据，而是接受数据的混杂性

采集道路的海拔可以采用精确的仪器，通过精细的误差处理得到结果，也可以应用廉价的海量GPS数据计算得到

3）不关注数据之间的因果关系，而只关心相关关系

目前大量的网站都开发了独到的推荐系统，如Amazon，淘Facebook,Linkedin等等。

### **3.几个易混淆的概念**

通常我们讲大数据用4V就能够很好的描述。

现在当提到大数据时，就有人提出Hadoop就是大数据，事实上Hadoop是一个开发的生态，这个生态里的各种工具特别适合处理4V数据，所以有些人把Hadoop生态的技术成为大数据技术。

有人说数据挖掘就是大数据，实际上数据挖掘是Hadoop数据处理中最值得关系户的方法。

还有一个说法是机器学习就是大数据，我们认为机器学习实际上是数据挖掘的一种，它可以通过数据训练自动寻找到有用的知识。

### **4.汽车产业发展变革**

汽车已经产生100多年，在这100多年中产生了四次主要的变革，第一个是机械时代，第二个是电子时代，第三个是我们现在正在经历的软件时代，未来即将到来的就是云计算/大数据/新新商业模式时代。

![img](https://pic3.zhimg.com/80/v2-ab4fb4b63735f78edc140f19a0010f66_720w.jpg)

汽车产业发展变革

汽车产业已经逐步成为高科技产业，汽车公司所需要的人才结构也在变化。传统的机械设计、工艺、电器依然是基础，软件开发也逐步成为主流，而数据科学家、大数据工程师、人工智能科学家也将成为汽车公司的组成部分。一些跨国汽车企业成立了相关的部门和组织。除去主流的汽车厂之外，科技公司和初创公司也纷纷进入无人驾驶领域。

在实现无人驾驶中，普遍采用了网联协同控制的方案，对于每一辆汽车，背后都有一个数据中心来接收它的数据，在这一个数据中心上面普遍采用了云计算的技术以及大数据分布式的平台，所以大数据应用在汽车领域是非常好的时机。

### **5.大数据在汽车领域的主要应用**

1）我们在企业的CIM系统里都有很多的客户信息，通过这些信息的挖掘，我们可以做到在售前&销售过程以及车辆的使用过程、车辆的再购买过程中对于客户的信息分析来帮助我们的销售人员。

![img](https://pic1.zhimg.com/80/v2-97a3ba3440443980230a525a19fd1fe8_720w.jpg)

CIM系统

2）可以通过上传数据分析不同品牌在个省份的热度以及全国总体车辆销售的情况

3）通过车辆车速的聚类对客户进行更快的分类并且知道在每一个分类中典型的车速分布

4）比较车辆运行的热区和服务站布置的地点来对比我们的售后服务系统是否高效

5）根据售后数据来分析不同零部件失效之间是否存在关联关系

6）通过车联网数据来分析车辆车速的分布、使用时间的分布来支持UBI车联网保险的定价

## **二、大数据关键技术**

### **1.Hadoop生态简述**

一直以来，数据处理系统的处理能力一直受限于单台计算机的极限运算能力。继而出现了两种扩展系统的方法：“**向上扩展**”和“**向外扩展**”。向上扩展的方法就是将数据处理任务迁移到更大的服务器或存储矩阵，但是其硬件成本会非常昂贵（达到几十万甚至几百万美元）；向外扩展的方法不通过升级硬件来获得更强的处理能力，而是将数据处理任务分发给更多的机器并行处理，不过这种分发策略的部署异常复杂，花费系统研发人员大量的时间和精力。

那么，有没有另一种方法能解决上述问题呢?答案是Hadoop。Hadoop起源于Google，当Google的GFS和MapReduce论文发表后，引起了Doug强烈的共鸣，他开始着手实现这些Google系统，终于Hadoop诞生了。因此，Hadoop是一个实现了MapReduce和GFS技术的开源平台，它可以在由低成本硬件组成的集群上处理极大规模的数据集。

Hadoop是一个能够对**大量数据**进行分布式处理的软件框架。具有**可靠、高效、可伸缩**的特点。Hadoop的核心是**HDFS**（HDFS是GFS克隆版，称为Hadoop分布式文件系统）和**MapReduce**(分布式计算框架）。

![img](https://pic1.zhimg.com/80/v2-c972927bdc45a419bcc5158f453f2a84_720w.jpg)

Hadoop的生态系统

### **2.数据挖掘技术简述**

#### 1）背景&定义

随着自动化和信息化技术的迅猛发展，商业领域产生了大量的业务数据，所有企业面临的一个共同问题是：**企业数据量非常庞大，而其中真正有价值的信息却很少，如何从大量的数据中经过深层分析，获得有利于商业运作、提高竞争力的信息，就像从矿石中淘金一样，数据挖掘也因此得名。**所以，可以理解成大数据是场景是问题，而数据挖掘是手段。

数据挖掘（Data mining）是指从**大量的数据中通过算法搜索隐藏于其中信息**的过程。数据挖掘通常与计算机科学有关，并通过统计、在线分析处理、情报检索、机器学习、专家系统(依靠经验法则)和模式识别等诸多方法来实现上述目标。

#### 2）技术角度的定义

数据挖掘（Data Mining）就是从大量的、不完全的、有噪声的、模糊的、随机的实际应用数据中，**提取隐含在其中的、人们事先不知道的、但又是潜在有用的信息和知识的过程。**数据源

- 必须是真实的、大量的、含噪声的；
- 发现的是用户感兴趣的知识；
- 发现的知识要可接受、可理解、可运用；
- 并不要求发现放之四海皆准的知识，仅支持特定的发现问题。

#### 3）商业角度的定义

数据挖掘是一种新的商业信息处理技术，其主要特点是对商业数据库中的大量业务数据进行抽取、转换、分析和其他模型化处理，从中提取**辅助商业决策**的关键性数据。

**与数据挖掘相近的同义词有数据融合、人工智能、商务智能、模式识别、机器学习、知识发现、数据分析和决策支持等。**

#### 4）实现步骤

![img](https://pic3.zhimg.com/80/v2-9ab50873266230b33aadbd54b96e130e_720w.jpg)

数据挖掘实现步骤

a.确定业务对象

清晰地定义出业务问题，认清数据挖掘的目的。挖掘的最后结果是不可预测的，但要探索的问题应是有预见的，否则数据挖掘带有盲目性，是不会成功的；

b.数据准备

- 数据的选择—搜索所有与业务对象有关的内部和外部数据信息，并从中选择出适用于数据挖掘应用的数据；
- 数据的预处理—保证数据的质量，为进一步的分析作准备，并确定将要进行的挖掘操作的数据类型；
- 数据的转换—将数据转换成一个分析模型，这个分析模型是根据挖掘算法建立的；

c.数据挖掘

对所得到的经过转换的数据进行挖掘，优化挖掘算法；

d.结果分析

解释并评估结果，通常会用到可视化技术；

e.知识的同化

将分析所得到的知识集成到业务信息系统的组织结构中去。

#### 5）数据挖掘算法

分类：按照某种标准给对象贴标签，再根据标签来区分归类。它可以应用到客户的属性和特征分析、客户满意度分析等，如一个汽车零售商将客户按照对汽车的喜好划分成不同的类，这样营销人员就可以将新型汽车的广告手册直接邮寄到有这种离好的套户手中，从而大大增加了商业机会。

![img](https://pic1.zhimg.com/80/v2-ebdecd53e236ef8bd26e5abdbde60404_720w.jpg)

数据挖掘——分类

回归：在掌握大量观察数据的基础上，利用数理统计方法建立因变量与自变量之间的回归关系函数表达式（称回归方程式），回归分析法是依据事物发展变化的因果关系来预测事物未来的发展走势，它可以应用到市场营销的各个方面，如客户寻求、保持和预防客户流失活动、产品生命周期分析、销售趋势预则及有针对性的促销活动等

![img](https://pic1.zhimg.com/80/v2-50b7711e036778202a03c86ab8417290_720w.jpg)

数据挖掘——回归

聚类：指事先没有“标签”而通过某种成分分析找出事物之间存在聚集性原因的过程。聚类不需要人工标注和预先训练分类器，类别在聚类过程中目动生成。它可以应用到客户群体的分类、客户背景分析、客户购买趋势预测、市场的细分等。

![img](https://pic1.zhimg.com/80/v2-a93ebf3fc51d9dbbdb22d90c860eddb0_720w.jpg)

数据挖掘——聚类

关联：是描述数据项之间所存在的关联或相互关系，即根据一个事务中某些项的出现可导出另一些项在同一事务中也出现。著名的案例就是超市购物篮分析，“啤酒+尿布”。在喜户关系管理中，可以从大量的记录中发现有瘤的关联关系，为产品定位、定价与定制客户群，市场营销与推销等决策支持提供参考依据。

![img](https://pic4.zhimg.com/80/v2-04461c1c36789d161f251ebb8d288c07_720w.jpg)

数据挖掘——关联

降维：是将样本点从输入空间通过线性或非线性变换映射到一个低维空间，从而获得一个关于原数据集紧致的低维表示，如果特征太多会造成模型复杂，训练速度过慢。多维数据很难进行可视化分析，因此需要降维分析。

![img](https://pic2.zhimg.com/80/v2-0a158530563a17f4a971fb5629ec9be9_720w.jpg)

数据挖掘——降维

## **三、特征工程**

### **1.特征工程定义**

**特征工程是将原始数据转化为特征**，更好表示预测模型处理的实际问题，提升对于未知数据的准确性。它是用目标问题所在的特定领域知识或者自动化的方法来**生成、提取、删减或者组合变化得到特征。**

什么是特征？

观测数据或实例由不同的变量或者属性构成，这里属性其实就是特征。但是与属性所不同的是，**特征是对于分析和解决问题有用、有意义的属性。**例如，在自然语言处理中，一个文本是一个观测，但是其中的段落或者词频可能才是一种特征；在语音识别中，一段语音是一个观测，但是一个词或者音素才是一种特征。

### **2.特征工程意义**

设备采集的原始数据通常比较庞大、信息冗余度高，还会存在异常数据、部分数据缺失等不良状况，根本不适合直接进行存储和机器学习算法使用。特征工程就是通过优选**特征的子集，或构建一套新的特征集，来排除异常数据的干扰，并减少冗余促进算法的学习提高泛化能力和准确性。**数据特征会直接影响预测模型和实现的预测结果。准备和选择的特征越好，则实现的结果越好。

**特征决定了所有算法效果的上限，而不同的算法只是离这个上限的距离不同而已。**

### **3.特征提取方法**

特征提取的方法大体分为两类：经验方法和统计方法。经验方法主要指由先验知识和经验来获得相关的影响因子；统计方法指根据数理统计学和概率论等数学知识计算样本的方差、中位数、峰度、偏度等特征。

### **4.特征预处理**

#### 1）异常数据的清洗

在获取特征之后，就要考虑如何处理特征了。首先是**异常数据的清洗**，目标是将原始数

据中异常的数据清除，这是数据准确性的基本要求。异常数据清洗的方法有基于距离的异常检测（如欧式距离法）、基于密度的异常检测(如LOF算法）等，最简单的是根据设置的值进行处理。如绘制一段时间内的车速时序图，很明显红线圈出的部分代表异常值或数据缺失，设置闽值车速>5km/h则将其滤除。

![img](https://pic2.zhimg.com/80/v2-dd158ef95e9693ce2b51ecd6391d2cc9_720w.jpg)

车速时序图

#### 2）无量纲化和二值化

异常数据清洗完成后，我们得到的特征可能还存在一些问题：

（1）不属于同一量纲：即特征的规格不一样，不能够放在一起比较。无量纲化可以解决这一问题。

（2）信息冗余：对于某些定量特征，例如学习成绩，假若只关心“及格”或“不及格”，那么将成绩转换成“1”(及格）和“0”(不及格）即可。二值化可以解决这一问题。

（3）无量纲化：使不同规格的数据转换到同一规格。常见的有标准化和区间缩放法。标准化的前提是特征值服从正态分布，标准化后其转换成标准正态分布。区间缩放法利用了边界值信息，将特征的取值区间缩放到某个范围，例如[0，1]。

（4）二值化：核心在于设定一个阈值，大于阈值的赋值为1，小于等于阈值的赋值为0。

### **5.特征优选**

#### 1）特征选择

当特征预处理完成后，还存在一个问题是：有一些不相关或冗余的特征反而会产生更坏的性能，为了提高模型精确度，我们需要选择有意义的特征输入机器学习的算法和模型进行训练。通常来说，从两个方面考虑来选择特征：

- 特征是否发散：如果一个特征不发散，例如方差接近于0，也就是说样本在这个特征上基本上没有差异，这个特征对于样本的区分并没有什么用。
- 特征与目标的相关性：与目标相关性高的特征，应当优先选择。

#### 2）特征降维

当特征选择完成后，虽然可以直接训练模型了，但是随着数据记录和属性规模的急剧增长，特征太多会造成模型复杂，导致计算量大和训练时间长的问题。因此降低特征矩阵维度也是必不可少的。数据降维方法有：

![img](https://pic1.zhimg.com/80/v2-97c161c4689cef1ac5796cec76842948_720w.jpg)

数据降维方法

### **6.特征工程案例分析**

选取陕汽733辆重型商用车在2015年6月的行驶数据，采用数据挖掘技术分析得到油耗和驾驶员行为之间的关系模型，为驾驶员节油行为的评价和指导奠定了基础。

![img](https://pic4.zhimg.com/80/v2-0ca3c12acc8d747d58f6e492309e9ebb_720w.jpg)数据分析整体框图

**首先，**对驾驶工况的划分：根据对于怠速、停止、加速、准匀速、制动的先验知识制定分类规则，给出合适的归类阀值，从而实现驾驶工况的划分。

![img](https://pic3.zhimg.com/80/v2-36b90df1cc395e250b559b4b7f4ef2be_720w.jpg)

**其次，**结合经验性的驾驶经济性指标和已提供的物理量：如车速、发动机转速、油门开度等,通过统计学方法构建（计算）不同驾驶工况下的驾驶行为指标（特征）。

**然后，**对于构造的这些指标集，先进行标准化处理，使每个变量的范围都处于0~1的区间，便于后续通过多元回归的系数得出哪些变量对于油耗的影响更大。驾驶行为的影响有正有负，分别表示有利于和不利于节油。

![img](https://pic1.zhimg.com/80/v2-a325b0b3deb07c48e1e43e493e8a2460_720w.jpg)

驾驶行为指标（特征）

**最后，**通过线性回归建立各个驾驶行为指标与百公里油耗之间的关系模型。

![img](https://pic2.zhimg.com/80/v2-432726c31b0a440f335d95e89477c655_720w.jpg)

驾驶行为指标与百公里油耗之间的关系模型