- [边缘计算、自动驾驶、V2X](https://blog.csdn.net/ZJ_____W/article/details/108056473?utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~aggregatepage~first_rank_ecpm_v1~rank_v31_ecpm-16-108056473.pc_agg_new_rank&utm_term=%E8%BD%A6%E8%BE%86%E8%BE%B9%E7%BC%98%E8%AE%A1%E7%AE%97&spm=1000.2123.3001.4430)

# 一、V2X

## 1.背景

为了实现L4或L5级的自动驾驶，仅仅实现单车的“智慧”是不够的。需要通过车联网V2X实现车辆与道路以及交通数据的全面感知，获取比单车的内外部传感器更多的信息，增强对非视距范围内环境的感知，并通过高清3D动态地图实时共享自动驾驶的位置。

## 2.什么是高清3D地图？

高清3D动态地图：面向自动驾驶的3D高清地图，它包括：

 **①动态信息**（例如更新频率约为1s）

 周边车辆、行人信息、信号灯等ITS预先取得的情报。

 **②准动态信息**（例如更新频率约为1min）

 事故信息、堵车信息和局域气象预报信息等。

 **③准静态信息**（例如更新频率为1h）

 交规预报、道路施工预报和广域气象预报等。

 **④静态信息**（例如更新频率约为1mon）

 路面信息（防护栏、路肩、路边地标）、车道信息（车道线的位置、类型、宽度、坡度和曲率等）、3D建筑物等高清3D地图信息。

典型应用：例如使用以上3D高清地图信息，再结合比对车载的GPS、IMU、LiDAR或摄像头的数据精准实现位置推定，这是比较代表性的应用。

## 3.V2X应用

在雨雪、大雾等恶劣天气下，或在交叉路口、拐弯场景下，雷达和摄像头无法清晰辨别前方障碍，通过V2X来获取道路、行车实时数据，可以实现智能预测路况，避免意外事故的发生。

# 二、边缘计算

## 1.背景

随着自动驾驶等级的提升车辆内外高级传感器也必然会增多，一辆自动驾驶车辆每天可以产生高达大约25TB的原始数据。这些数据需要在本地进行实时的处理、融合、特征提取。由于，这些任务都需要在车内终结来保证处理和响应的实时性，因此需要性能强大可靠的边缘计算平台来执行。考虑到计算任务的差异性，为了提高执行效率并降低功耗和成本，一般需要支持异构的计算平台。

在自动驾驶的边缘计算平台选择方面，目前大部分厂家选择以CPU 或 GPU 为主的计算平台。例如谷歌从 2009  年开始开发无人车，采用英特尔的计算平台，包括最新的克莱斯勒大捷龙无人车，采用了英特尔的 Xeon 服务器芯片、Altera 的 FPGA  和英特尔的以太网关芯片。

相比自动驾驶领域比较新的技术，如TSN网络交换器，大部分厂家都会选择用 FPGA 实现自动驾驶。原因主要是 TSN  协议复杂，标准延续的周期很长。在 ADAS 领域，FPGA 用得更多，奔驰S系列每辆车使用多达 18 个 FPGA。FPGA  最突出的优势是功耗低，一般只有同样性能 GPU 的 1/10。

## 2.自动驾驶边缘计算发展趋势

随着自动驾驶的成熟和量产，将越来越多地采用域控制器嵌入式的方案 ：将各个传感器的原始数据接入到 Sensor Box 中，在 Sensor Box  中完成数据的融合，再将融合后的数据传输到计算平台上进行自动驾驶算法处理。自动驾驶汽车功能复杂，为了保证各个模块和功能间不互相影响，且出于安全性考虑，将大量采用域控制器。根据不同的功能实现分为车身域控制器、车载娱乐域控制器、动力总成域控制器、自动驾驶域控制器等。以自动驾驶域控制器为例，其承担了自动驾驶需要的数据处理运算，包括毫米波雷达、摄像头、激光雷达、组合导航等设备的数据处理，也承担了自动驾驶算法的运算。

自动驾驶除了包括车载计算单元，还涉及 RSU、MEC 和 CDN 等边缘服务器。随着 5G  技术的商用，特别是对于车路协同解决方案（V2X），将满足其对于超大带宽和超高可靠性的需求。同时，原本在数据中心中运行的负载可以卸载到网络边缘侧，例如高清 3D 地图更新、实时交通路况的推送、深度学习模型训练和大数据分析等，从而进一步降低传输时延，提高响应速度。

注：

 ①CDN边缘服务器：CDN的全称是Content Delivery  Network，即内容分发网络。CDN是构建在网络之上的内容分发网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。CDN的关键技术主要有内容存储和分发技术。

 ②RSU边缘服务器：微波读写天线（即路侧单元：Road-Side  Units，简称RSU）由微波天线和读写控制器组成。微波天线是一个微波收发模块，负责信号和数据的接收/发送、调制/解调、编码/解码、加密/解密；读写控制器是控制发射和接收数据以及处理向上位机收发信息的模块。

## 3.自动驾驶边缘计算架构

自动驾驶的边缘计算架构依赖于边云协同和LTE/5G提供的基础设施和服务。边缘侧主要指车载边缘计算单元、RSU或MEC服务器等。其中车载单元是环境感知、决策规划和车辆控制的主体，但依赖于RSU或MEC服务器的协作，如RSU给车载单元提供了更多关于道路和行人的信息。但是有些功能运行在云端更加合适甚至无法替代，例如车辆远程控制、车辆模拟仿真和验证、节点管理、数据的持久化保存和管理等。

## 4.自动驾驶边缘计算平台的特点

①负载整合

 ![在这里插入图片描述](https://img-blog.csdnimg.cn/20200817171042700.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1pKX19fX19X,size_16,color_FFFFFF,t_70#pic_center)

 ②异构计算

 由于自动驾驶边缘平台集成了多种不同属性的计算任务，为了提高自动驾驶边缘计算平台的性能和能耗比，降低计算时延，采用异构计算时非常重要的。
 ![在这里插入图片描述](https://img-blog.csdnimg.cn/20200817171414498.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1pKX19fX19X,size_16,color_FFFFFF,t_70#pic_center)

 ③实时性

 自动驾驶汽车对系统响应的实时性要求非常高，例如在危险情况下，车辆制动响应时间直接关系到车辆、乘客和道路安全。制动响应时间不仅仅包括车辆控制时间，而是整个自动驾驶系统的响应时间，其中包括网络云端计算处理、车间通信时间，也包括车辆本身系统计算和制动处理的时间。
 将自动驾驶的响应实时地划分到对其边缘计算平台各个功能模块的要求，包括：

•对周围目标检测和精确定位的时间：15～20ms。

•各种传感器数据融合和分析的时间：10～15ms。

•行为和路径规划时间：25～40ms。

④连接性

车联网的核心是连接性，希望实现车辆与一切可能影响车辆的实体实现信息交互，包括车人通信（V2P）、车网通信（V2N）、车辆之间通信（V2V）和车路通信（V2I）等。

V2X通信技术目前有 DSRC 与C-V2X（Cellular V2X，即以蜂窝通信技术为基础的 V2X）  两大路线。专用短距离通信技术（Dedicated Short Range Communication，DSRC）发展较早，  目前已经非常成熟。但随着 LTE 技术的应用推广和 5G 的兴起，未来 C-V2X 在汽车联网领域也将有广阔的市场空间。

安全指南》是首部针对汽车网络安全而制定的指导性文件。其配套的 J3101 号文件《路面车辆应用的硬件保护安全要求》，让设计者可以采取一些措施，为车辆提供多重保护，比如将验证密钥存储在微控制器的受保护区域中。