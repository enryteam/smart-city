- [移动边缘计算——MEC](http://www.uml.org.cn/xjs/202003114.asp?artid=23048)

## 一、基本概念

ETSI对于MEC的标准定义是：在移动网边缘提供IT服务环境和云计算能力。我们从运营商的角度来解读一下这个定义，如图1，在运营商眼里，网络其实就分为三个部分：无线接入网、移动核心网、应用网络。其中，无线接入网由基站组成，负责移动终端的接入，移动核心网由一堆高性能的路由器和服务器组成，负责将无线基站连接到外部网络，应用网络就是各种应用服务器工作的地方，实际上就是各种数据中心、服务器甚至PC。运营商基本上只掌管无线接入网和移动核心网两部分，应用网络通常在OTT手里，这三种网路在用户终端和应用服务器之间交替传递数据，完成用户的各种上网需求。但是随着各种新服务类型的出现，比如AR/VR，connected cars等，这种传统的网络结构逐渐不堪重负，因此催生了MEC的出现，即将网络业务“下沉”到更接近用户的无线接入网侧，从而带来三个好处：

用户感受到的传输时延减小

网络拥塞被显著控制

更多的网络信息和网络拥塞控制功能可以开放给开发者

![img](https://gitee.com/er-huomeng/l-img/raw/master/l-img/2020031141.png)

另外，在这里可以把MEC与传统的数据中心做一比较，传统的数据中心可以简单理解为集中式的大数据处理平台，而MEC可以简单理解为边缘式的大数据处理平台，即把传统的数据中心切割成各种小型数据中心后放置到网络的边缘，以期更靠近用户，为用户提供更快的服务和达到更好的网络性能。

## 二、MEC的服务场景

MEC的服务场景有很多，在ETSI的《Mobile Edge Computing—A Key Technology Towards 5G》白皮书中主要列举以下几个典型：

### 增强现实AR

增强现实AR是一种利用计算机产生的附加信息对使用者所看到的真实世界景象进行增强或扩展的技术。MEC服务器缓存需要推送的AR音视频内容，基于定位技术和地理位置信息一一对应。根据终端发起的应用请求，MEC服务器通过深度包解析判断应用内容，结合位置信息确定推送AR内容并发送给用户。MEC解决方案一方面通过内容本地化降低了内容时延，提升用户体验；另一方面基于位置，大大增强了AR的应用效果和价值。

### 智能视频加速

在因特网上，媒体和文件传输通常是以流的形式，或基于TCP协议使用HTTP下载。信道环境、终端的接入和离开等变化都会导致链路容量的变化。TCP可能并不能快速适应RAN的快速变化，因此使用MEC进行视频加速可以解决这类问题。

### Connected cars

MEC服务器可以部署于沿道路的LTE基站上，从车载应用和道路传感器接收本地信息，并加以分析，从而传播一些紧急信息给本区域的其他车辆。

### 物联网汇聚网关

IOT装置在处理器和内存容量上通常是资源受限的，因此有必要使用汇聚网关将各种各样IOT装置信息聚合起来，这样可以降低分析处理的反应时间。

## 三、MEC基本架构

在《Mobile-Edge Computing – Introductory Technical White Paper》白皮书中，对MEC服务器平台进行了图2所示的定义。

![img](http://www.uml.org.cn/xjs/images/2020031142.png)

如图2所示，MEC 托管基础架构主要包括MEC硬件资源和MEC虚拟化层两部分。MEC应用平台由MEC虚拟化管理器和MEC应用平台服务组成。MEC虚拟化管理器提供基础设施即服务（IaaS）功能，针对应用提供灵活高效、多租户的运行和托管环境。MEC应用平台服务为上层运行于MEC服务器的应用提供以下一组中间件服务：

基础设施服务（Infrastructure services）

通信服务（Communication services，CS）：允许在MEC服务器上的应用能够和这个应用平台进行通信。

服务注册（Service registry，SR）：服务注册表提供了MEC服务器上可用服务的可见性。它使用服务松散耦合的概念，在应用程序部署中提供灵活性。

无线网络信息服务（Radio Network Information Services，RNIS）：能够提供鉴权应用，比如说小区ID，用户位置，小区负载和吞吐量。RNIS提供信息给无线接入网到用户和小区。

流量卸载服务（Traffic Offload Function，TOF）：TOF服务选择优先处理的流量，并将所选择的基于策略的用户数据流路由分配给有权接收数据的应用程序。 虚拟设备的应用程序运行于IaaS上的虚拟机映像之上。各VM与MEC应用平台之间采用统一的API。

接下来我们针对图2所示的MEC服务器平台架构对MEC服务器的三层逻辑实体做以下归纳：

MEC平台基础层：基于NFV的硬件资源和虚拟化层架构，提供底层硬件的计算、存储、控制功能和硬件虚拟化组件（包括基于OpenStack的虚拟操作系统、KVM等），完成虚拟化的计算处理、缓存、虚拟交换及相应的管理功能。

MEC功能组件：承载业务的对外接口适配功能，通过API完成和基站及上层应用层之间的接口协议封装，提供流量旁路、无线网络信息、VM通信服务、应用与服务注册等能力，具备相应的底层数据包解析、内容路由选择、上层应用注册管理、无线信息交互等基础功能，相应的API采用网管SNMP，通过Get/Set Request/Set Response消息实例完成参数及信息交互。

MEC应用层：基于网络功能虚拟化VM应用架构，将MEC功能组件进一步组合封装成虚拟的应用（本地分流、无线缓存、增强现实技术、业务优化、定位等应用），并通过标准的接口开放给第三方业务应用或软件开发商，实现无线网络的能力开放与调用。

## 四、MEC的部署场景

MEC服务器可以部署在多个位置，这一小节列举MEC服务器的几个部署场景。

### （1）基于4G EPC架构部署在RAN侧的MEC方案

MEC服务器部署在RAN侧基站汇聚点后：如图3，这是比较常见的部署方式。

![img](http://www.uml.org.cn/xjs/images/2020031143.png)

MEC服务器部署在RAN侧单个基站之后：如图4，针对热点区域，例如校园、大型购物中心等。这种架构方案的优势在于更方便通过监听、解析S1接口的信令来获取基站侧无线相关信息，但计费和合法监听等安全问题需要进一步解决。

![img](http://www.uml.org.cn/xjs/images/2020031144.png)

### （2）基于4G EPC架构部署在CN侧的MEC方案

MEC服务器与与CN侧的P-GW部署在一起：如图5，这种方式不改变现有EPC架构，MEC 服务器与P-GW部署在一起。UE发起的数据业务经过eNodeB、Hub Node、S-GW、P-GW+MEC 服务器，然后到公网Internet。该部署方式不存在计费、安全等问题。

![img](http://www.uml.org.cn/xjs/images/2020031145.png)

MEC服务器与CN侧的D-GW部署在一起：如图6，这种方式改变现有EPC架构，MEC 服务器与D-GW部署在一起，原P-GW拆分为P1-GW和P2-WG（即D-GW），其中P1-GW驻留在原位置，D-GW下移（可以到RAN侧，也可以到CN边缘）。D-GW具备计费、监听、鉴权等功能。MEC 服务器与D-GW可以集成在一起，也可以作为单独网元部署在D-GW之后。P1-GW与D-GW之间为私有接口，需同一厂家设备。

![img](http://www.uml.org.cn/xjs/images/2020031146.png)

### （3）基于5G架构的MEC服务器部署方案

![img](http://www.uml.org.cn/xjs/images/2020031147.png)

MEC 服务器部署在GW-UP处：如图7中MEC server 2位置所示，5G网络核心网C/U功能分离之后，U-Plane（对应GW-UP）功能下移（可以下移到RAN侧，也可以下移到CN的边缘），C-Plane（对应GW-CP）驻留在CN侧。MEC 服务器部署在GW-UP处，相对于传统公网方案，可为用户提供低时延、高带宽服务。 MEC 服务器部署在NodeB之后：如图7中MEC server 1位置所示，MEC 服务器部署在NodeB之后（一个或多个NodeB），使数据业务更靠近用户侧。UE发起的数据业务经过NodeB、MEC 服务器 1，然后到Internet（第三方内容提供商服务器），在这种方式下计费和合法监听等安全问题需要进一步解决。 介绍完MEC部署方案，这里有一个问题值得我们思考：网络的边缘究竟在哪里？虽然许多人对于网络边缘的定义在无线蜂窝站和天线，但事实上，MEC实际上工作于应用层，移动网络真正的边缘应该是用户终端。如果MEC部署在终端上，将会对用户产生更大的影响。因此，我相信MEC越来越接近终端部署是今后MEC演进的趋势。

## 五、MEC相关的实现案例

### 在线视频系统

英特尔中国研究院与英特尔网络平台事业部、中国移动及爱奇艺合作开发了一款在线视频系统。视频提供商可请求无线基站为特定的高清付费用户提供充足带宽，保证其观看体验。OTT在使用上述系统时，无需对自己的应用网络进行架构性变动，大幅降低了使用成本，加速了业务创新。该系统已在业界知名的世界移动通信大会（MWC）上现身，引起广泛关注，并被欧洲电信标准化协会（ETSI）的MEC工作组采纳为典型业务场景之一。此外，该系统在中国IMT-2020(5G)推进组组织的中国5G技术研发试验的第一阶段测试中得到验证。

### 打造“无限”VR体验

中兴通讯提出如图9所示的基于5G架构的MEC解决方案。

![img](http://www.uml.org.cn/xjs/images/2020031148.png)

该方案具有以下5大业务特性：

本地化部署，可以单独提供业务服务。

最接近数据资源，有利于获取进行统计分析的关键数据。

提供低时延的边缘业务。

获取移动设备的位置，为商业用户提供基于业务的定位、统计等。

基于网络上下文的实时数据获取，便于相关应用提供精确的商业服务。

MEC for Connected cars

图10所示是一个针对connected cars提出的MEC解决方案，MEC部署在沿道路两侧排列的基站之后，并与之后的云数据中心进行信息交互，实现一些更需要低时延的计算和处理功能，对车载应用或道路传感器传来的数据能做到快速处理，通知同区域的其他车辆相关事件的发生。该方案来自于论文《A Novel Mobile Edge Computing-based Architecture for Future Cellular Vehicular Networks》，该论文已被2017 WCNC收录。对该方案感兴趣的读者可以转至论文原文作进一步了解。

![img](http://www.uml.org.cn/xjs/images/2020031149.png)

## 六、MEC现存的问题和挑战

MEC作为一个新兴的前沿技术，在为我们带来具有便利和效益的同时，还存在很多的问题和挑战。

（1）移动性问题：移动性问题又可以分为以下两种场景

用户在一个MEC服务器之下，从一个基站移动到另一个基站：服务器需要保证UE到应用的连接性能，需要跟踪UE当前的连接节点来确保下行数据的路由。

用户从一个MEC服务器移动到另一个MEC服务器：需要基于应用的能力、原始服务器和目标服务器的负载信息等情况来决策采用的移动性机制

（2）计费问题：边缘计算平台由于在部署时将服务下移，流量在边缘进行本地化卸载，计费功能不易实现。对于该问题，移动边缘计算平台的标准化工作尚未涵盖该部分的实现，不同的公司也有自己倾向的解决方案。服务问题由于涉及到较多的核心网网元，也需要设备供应商、OTT、运营商等多方的共同努力和积极探索。

（3）安全问题：同时，由于服务的下移也带来一些安全问题，例如可能存在一些不受信任的终端及移动边缘应用开发者的非法接入问题。因此需要在基站和边缘计算服务器之间建立鉴权流程和安全隧道的通信，以保证数据的机密性和完整性，并保证网络的安全。

最后，MEC的研究工作正在进行中，第一阶段在2016年底结束，主要是API标准的定义、MEC与NFV和端到端移动性的整合等的工作；下一阶段是17、18年两年，主要研究3GPP和非3GPP接入支持、虚拟化支持类型扩展、新付费模式的支持、开发各种应用、研究新的使用场景、研究NFV环境下MEC的部署等。相信在不久的将来，MEC的研究将会到达一个新的高度，让我们大家拭目以待！