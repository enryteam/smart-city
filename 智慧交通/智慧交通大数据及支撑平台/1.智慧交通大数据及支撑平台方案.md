# 智慧交通大数据及支撑平台方案

# 系统框架

![image-20210720165512115](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210720165512115.png)

Ø 通大数据采集子系统

交通大数据采集子系统基于基础网络服务平台，采集前端感知设备传输的信息，通过统一的采集服务将数据接入到大数据支撑平台，进行后续的分析处理，基础网络服务平台可满足各种数据接入，同时支持大量客户端的并行处理。

Ø 交通大数据资源整合存储子系统

交通大数据资源整合子系统整合了整个交通相关的数据，包括前端采集的实时交通数据、路网数据、公交车数据、交警数据中心、交通运输管理数据中心和城市管理数据中心的数据通过数据交换平台也整合到该系统中。

Ø 交通大数据清洗子系统

交通大数据清洗子系统负责交通数据清洗和规整，剔除无用、错误和冗余的数据，保证数据的质量。

Ø 大数据融合分析子系统

大数据计算是整个系统的核心，基于Hadoop分布式计算以及基于Strom流式计算可满足不同的计算需求。

Ø 统一消息服务子系统

统一消息服务子系统为各种综合应用提供服务接口，可满足各种系统的接入查询。

Ø 三维GIS平台子系统

三维GIS系统是用于空间基础信息三维数据浏览显示与查询分析的应用系统，三维GIS系统为用户提供了一个三维可视化的数据浏览、查询的信息平台，通过三维GIS系统可以浏览和查询平台基础信息数据库中的DEM、城市景观、遥感影像、城市绿化、城市公共设施分布等数据。系统可以导入各种常用的二维以及三维地理信息数据文件，兼容大多数开放的标准格式。

系统数据流图如下：

![image-20210720165555674](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210720165555674.png)

1、前端感知设备采集的交通数据通过专网发送到大数据及支撑平台采集主机，采集子系统将处理后的数据一部分发给hadoop集群主机，一部分发给计算主机。

2、计算主机进行数据的规整和清洗并进行一些基本的计算，包括交通运行指数、交通指标数据等的计算，计算后的结果保存到oracle和redis集群中。

3、Hadoop集群主机上进行大数据融合分析，包括基于大数据的OD分析，套牌车分析，尾气排放分析等。

4、统一消息服务平台将数据以服务的形式提供给各个应用子系统。

# 交通大数据采集子系统

## 前端采集技术

通常根据信息的变化程度，将交通信息分为2种：静态交通信息和动态交通信息。其中，静态交通信息指短期内不会发生太大变化的交通信息，如路网信息、交通基础设施信息等；动态交通信息是指随时间变化的交通信息，如交通流信息、交通事故信息和环境状况信息等。而智能交通的信息采集主要关注的是动态交通信息中的交通流信息，如车流量、平均车速、车辆类型、车辆定位以及行程时间等。对于上述不同类型的交通信息，采集技术种类很多，动态交通信息采集可分为非自动采集和自动采集两大类。非自动采集需要人工干预才能完成交通信息的采集，需要大量的人力和物力，不适用于长时间的观测，而且人工采集获得的动态交通信息很难满足ITS对交通信息的实时性要求。自动采集技术完全依靠采集设备自动感知道路上车辆的存在和通过，实现对交通流信息全方位、实时的采集。

下图为一些常用的动态交通采集的方式：

![image-20210720165804930](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210720165804930.png) 

图 6.4常用的动态交通采集的方式

1、采集公交车实时定位数据，数据经过处理可以提供给公交车信息以及路线查询服务使用，实时公交车数据可以提供给公交优先通行系统使用。

2、雷达设备采集基本的交通指标数据，后期可用于交通运行指数的计算。

3、视频设备一方面可以采集车辆的排队长度等交通信息，一方面可以实时监控道路交通状况。基于车辆识别的视频设备可以采集社会车辆的实时位置信息，这部分数据后期可以用于OD分析以及黑车、套牌车的分析。

4、出租车通过安装车载GPS设备，采集到的出租车实时位置信息可以用来分析道路拥堵情况。

5、客车以及危险品车的实时GPS定位数据可以用于两客一危系统的建设。

## 数据共享和交换平台

通过数据共享和交换平台，将交警局、交通局、城管局以及其他单位的基础数据和业务数据及时、准确、可靠的采集到大数据及支撑平台，同样，通过共享平台将大数据及支撑平台汇聚和计算到的数据共享给其他业务系统，共享平台的架构图如下：

![image-20210720165828312](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210720165828312.png)

# 基础交通数据

## 城市路网数据

### 节点表

节点表包含有关网络中所有节点的数据。每个节点都有一个唯一的标识符号，一个NORTHING，一个EASTING和ELEVATION，它指定了该节点的空间位置。没有两个节点可以具有相同的NORTHING，EASTING和ELEVATION；然而，它们可以具有相同的NORTHING，EASTING，但不同的ELEVATION。

**表**6.1**节点**

| **Column Name** | **Description**                                  | **Allowed Values**     |
| --------------- | ------------------------------------------------ | ---------------------- |
| ID              | 节点的ID号                                       | 整数：1到2,147,483,647 |
| EASTING         | 节点的x坐标（以米为单位，UTM网格系统）           | 浮点数                 |
| NORTHING        | 节点的y坐标（以米为单位，UTM网格系统）           | 浮点数                 |
| ELEVATION       | 节点的z坐标（以米为单位，UTM网格系统）           | 浮点数                 |
| NOTES           | 用于数据质量注释的字符串；自由格式（可以为空白） | 255 个字符             |

节点通常出现在在道路网络的交叉口。当道路分叉时，以及当永久车道数量发生变化时，节点必须存在。然而，为了方便起见，节点可以存在于任何地方。重要的是要注意，当待转区turn pockets开始/结束时不需要节点，因为它们不被认为是永久的车道。

总之，在以下情况节点将被虚拟地放置到道路网络上：

1、在交叉口。

2、当道路分叉时。

3、在路的尽头。

### 链路表

链路是两个节点之间的连接。链路表示街道，道路，高速公路，铁路或人行道段。应当注意，每个链路具有恒定数量的永久通道，但也可能具有可变数量的转向车道转向专用道s。链路可以是双向车道，其将允许车辆进入对面的车道。如果指定了两条链路，均是单向车道，则禁止通过。链路还包含车辆的速度信息。

链路表包含描述全部链路特征的所有数据。每个链接都有一个唯一的标识符和一组描述链接的属性，如表链路表。它们包括链路连接的节点，链路类型，永久通道数，等级，容量等。应该记住，一个链路应该具有至少一个方向的永久通道，并且在存在转向车道a 转向专用道每个方向上具有至少一个永久通道。链路的编码长度不应大于其端点之间的距离的50％。此外，链路的长度不能非常小。在不使用高级编码技术的条件下，微观仿真器将难以模拟小于123英尺长的连续链路。

**表**6.2**链路**

| **Column Name** | **Description**                                              | **Allowed Values**                                           |
| --------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| SETBACKB        | 距离节点B的交叉口中心的回退距离（以米为单位）                | 非负浮点数                                                   |
| CAPACITYA       | 行驶到节点A的通道的总容量（以每小时车辆计）                  | 非负浮点数                                                   |
| CAPACITYB       | 行驶到节点B的车道的总容量（以车辆每小时计）                  | 非负浮点数                                                   |
| SPEEDLMTA       | 驶向节点A的车辆的默认速度限制（以米/秒为单位）               | 正浮点数                                                     |
| SPEEDLMTB       | 驶向节点B行驶的车辆的默认速度限制（以米/秒为单位）           | 正浮点数                                                     |
| FREESPDA        | 驶向节点A的车辆的默认自由流速度（以米/秒计）                 | 正浮点数                                                     |
| FREESPDB        | 驶向节点B的车辆的默认自由流速度（以米/秒计）                 | 正浮点数                                                     |
| FUNCTCLASS      | 链路的功能类别。应对可用的公路和铁路链路进行道路类别进行编码 | 10个字符:FREEWAY = freeway 高速公路XPRESSWAY= expressway 城市快速路PRIARTER =主干道SECARTER = 次干道FRONTAGE = 衔接道路COLLECTOR= collector 辅助道路LOCAL = local street 地方街道RAMP =高速公路匝道ZONECONN =区域连接器OTHER = 其他WALKWAY = 仅限步行BIKEWAY =仅限自行车BUSWAY = 公共汽车专用道LIGHTRAIL = 轻轨HEAVYRAIL =重轨FERRY =	渡轮 |
| THRUA           | 在节点A处连接的默认直通链路。零表示没有直通链路              | 整数 : 0 到 2,147,483,647                                    |
| THRUB           | 在节点B连接的默认直通链路。零表示没有直通链路                | 整数 : 0 到 2,147,483,647                                    |
| COLOR           | 链路的颜色编号（连接到给定链路的所有链路必须具有不同的颜色） | 整数: 1到 63                                                 |
| VEHICLE         | 此链路允许的车辆类型（模式）                                 | 用斜线分隔的字符串：WALK = 步行AUTO = 私家车TRUCK= motor carrier 机动车运输BICYCLE = 自行车TAXI = paratransit 辅助客运系统BUS = 公交车TROLLEY = trolley 无轨公交车STREETCAR = streetcar 有轨公交车LIGHTRAIL =轻轨RAPIDRAIL = 快速轨道交通REGIONRAIL = 区域铁路 |
| NOTES           | 用于数据质量注释的字符串；自由格式（可以为空白）             | 255个字符                                                    |

 

**表**6.3**链路功能**

| **Class**          | **Interpretation**                                           |
| ------------------ | ------------------------------------------------------------ |
| Freeway            | 一条分开的高速公路干线，其对通过交通进行完全出入控制。完全出入控制意味着行使控制访问的权限,通过提供与选定的公共道路的访问连接来赋予通过交通优先权,但禁止平交道口和/或直接私人车道连接 |
| Expressway         | 一条分开的高速公路干线，其对通过交通进行部分出入控制.出入部分控制意味着以上述方式行使某种权限来控制出入，但是在平交道口或直接私人车道连接处存在交叉 |
| Primary Arterial   | 主干道，在平交道口设有十字路口，可直达邻接区，并采用几何设计和交通控制措施，加快交通的安全移动 |
| Secondary Arterial | 次干道，在平交道口设有十字路口，可直达邻接区，并采用几何设计和交通控制措施加快交通的安全移动 |
| Frontage Road      | 平行于freeway和 Expressway的干线                             |
| Collector Street   | 车辆交通优先行驶的道路。这些街道具有入口，法律规定，由于停车标志或让行标志（当这些标志竖立时）的结果，法律要求来自交叉车道的车辆交通产生车辆的通行权 |
| Local Street       | 主要用于出入住宅，商业或其他物业的街道或道路                 |
| Freeway Ramp       | 将高速公路和快速路连接到干线的单向道路                       |
| Zonal Connector    | 与交通分析区的质心的虚拟（非物理）连接                       |
| Other              | 不符合上述定义的其他道路                                     |
| Walkway            | 人行道                                                       |
| Busway             | 由公共汽车使用的车道                                         |
| Light Rail         | 轻轨车辆专用车行道                                           |
| Heavy Rail         | 重轨车辆专用车行道                                           |
| Ferry              | 渡船横渡的水道                                               |

### 转向车道表

以下为转向专用道转向车道定义：

(a)右转或左转车道；例如在起始节点之后开始并在目标节点结束的车道

(b)左或右延伸车道；例如在起始节点之后开始并在目标节点之前结束的车道

(c)右或左合并区；例如在起始节点开始并在目标节点之前结束的车道

从在起始节点开始并在目标节点结束的车道被称为永久车道。pocket表指定存在转向专用道的链路，pocket的类型，其长度和其从节点开始的位置。转向专用道的图形表示可以与链路相同，其中黑色部分表示车道的未使用部分。

转向专用道表为每个转向专用道指定唯一的标识符。包含与转向专用道相关联的特征，例如开始位置，车道类型，其长度以及它所位于的链路。应当注意，链路表中指定的所有转向专用道都存在于转向专用道表中。

**表**6.4**转向专用到道**

| **Column Name** | **Description**                                              | **Allowed Values**                                           |
| --------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| ID              | Pocket车道 ID 编号                                           | 整数：1到2,147,483,647                                       |
| LINK            | Pocket车道导向的节点的ID号                                   | 整数：1到2,147,483,647                                       |
| OFFSET          | Pocket车道的起始位置，从NODE测量（以米为单位）（仅适用pullout pockets） | 非负浮点数                                                   |
| LANE            | 转向专用道的车道数                                           | 整数：1到255                                                 |
| STYLE           | 转向专用道的类型                                             | 一个字符：T = turn pocketP = pull.out pocketM = merge pocket |
| LENGTH          | 转向专用道的长度（以米计）。转弯和合并pockets始终在适当的限制线开始或结束 | 正浮点数                                                     |
| NOTES           | 用于数据质量注释的字符串；自由格式（可以为空白）             | 255个字符                                                    |

### 停车场表

沿着链路布置并用作车辆行程的起点和目的地的附件，停车场可以放置在物理上位于网络中的位置，或放置在表示链路上的若干车道，地段，停车位等的总体通用停车区域中。停车位置是双向的。链路可能没有或有许多停车位置。然而，一个停车位置可以表示该特定链路上的所有停车场。停车场表规定了关于网络上的停车位所需的所有数据，例如存在停车的链路，车辆驶向的节点，允许停放车辆容量及车辆类型。

**表**6.5**停车场**

| **Column Name** | **Description**                                              | **Allowed Values**                                           |
| --------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| ID              | 停车场ID编号                                                 | 整数：1 到 2,147,483,647                                     |
| NODE            | 车辆驶向的节点ID编号                                         | 整数：1 到 2,147,483,647                                     |
| LINK            | 停车场所在的链路ID编号                                       | 整数：1 到 2,147,483,647                                     |
| OFFSET          | 从链路到停车场的入口的位置，从NODE测量（以米为单位）         | 非负浮点数                                                   |
| STYLE           | 停车场类型                                                   | 5个字符串:PRSTR =平行于街道HISTR = head in on street 在街头DRVWY =车道LOT =停车场BNDRY = 网络边界PARKRIDE = 停车&乘车场 |
| CAPACITY        | 停车场可容纳的车辆数量；零为无限容量                         | 整数：0 到 65,535                                            |
| GENERIC         | 指示停车场是否表示通用停车场（不是实际车道，地段等，而是用于简化建模的组/聚集）的切换 | 一个字符串：T = true/yesF = false/no                         |
| VEHICLES        | 允许在停车场停放的车辆类型                                   | 用斜线分隔的字符串：AUTO = 私家车TRUCK =机动车运输BICYCLE = 自行车TAXI =辅助客运系统BUS =公交车TROLLEY = 无轨公交车STREETCAR = 有轨公交车LIGHTRAIL = 轻轨交通RAPIDRAIL = 快速轨道交通REGIONRAIL = 区域铁路ANY = 任何车辆类型 |
| START TIME      | 停车的开始时间                                               | 代表星期几的字符串:SUN = 周日MON = 周一TUE = 周二WED = 周三THU = 周四FRI = 周五SAT = 周六WKE = 任何周末WKD = 任何工作日ALL = 任何一天一天接着一天（24小时制）例如WKD13：20是下午1:20的任何工作日 |
| END TIME        | 停车的结束时间                                               | 同 STARTTIME 描述                                            |
| NOTES           | 用于数据质量注释的字符串; 自由格式（可以为空白）             | 255个字符                                                    |

### 活动位置表

活动位置是指家庭成员将往来的地方。所有活动都在活动地点进行，如购物中心，住房和工作场所等。活动位置表定义了活动在网络上的位置，例如节点条目，偏移量及其以北northing，以东easting和它所在的层的形式表示的空间信息。

活动位置表中的条目为每个活动位置及其特征（如其偏移量，其空间位置及其所在的链路）指定唯一标识符。重要的是注意活动位置所在的模态层与链路上允许的车辆类型一致。活动位置位于步行或驾车drive链路层上。用户还可以使用最多20个可选字段来描述土地使用或ELEVATION和NOTES字段之间的活动的任何其他特性。

**表**6.6**活动位置**

| **Column Name**  | **Description**                                              | **Allowed Values**          |
| ---------------- | ------------------------------------------------------------ | --------------------------- |
| ID               | 活动位置的ID编号                                             | 整数： 1 到 2,147,483,647   |
| NODE             | 车辆正驶向的节点的ID号（当朝向该方向时，该位置被认为在街道的右侧） | 整数： 1 到 2,147,483,647   |
| LINK             | 活动位置所在的链路ID 号                                      | 整数: 1 到2,147,483,647     |
| OFFSET           | 从链路到活动位置的入口的位置，从NODE测量（以米为单位）       | 非负浮点数                  |
| LAYER            | 活动位置所在的模态“层                                        | 字符串:AUTOBUSLIGHTRAILWALK |
| EASTING          | 活动位置的x坐标（以米为单位，UTM网格系统）                   | 浮点数                      |
| NORTHING         | 活动位置的y坐标（以米为单位，UTM网格系统）                   | 浮点数                      |
| ELEVATION        | 活动位置的z坐标（以米为单位，UTM网格系统）                   | 浮点数                      |
| Optional field 1 | 土地使用的第一个可选字段                                     | 浮点数                      |
| Optional field 2 | 土地使用的第二个可选字段                                     | 浮点数                      |
| Optional field n | 土地使用的第N个可选字段                                      | 浮点数                      |
| NOTES            | 用于数据质量注释的字符串；自由格式（可以为空白）             | 255个字符                   |

### 过程链路表

过程链路是将活动位置连接到停车场或公共交通站点的虚拟链路。过程链接允许出行者在这些位置之间移动。它代表出行者改变模式并记录出行者进行模式改变的成本（时间和金钱）的过程。它不是道路或人行道的物理段。过程链路是定向的，并且被视为行走链路。为了完成网络，布置两个过程链路以将停车场连接到活动位置。

**表**6.7**过程链路**

| **Column Name** | **Description**                                              | **Allowed Values**             |
| --------------- | ------------------------------------------------------------ | ------------------------------ |
| ID              | 虚拟链路的ID号                                               | 整数：1 到  2,147,483,647      |
| FROMID          | 虚拟链路离开的附件的ID号                                     | 整数：1到2,147,483,647         |
| FROMTYPE        | 虚拟链路离开的附件类型                                       | 字符串：ACTIVITYPARKINGTRANSIT |
| TOID            | 虚拟链路通向的附件的ID号                                     | 整数：1 到  2,147,483,647      |
| TOTYPE          | 虚拟链路通向的附件类型                                       | 字符串：ACTIVITYPARKINGTRANSIT |
| DELAY           | 在虚拟链路上传输时所产生的时间延迟（以秒为单位）             | 非负浮点数                     |
| COST            | 在虚拟链路上传输时产生的成本（以任意单位测量）。请注意，尽管成本是以任意单位测量的，但是整个数据表的单位必须相同 | 非负浮点数                     |
| NOTES           | 用于数据质量注释的字符串；自由格式（可以为空白）             | 255个字符                      |

### 公共交通站点表

公共交通站点是定义在公共交通车辆（例如公共汽车或轻轨）等待乘客上下车的链路上的位置的附件。

公共交通站点表中的条目指定了特性，例如位置，偏移，服务的车辆类型，容量等。网络中的每个公共交通站点都由唯一的ID标识。公共交通站点的车辆类型应与链路上的车辆类型一致。

**表**6.8**公共交通站点**

| **Column Name** | **Description**                                  | **Allowed Values**                                           |
| --------------- | ------------------------------------------------ | ------------------------------------------------------------ |
| ID              | 站点的ID编号                                     | 整数：1 到 2,147,483,647                                     |
| NAME            | 站点名称                                         | 50个字符                                                     |
| NODE            | 车辆驶向的节点的ID编号                           | 整数：1 到 2,147,483,647                                     |
| LINK            | 站点所在的链路的ID 号                            | 整数：1 到 2,147,483,647                                     |
| OFFSET          | 站点的位置，从NODE测量（以米为单位）             | 非负浮点数                                                   |
| VEHICLE         | 停靠的车辆类型                                   | 用斜线分割的字符串：BUS = bus 公共汽车TROLLEY = trolley 无轨公交车STREETCAR = streetcar 有轨公交车LIGHTRAIL =轻轨交通RAPIDRAIL = 快轨交通REGIONRAIL = 区域铁路 |
| STYLE           | 站点类型                                         | 10个字符串:STOP= stop (no station)停止（无站）STATION = station  车站 |
| CAPACITY        | 停靠点可以同时处理的车辆数量；零为无限容量       | 整数：0到 65,535                                             |
| NOTES           | 用于数据质量注释的字符串；自由格式（可以为空白） | 255 个字符                                                   |

### 车道连接表

车道连接性表指定了链路上的每个车道连接到下一链路上的车道的方式。换句话说，它指定在节点处允许的移动。车道连接表包括诸如进入车道，输出车道和输出链路编号的规格的信息，如下表所示。每个进入通道具有至少一个输出连接。

**表**6.9**车道连接**

| **Column Name** | **Description**                                  | **Allowed Values**     |
| --------------- | ------------------------------------------------ | ---------------------- |
| NODE            | 节点ID 编号                                      | 整数：1到2,147,483,647 |
| INLINK          | 进入链路的ID号                                   | 整数：1到2,147,483,647 |
| INLANE          | 进入车道的车道号                                 | 整数：1到255           |
| OUTLINK         | 输出链路的ID号                                   | 整数：1到2,147,483,647 |
| OUTLANE         | 输出车道的车道号                                 | 整数：1到255           |
| NOTES           | 用于数据质量注释的字符串；自由格式（可以为空白） | 255 个字符串           |

### 速度表

速度是车辆在链路上的速度。它以单元格/时间步长（cells/timestep）为单位并称为V。例如，速度为1单元格 /秒的车辆等于1×7.5米/秒= 7.5m / s或27Km / hr。只有当链路的速度限制或自由速度因允许使用链路的不同类型的车辆而异时，才需要速度表中的条目。在链路表中指定的速度将用作速度表中未指定的任何车辆类型的默认值。

**表**6.10**速度**

| **Column Name** | **Description**                                  | **Allowed Values**                                           |
| --------------- | ------------------------------------------------ | ------------------------------------------------------------ |
| LINK            | 具有多个速度的链路的ID号                         | 整数：1到2,147,483,647                                       |
| NODE            | 车道所朝向的节点的ID号                           | 整数：1到2,147,483,647                                       |
| SPEEDLMT        | 车辆的速度限制（以米/秒为单位）                  | 正浮点数                                                     |
| FREESPD         | 车辆的自由速度（米/秒）                          | 正浮点数                                                     |
| VEHICLE         | 适用速度的车辆类型                               | 用斜线分隔的字符串：AUTO = 私家车TRUCK =机动车运输BICYCLE = 自行车TAXI = 辅助客运系统BUS = 公交车TROLLEY = trolley 无轨公交车STREETCAR = streetcar有轨公交车LIGHTRAIL = 轻轨交通RAPIDRAIL =快速轨道交通REGIONRAIL = 区域铁路 |
| STARTTIME       | 速度的开始时间                                   | 代表星期几的字符串:SUN = 周日MON = 周一TUE = 周二WED = 周三THU = 周四FRI = 周五SAT = 周六WKE = 任何周末WKD = 任何工作日ALL = 任何一天一天接着一天（24小时制）例如WKD13：20是下午1:20的任何工作日 |
| ENDTIME         | 速度的结束时间                                   | 同上 STARTTIME 描述                                          |
| NOTES           | 用于数据质量注释的字符串; 自由格式（可以为空白） | 255个字符                                                    |

### 车道使用表

仅当车道对某些车辆类型有限制时，车道使用表中的条目才需要。当在车道使用表中没有记录时，在链接表中指定的车辆类型能够不受限制地使用链路上的所有车道。重要的是，限制适用的车辆类型与链路上允许的车辆类型一致。

**表**6.11**车道使用**

| **Column Name** | **Description**                                  | **Allowed Va lues**                                          |
| --------------- | ------------------------------------------------ | ------------------------------------------------------------ |
| NODE            | 车道通向的节点的ID号                             | 整数：1到2,147,483,647                                       |
| LINK            | 车道所在链路的ID号                               | 整数：1到2,147,483,647                                       |
| LANE            | 车道数                                           | 整数：1到255                                                 |
| VEHICLE         | 适用限制的车辆类型                               | 以斜杠分隔的字符串：'HOV2'=具有两个或更多个乘员的高占用车辆′HOV3′=具有三个或更多乘员的高占用车辆′HOV4′=具有四个或更多乘员的高占用车辆'BICYCLE'=自行车'AUTO'=私人汽车'TRUCK'=电机托架'BUS'=公交车'TROLLEY'= trolley无轨公交车'STREETCAR'=streetcar 有轨公交车'LIGHTRAIL'=轻轨交通'RAPIDRAIL'=快速轨道交通'REGIONRAIL'=区域铁路 |
| RESTRICT        | 车道限制类型                                     | 一个字符：'O'=只有这种车型可以使用车道'R'=该车型需要使用的车道'N'=车道不允许此种车辆类型使用 |
| STARTTIME       | 限制的开始时间                                   | 代表星期几的字符串:SUN = 周日MON = 周一TUE = 周二WED = 周三THU = 周四FRI = 周五SAT = 周六WKE = 任何周末WKD = 任何工作日ALL = 任何一天一天接着一天（24小时制）例如WKD13：20是下午1:20的任何工作日 |
| ENDTIME         | 限制的结束时间                                   | 同上 STARTTIME 的描述                                        |
| NOTES           | 用于数据质量注释的字符串; 自由格式（可以为空白） | 255 个字符                                                   |

### 屏障表

屏障表包括诸如存在屏障的链路，车辆行进的节点以及屏障的类型和长度等条目。每个屏障还具有参考的唯一标识符。

**表**6.12**屏障**

| **Column Name** | **Description**                                  | **Allowed Values**                                           |
| --------------- | ------------------------------------------------ | ------------------------------------------------------------ |
| ID              | 屏障ID编号                                       | 整数：1到2,147,483,647                                       |
| NODE            | 车辆驶向的节点的ID号                             | 整数：1到2,147,483,647                                       |
| LINK            | 屏障所在链路的ID号                               | 整数：1到2,147,483,647                                       |
| OFFSET          | 屏障的起始位置，从NODE测量（以米为单位）。       | 非负浮点数                                                   |
| LANE            | 屏障左侧的车道数                                 | 整数：0到255                                                 |
| STYLE           | 屏障类型                                         | 10个字符串：‘CURB’ = curb 路缘‘BARRIER’ = barrier 护栏‘GRADESEP’ = grade separation立体交叉‘STRIPE’ = painted stripe 标线‘TEMPORARY’ =临时屏障 |
| LENGTH          | 屏障长度（以米为单位）                           | 正浮点数                                                     |
| NOTES           | 用于数据质量注释的字符串; 自由格式（可以为空白） | 255个字符                                                    |

### 转向禁止表

只有在一天的某些时间禁止节点处的特定移动时，才需要转向禁止表中的条目。车道连接表指定在节点处始终有效的允许和禁止移动。转向禁止表包括诸如输出链路，输入链路，禁止的开始时间和的结束时间的数据。

**表**6.13**转向禁止**

| **Column Name** | **Description**                                  | **Allowed Vlaues**                                           |
| --------------- | ------------------------------------------------ | ------------------------------------------------------------ |
| NODE            | 节点的ID号                                       | 整数：1到2,147,483,647                                       |
| INLINK          | 输入链路的ID号                                   | 整数：1到2,147,483,647                                       |
| OUTLINK         | 输出链路的ID号                                   | 整数：1到2,147,483,647                                       |
| STARTTIME       | 禁止的开始时间                                   | 代表星期几的字符串：SUN = 周日MON = 周一TUE = 周二WED = 周三THU = 周四FRI = 周五SAT = 周六WKE = 任何周末WKD = 任何工作日ALL = 任何一天一天接着一天（24小时制）例如WKD13：20是下午1:20的任何工作日 |
| ENDTIME         | 禁止的结束时间                                   | 同上 STARTTIME 的描述                                        |
| NOTES           | 用于数据质量注释的字符串; 自由格式（可以为空白） | 255 个字符                                                   |

### 未信号化节点表

未信号化节点表包含指定“未信号化”节点处的控制类型的数据，例如让行或停止。未信号化的每个节点都应在未信号化节点表中指定。

**表**6.14**未信号化节点**

| **Column Name** | **Description**                                  | **Allowed Values**              |
| --------------- | ------------------------------------------------ | ------------------------------- |
| NODE            | 节点的ID号                                       | 整数：1到2,147,483,647          |
| INLINK          | 输入链路的ID号                                   | 整数：1到2,147,483,647          |
| SIGN            | 链路上的符号控制类型                             | ‘S’ = 停止；‘Y’ =让行；‘N’ = 无 |
| NOTES           | 用于数据质量注释的字符串；自由格式（可以为空白） | 255 个字符                      |

### 信号节点表

信号节点表包含描述在信号化的节点处的控制类型的数据。指定信号化节点的特性，例如信号是定时控制或是感应，如果信号控制为定时，则偏移时间offset time，如果信号控制为感应，则遵循算法。

**表**6.15**信号节点**

| **Column Name** | **Description**                                    | **Allowed Values**                                           |
| --------------- | -------------------------------------------------- | ------------------------------------------------------------ |
| NODE            | 节点的ID号                                         | 整数：1到2,147,483,647                                       |
| TYPE            | 信号类型                                           | 一个字符：‘T’ = timed 定时‘A’ = actuated 感应                |
| PLAN            | 定时计划的ID号                                     | 整数：1到65,535                                              |
| OFFSET          | 协调信号的相对偏移（以秒为单位）                   | 非负浮点数                                                   |
| STARTTIME       | 计划的开始时间                                     | 代表星期几的字符串：SUN = 周日MON = 周一TUE = 周二WED = 周三THU = 周四FRI = 周五SAT = 周六WKE = 任何周末WKD = 任何工作日ALL = 任何一天一天接着一天（24小时制）例如WKD13：20是下午1:20的任何工作日 |
| COORDINATR      | 信号的协调器的ID号；相当于NODE号，如果信号是独立的 | 整数：1到2,147,483,647                                       |
| RING            | 单环或双环。双环仅适用于A型                        | 一个字符：‘S’ = single 单环‘D’ = dual   双环                 |
| ALGORITHM       | 信号使用的控制算法，仅对TYPE ='A'                  | 十个字符                                                     |
| NOTES           | 用于数据质量注释的字符串；自由格式（可以为空白）   | 255个字符                                                    |

### 相位计划表

此表中的条目指定交叉口处的定相计划，提供每个相位的详细信息，如移动保护指示器，与此移动相关的检测器数量，输入链路和输出链路。

**表**6.16**相位计划**

| **Column Name** | **Description**                                        | **Allowed Values**                                       |
| --------------- | ------------------------------------------------------ | -------------------------------------------------------- |
| NODE            | 节点的ID号                                             | 整数：1到2,147,483,647                                   |
| PLAN            | 定时计划的ID号                                         | 整数：1到65,535                                          |
| PHASE           | 相位数                                                 | 整数：1到255                                             |
| INLINK          | 输入链路的ID号                                         | 整数：1到2,147,483,647                                   |
| OUTLINK         | 输出链路的ID号                                         | 整数：1到2,147,483,647                                   |
| PREOTECTION     | 移动保护指示器                                         | 一个字符：‘P’ = 受保护‘U’ = 不受保护‘S’ = 停止后不受保护 |
| DETECTORS       | 与此运动相关的检测器的ID号。这仅对于感应控制器是必需的 | 检测器Id字符串，以斜杠分隔                               |
| NOTES           | 用于数据质量注释的字符串; 自由格式（可以为空白）       | 255个字符                                                |

### 定时计划表

提供了相位，相位计划，下一相位，允许的最短和最长绿灯，绿灯延长间隔和amber time黄灯等信息。应当注意，用户应该验证（计划，相位）对是唯一的，在表中输入的时间值是一致的，并且相序列参考存在的相位。

**表**6.17**定时计划**

| **Column Name** | **Description**                                              | **Allowed Values**         |
| --------------- | ------------------------------------------------------------ | -------------------------- |
| PLAN            | 定时计划的ID号                                               | 整数：1到65,535            |
| PHASE           | 相位数                                                       | 整数：1到255               |
| NEXTPHASES      | 下一个相位的相位编号                                         | 相位编号字符串，以斜杠分隔 |
| GREENMIN        | 绿灯间隔的最小长度（以秒为单位），或定时信号的固定绿灯长度   | 非负浮点数                 |
| GREENMAX        | 绿灯间隔的最大长度（以秒为单位）                             | 非负浮点数                 |
| GREEENNEXT      | 绿灯延长间隔的长度（以秒为单位）                             | 非负浮点数                 |
| YELLOW          | 黄灯间隔的长度（以秒为单位）                                 | 非负浮点数                 |
| REDCLEAR        | 红灯间隔的长度（以秒为单位                                   | 非负浮点数                 |
| GROUPFIRST      | 对于预定时或单环：1表示第一相位，0如果不是第一相位；双相环：此相位为第一相的相位组数，如果不是相位组中的第一相位，则为0 | 整数：0到255               |
| NOTES           | 用于数据质量注释的字符串；自由格式（可以为空白）             | 255个字符                  |

### 检测器表

放置在网络上的与信号交叉口不相关联的每个检测器被编码在检测器表中，并被给予唯一的标识符。检测器表由诸如检测器的位置，与节点的偏移距离，长度，样式和其他信息的数据组成。

**表**6.18**检测器**

| **Column Name** | **Description**                                              | **Allowed Values**                                           |
| --------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| ID              | 检测器的ID号                                                 | 整数：1到2,147,483,647                                       |
| NODE            | 车辆驶向的节点的ID号                                         | 整数：1到2,147,483,647                                       |
| LINK            | 检测器所在链路的ID号                                         | 整数：1到2,147,483,647                                       |
| OFFSET          | 探测器的起始位置，从NODE测量（以米为单位）                   | 非负浮点数                                                   |
| LANEBEGIN       | 检测器开始的车道的车道数                                     | 整数：1到255                                                 |
| LANEEND         | 检测器结束的车道的车道数，等同于位于单车道上的检测器的LANEBEGIN | 整数：1到255                                                 |
| LENGTH          | 检测器长度（以米为单位）                                     | 非负浮点数                                                   |
| STYLE           | 检测器类型                                                   | 十个字符：‘PRESENCE’ = 感测在检测器上的车辆‘PASSAGE’ = 感测穿过检测器的车辆 |
| COORDINATR      | 用于检测器输出的协调器的ID号                                 | ID以斜杠分隔的协调器字符串                                   |
| NOTES           | 用于数据质量注释的字符串; 自由格式（可以为空白）             | 255个字符                                                    |

### 信号协调器表

信号协调器表，向模拟器提供关于协调器类型和协调器将使用的控制算法的信息。它还包括一个可用于数据质量注释的自由格式的额外字段。

**表**6.19**信号协调器**

| **Column Name** | **Description**                                  | **Allowed Values**     |
| --------------- | ------------------------------------------------ | ---------------------- |
| ID              | 信号协调器的ID号                                 | 整数：1到2,147,483,647 |
| TYPE            | 协调器类型                                       | 十个字符：要确定的值   |
| ALGORITHM       | 协调器使用的控制算法                             | 十个字符：要确定的值   |
| NOTES           | 用于数据质量注释的字符串; 自由格式（可以为空白） | 255个字符              |

### 研究区域链路表

该表指定链路是在研究区域“N”内还是在研究区域外的缓冲区“Y”中。此表是可选的。如果配置文件中没有引用它，则假定所有链路都在研究区域中。

**表**6.20**研究区域**

| **Column Name** | **Description**                                  | **Allowed Values**                     |
| --------------- | ------------------------------------------------ | -------------------------------------- |
| ID              | 链路的ID号                                       | 整数：1到2,147,483,647                 |
| BUFFER          | 链路是在缓冲区还是研究区                         | 一个字符：‘Y’ = 在缓冲区‘N’ = 在研究区 |
| NOTES           | 用于数据质量注释的字符串；自由格式（可以为空白） | 255个字符                              |

## 公交线路数据

公交线路数据是公交信号优先系统运行过程中的一个必要条件，公交线路分为上下行，由一个路口到另一个路口的路段组成，约定路口A到路口B，与路口B到路口A为两条路段。存在多条公交路线共享同一路段的情况。公交上下行线路由多条公交线路路段组成。下表分别介绍公交路线路段的存储结构与公交线路存储结构。

**表**6.21**公交路线路段的存储结构**

| **字段名称** | **字段类型** | **字段说明**                             |
| ------------ | ------------ | ---------------------------------------- |
| BusLineUID   | Int          | 公交线路路段唯一标识                     |
| FromNode     | String       | 起始路口                                 |
| ToNode       | String       | 到达路口                                 |
| BusNumer     | String       | 公交线路，可存在多个公交线路共享同一路段 |

**表**6.22**公交线路存储结构**

| **字段名称** | **字段类型** | **字段说明**         |
| ------------ | ------------ | -------------------- |
| BusNumber    | String       | 公交线路名称         |
| StartTime    | String       | 起始时间             |
| EndTime      | String       | 截至时间             |
| StreamFlag   | Bool         | 公交线路上下行       |
| Stop         | String       | 公交站台名称         |
| BusLine      | String       | 此公交线路包含的路段 |

表6.23公交站台

| **字段名称** | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| StopID       | String       | 公交站台ID   |
| StopName     | String       | 公交站台名称 |
| Type         | Int          | 公交站台类型 |
| Line         | String       | 经由线路     |
| Longitude    | Double       | 经度         |
| Latitude     | Double       | 纬度         |

## 公交车辆数据

为满足对相关公交车辆进行详情查询，需要建立公交公司基础数据，公交车辆基础数据表

**表**6.24**公交公司基础数据**

| **字段名称**      | **字段类型** | **字段说明** |
| ----------------- | ------------ | ------------ |
| CompanyName       | String       | 公司名称     |
| CompanyAddr       | String       | 公司地址     |
| Introduction      | String       | 公司简介     |
| ComplaintsHotline | String       | 投诉电话     |
| ServiceCall       | String       | 服务电话     |

**表**6.25**公交车辆基础数据**

| **字段名称** | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| PlateNumber  | String       | 车辆牌照     |
| Color        | String       | 车辆颜色     |
| Brand        | String       | 车辆品牌     |
| Type         | String       | 车辆类型     |
| Company      | String       | 挂靠单位     |

## 长途客运车数据

为满足对相关长途客运车辆进行详情查询，需要建立长途客运基础数据，其中包括公路客运公司数据，长途客运车基础数据，客运路线基础数据。

**表**6.26**长途客运基础数据**

| **字段名称**      | **字段类型** | **字段说明** |
| ----------------- | ------------ | ------------ |
| CompanyName       | String       | 公司名称     |
| CompanyAddr       | String       | 公司地址     |
| Introduction      | String       | 公司简介     |
| ComplaintsHotline | String       | 投诉电话     |
| ServiceCall       | String       | 服务电话     |

**表**6.27**长途客运车基础数据**

| **字段名称** | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| PlateNumber  | String       | 车辆牌照     |
| Color        | String       | 车辆颜色     |
| Brand        | String       | 车辆品牌     |
| Type         | String       | 车辆类型     |
| Company      | String       | 挂靠单位     |

**表**6.28	**客运路线基础数据**

| **字段名称** | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| PlateNumber  | String       | 车辆牌照     |
| StartCity    | String       | 始发城市     |
| EndCity      | String       | 到达城市     |
| Schedule     | String       | 客运时刻表   |

**表**6.29**客运车辆班次数据**

| **字段名称**  | **字段类型** | **字段说明** |
| ------------- | ------------ | ------------ |
| Dispatch      | String       | 班次标识     |
| PalteNumber   | String       | 车辆牌号     |
| DepartureTime | String       | 发车时间     |
| StationName   | String       | 站点名称     |
| CheckPoint    | String       | 检票口名称   |
| Line          | String       | 线路名称     |

**表**6.30**客运站点基础数据**

| **字段名称** | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| StationName  | String       | 站点名称     |
| Location     | String       | 所属区域     |
| Type         | String       | 站点类型     |
| Line         | String       | 站点线路     |

## 出租车数据

为满足对相关出租车辆进行详情查询，需要建立出租车相关的基础数据，其中包括出租车公司基础数据，出租车基础数据。

**表**6.31**出租车公司基础数据**

| **字段名称**      | **字段类型** | **字段说明** |
| ----------------- | ------------ | ------------ |
| CompanyName       | String       | 公司名称     |
| CompanyAddr       | String       | 公司地址     |
| Introduction      | String       | 公司简介     |
| ComplaintsHotline | String       | 投诉电话     |
| ServiceCall       | String       | 服务电话     |

**表**6.32**出租车基础数据**

| **字段名称** | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| PlateNumber  | String       | 车辆牌照     |
| Color        | String       | 车辆颜色     |
| Brand        | String       | 车辆品牌     |
| Type         | String       | 车辆类型     |
| Company      | String       | 挂靠单位     |

## 危化品车数据

为满足对相关危化品车辆进行详情查询，需要建立危化品车相关的基础数据，其中包括危化品公司基础数据表，危化品车辆基础数据表。

**表**6.33**危化品公司基础数据**

| **字段名称** | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| CompanyName  | String       | 公司名称     |
| CompanyAddr  | String       | 公司地址     |
| Introduction | String       | 公司简介     |
| Telephone    | String       | 公司电话     |

**表**6.34**危化品车辆基础数据**

| **字段名称** | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| PlateNumber  | String       | 车辆牌照     |
| Color        | String       | 车辆颜色     |
| Brand        | String       | 车辆品牌     |
| Type         | String       | 车辆类型     |
| Company      | String       | 挂靠单位     |
| Type         | String       | 危化品种类   |

## 共享单车数据

共享单车是指企业在校园、地铁站点、公交站点、居民区、商业区、公共服务区等提供自行车单车共享服务，是一种分时租赁模式。对共享单车数据的分析有利于进一步补充完善交通数据。

**表**6.35**共享单车基础数据**

| **字段名称** | **字段类型** | **字段说明**     |
| ------------ | ------------ | ---------------- |
| CompanyName  | String       | 共享单车公司名称 |
| CompanyAddr  | String       | 公司地址         |
| Abstract     | String       | 公司简介         |
| Telephone    | String       | 公司客服电话     |
| WebSite      | String       | 公司网站         |

## 火车客运数据

**表**6.36**火车站基本信息**

| **字段名称**      | **字段类型** | **字段说明** |
| ----------------- | ------------ | ------------ |
| StationName       | String       | 车站名称     |
| Location          | String       | 车站地址     |
| Abstract          | String       | 车站简介     |
| ComplaintsHotline | String       | 投诉电话     |
| ServiceCall       | String       | 服务电话     |
| Longitude         | Double       | 地址经度     |
| Latitude          | Double       | 地址纬度     |

**表**6.37**余票信息**

| **字段名称**             | **字段类型** | **字段说明** |
| ------------------------ | ------------ | ------------ |
| InfrastructureType       | String       | 出发站名称   |
| Object                   | String       | 到站名称     |
| Duration                 | Int          | 历时         |
| BusinessClassNum         | Int          | 商务座数量   |
| BusinessClassPrice       | Int          | 商务座价格   |
| PrimerClassNum           | Int          | 特等座数量   |
| PrimerClassPrice         | Int          | 特等座价格   |
| FirstClassNum            | Int          | 一等座数量   |
| FirstClassPrice          | Int          | 一等座价格   |
| SecondClassNum           | Int          | 二等座数量   |
| SecondClassPrice         | Int          | 二等价格     |
| AdvSoftSleeperClassNum   | Int          | 高级软卧     |
| AdvSoftSleeperClassPrice | Int          | 高级价格     |
| SoftSleeperClassNum      | Int          | 软座         |
| SoftSleeperClassPrice    | Int          | 软座价格     |
| HardSleeperClassNum      | Int          | 硬座         |
| HardSleeperClassPrice    | Int          | 硬座价格     |

**表**6.38**火车时刻表信息**

| **字段名称**  | **字段类型** | **字段说明**   |
| ------------- | ------------ | -------------- |
| Schedule      | String       | 车次           |
| DepartureTime | String       | 发车时间       |
| ArrivalTime   | String       | 到站时间       |
| Duration      | Int          | 历时           |
| StartStation  | String       | 列车始发站     |
| EndStation    | String       | 列车终点站     |
| TrainLevel    | Int          | 列车等级       |
| AirCondition  | Bool         | 列车是否空调车 |

## 民航客运数据

**表**6.39**机场基本信息**

| **字段名称**      | **字段类型** | **字段说明** |
| ----------------- | ------------ | ------------ |
| StationName       | String       | 机场名称     |
| Location          | String       | 机场地址     |
| Abstract          | String       | 机场简介     |
| ComplaintsHotline | Int          | 投诉电话     |
| ServiceCall       | String       | 服务电话     |
| Longitude         | Double       | 地址经度     |
| Latitude          | Double       | 地址纬度     |

**表**6.40**机场大巴信息**

| **字段名称** | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| Line         | String       | 线路名称     |
| Stop         | String       | 经过站点     |
| StartingTime | String       | 首发时间     |
| LastTime     | String       | 末班时间     |
| Price        | Int          | 价格         |
| PickupSpot   | String       | 乘车地点     |

**表**6.41**航班信息**

| **字段名称** | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| FLTNo        | String       | 航班号       |
| Origin       | String       | 始发地       |
| Destination  | String       | 目的地       |
| Stop         | String       | 经停站       |
| ArriveTime   | String       | 计划到达时间 |
| Status       | String       | 航班动态     |
| Note         | String       | 备注         |
| Reason       | String       | 原因         |

## 交通资产数据

公路交通资产数据包括交通设施静态数据（如地理信息，外观尺寸，公路线性，材料等），动态数据（如交通设施的完好程度，养护记录等）。

**表**6.42**交通资产数据**

| **字段名称**       | **字段类型** | **字段说明**                       |
| ------------------ | ------------ | ---------------------------------- |
| InfrastructureType | String       | 设施的类别，如桥梁，路面，绿化带等 |
| Object             | String       | 具体对象                           |
| Attribute          | String       | 对象关联属性                       |

依据设施类型与对象的不同，其关联属性不同。另建表存储，此处不再赘述。

## 出行需求数据

由出行需求数据可以推到出OD数据，出行数据一般通过问卷调查得出。相关出行数据可以通过如下几个表格得到。最终由工作人员将相关数据整理后依次输入数据库，供大数据分析平台读取分析。

**表**6.43**个人信息**

| **姓名**         |      | **年龄**         |      | **职业** |      |      | **受教育程度** |      |
| ---------------- | ---- | ---------------- | ---- | -------- | ---- | ---- | -------------- | ---- |
| **常用出行方式** |      | **常见出行目的** |      |          |      |      |                |      |

表6.44基本信息

| **类别**     | **当天出行情况（出行次序）** | **上周日出行情况（出行次序）** |       |       |       |       |       |       |       |      |      |
| ------------ | ---------------------------- | ------------------------------ | ----- | ----- | ----- | ----- | ----- | ----- | ----- | ---- | ---- |
| **1**        | **2**                        | **3**                          | **4** | **5** | **1** | **2** | **3** | **4** | **5** |      |      |
| **出发地**   |                              |                                |       |       |       |       |       |       |       |      |      |
| **目的地**   |                              |                                |       |       |       |       |       |       |       |      |      |
| **出发时间** |                              |                                |       |       |       |       |       |       |       |      |      |
| **到达时间** |                              |                                |       |       |       |       |       |       |       |      |      |
| **出行目的** | **工作**                     |                                |       |       |       |       |       |       |       |      |      |
| **学习**     |                              |                                |       |       |       |       |       |       |       |      |      |
| **吃饭**     |                              |                                |       |       |       |       |       |       |       |      |      |
| **购物**     |                              |                                |       |       |       |       |       |       |       |      |      |
| **其他**     |                              |                                |       |       |       |       |       |       |       |      |      |
| **出行方式** | **公交**                     |                                |       |       |       |       |       |       |       |      |      |
| **出租**     |                              |                                |       |       |       |       |       |       |       |      |      |
| **小汽车**   |                              |                                |       |       |       |       |       |       |       |      |      |
| **自行车**   |                              |                                |       |       |       |       |       |       |       |      |      |
| **其他**     |                              |                                |       |       |       |       |       |       |       |      |      |

**表**6.45**家庭基本信息**

| **门牌号**           | **家庭人数**       | **6岁以上人数** | **家庭年收入** | **家中有何种交通工具** |
| -------------------- | ------------------ | --------------- | -------------- | ---------------------- |
|                      |                    |                 |                |                        |
| **家人常用出行方式** | **户主受教育程度** | **户主姓名**    | **家庭住址**   | **联系电话**           |
|                      |                    |                 |                |                        |

 **表**6.46**家庭成员出行调查**

| **家庭成员编号** | **性别** | **年龄** | **职业（代码）** | **上班或上学地址** | **常用出行方式（代码）** |
| ---------------- | -------- | -------- | ---------------- | ------------------ | ------------------------ |
| **1**            |          |          |                  |                    |                          |
| **2**            |          |          |                  |                    |                          |
| **3**            |          |          |                  |                    |                          |
| **4**            |          |          |                  |                    |                          |
| **5**            |          |          |                  |                    |                          |

填表说明：

a. 该表尽量由户主填写，家中6岁以上的人员务必统计清楚。

b. 应尽量填写真实情况。

c. 职业代码：1、学生2、工人3、医生4、教师5、公务员6、服务人员7、科研人员8、个体户9、退休人员10、无业人员11、其他。

d. 出行方式代码：1、公交车2、出租车3、私家车4、公交车5、自行车6、其他。

## 公路费用数据

为满足长途路线规划时相关费用的计算，需要存储各公路的收费标准。

**表**6.47**公路收费数据**

| **字段名称**     | **字段类型** | **字段说明**   |
| ---------------- | ------------ | -------------- |
| Name             | String       | 公路名称或简称 |
| Level            | String       | 公路等级       |
| ChargingStandard | String       | 收费标准       |
| VehicleType      | Int          | 通行车辆类型   |

## 气象数据

气象条件对交通出行的影响是不可或缺的，在对实时交通的数据做分析时需要考虑相关区域的气象条件。

**表**6.48**气象数据**

| **字段名称** | **字段类型** | **字段说明**         |
| ------------ | ------------ | -------------------- |
| WeatherType  | String       | 描述气象类型数据     |
| Time         | String       | 描述气象发布时间     |
| Scope        | String       | 描述气象影响范围     |
| Duration     | String       | 描述气象持续时间     |
| ReleaseUnit  | String       | 描述气象信息发布单位 |

## 监控设备数据

**表**6.49**监控设备数据**

| **字段名称** | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| MonitorID    | String       | 监控设备编号 |
| MonitorType  | String       | 监控设备类型 |
| Location     | String       | 监控设备位置 |
| Longitude    | Double       | 经度         |
| Latitude     | Double       | 纬度         |
| CheckTime    | String       | 维护时间     |

## 追逃车辆数据

**表**6.50**追逃车辆信息**

| **字段名**   | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| TrackID      | String       | 追逃编号     |
| PlateNumber  | String       | 追逃车辆ID   |
| PlateNumber  | String       | 车牌型号     |
| VehicleColor | String       | 车辆颜色     |
| VihicleType  | String       | 车辆类型     |
| Character    | String       | 追逃车辆特征 |

# 实时计算数据

前端感知设备获取的数据，或实时主动上报数据通过处理，计算后需要存储便于后期进一步整合，分析。目前包括城市交通运行数据，公交实时位置数据，公交（地铁）卡刷卡数据，长途客车实时数据，出租车实时数据，危化品车实时数据，共享单车数据，视频监控数据，路口通行量，套牌车辆识别。以及基于车辆识别的相关数据，如OD分析数据，追逃车辆数据，违章车辆识别数据等。

## 城市交通运行数据

城市交通交通运行数据是城市交通总体态势的综合反映的量化指标，可以从城市交通综合指数和交通出行指数两方面来描述。从这两方面指数, 可以作为对城市的交通状况的政策性评价指标，以及及时、正确地向居民提供当前的交通状况和态势, 供居民出行参考。

1）城市交通综合指数

城市交通综合指数主要描述给定时间内的城市综合交通状况的优良度, 其直接影响因素是交通流量、平均车速、交通密度和交通延误; 间接影响因素有交通事故、交通秩序好坏、气象因素、政策因素、环境因素、城市车辆保有量、各类车辆出行比例和数量。城市交通综合指数从地域范围可以有全市范围的指数, 也可以有特定区域内的指数; 从时间范围可以是日指数, 也可以是周指数、月度指数、年度指数。城市交通综合指数是总结评价性指数。国际上一些城市采用道路交通指数来综合评价交通运行质量,道路交通指数是根据机动车运行速度与道路饱和度等指标综合计算而成的,指数越大表明交通运行质量越好、道路资源利用率越高、交通安全性越好,理论上指数达到 1000 点, 交通综合服务状况最好,不同范围的指数的评价标准如下表。

**表**6.51**交通状况不同的指数范围的评价标准**

| **指数范围** | **级别** | **交通状况描述**                                             |
| ------------ | -------- | ------------------------------------------------------------ |
| 800 以上     | 优       | 车流稳定、车速正常、交通负荷度水平合理                       |
| 800~700      | 良好     | 车流较稳定、车速较正常、交通负荷度较合理                     |
| 700~600      | 一般     | 车流出现不稳定状态、车速开始不正常、交通负荷度偏高或偏低     |
| 600~450      | 较差     | 车流时常出现不稳定状态、车速偏离正常情况较大、交通负荷太大或太小 |
| 450以下      | 差       | 车流极不稳定、车速偏离正常情况极大、交通不是阻塞就是车辆极少状态 |

**表**6.52**区域交通指数**

| **字段名称** | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| Area         | String       | 城市区域     |
| Period       | Int          | 时间段索引   |
| Exponent     | Int          | 指数         |

2）交通出行指数

交通出行指数是综合考虑气象因素、环境因素和城市交通状况得出的指标, 其意义在于通过一个量化指标对城市居民或旅行者出行提供出行指导参考。交通出行指数一般以日指数为宜, 且是预报性指数。其存储表结构如下：

**表**6.53**交通出行指数**

| **字段名称**   | **字段类型** | **字段说明**     |
| -------------- | ------------ | ---------------- |
| Road           | String       | 道路名称         |
| Section        | String       | 路段             |
| Direction      | String       | 方向             |
| Date           | string       | 日期             |
| Period         | Int          | 时段（时段索引） |
| VelocityAvg    | Int          | 平均时速 Km/h    |
| TrafficVolume  | Int          | 交通流量         |
| TrafficDensity | Double       | 交通密度         |
| TrafficDelay   | Int          | 交通延误         |

## 公交车实时位置数据

用于记录公交车实时位置数据

**表**6.54**公交车实时位置数据**

| **字段名称** | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| BusLine      | String       | 线路         |
| PlateNumber  | String       | 车牌         |
| Longitude    | Double       | 经度         |
| Latitude     | Double       | 纬度         |
| TimeStamp    | String       | UNIX时间戳   |

## 公交（地铁）卡刷卡数据

居民出行OD调查需要消耗巨大的资金和人力，并且常常由于调查的组织不力或者调查人员的不负责而导致调查数据不可信。公交IC卡数据可以准确显示每位持卡人的出行信息，通对数据进行分析可以获得出行OD信息。根据公交（地铁）IC数据的特征，针对不同类型的数据，提出相应的数据预处理方法，利用相应技术推算公交出行的OD矩阵。

**表**6.55**公交（地铁）IC卡刷卡记录**

| **字段名称**      | **字段类型** | **字段说明**         |
| ----------------- | ------------ | -------------------- |
| ICID              | String       | 公交（地铁）卡号     |
| PublicTrafficType | Int          | 公共交通类型         |
| LineNum           | String       | 线路                 |
| PickUp            | String       | 上车站点             |
| PickUpTime        | String       | 上车时间             |
| DropOff           | String       | 下车站点（如果存在） |
| DropOffTime       | String       | 下车时间             |
| Price             | Int          | 票价                 |

## 长途客车实时数据

用于记录长途客车实时数据

**表**6.56**长途客车实时位置数据**

| **字段名称** | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| PlateNumber  | String       | 车牌         |
| Longitude    | Double       | 经度         |
| Latitude     | Double       | 纬度         |
| TimeStamp    | String       | UNIX时间戳   |

## 出租车实时数据

用于记录出租车实时数据

**表**6.57**出租车实时位置数据**

| **字段名称** | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| PlateNumber  | String       | 车牌         |
| Longitude    | Double       | 经度         |
| Latitude     | Double       | 纬度         |
| Load         | Bool         | 是否空载     |
| TimeStamp    | String       | UNIX时间戳   |

## 危化品车实时数据

用于记录危化品实时数据

**表**6.58**危化品车实时位置数据**

| **字段名称** | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| PlateNumber  | String       | 车牌         |
| Longitude    | Double       | 经度         |
| Latitude     | Double       | 纬度         |
| Load         | Bool         | 是否空载     |
| TimeStamp    | String       | UNIX时间戳   |

## 共享单车实时数据

用于记录共享单车实时数据

**表**6.59**共享单车实时数据**

| **字段名称** | **字段类型** | **字段说明**               |
| ------------ | ------------ | -------------------------- |
| BikeType     | String       | 共享单车类型：OFO，Mobike… |
| ID           | String       | 共享单车编号               |
| Longitude    | Double       | 经度                       |
| Latitude     | Double       | 纬度                       |
| Active       | Bool         | 是否激活                   |
| Lock         | Bool         | 是否锁定                   |
| TimeStamp    | String       | UNIX时间戳                 |

## 路口通行量

**表**6.60**路口通行量**

| **字段名称** | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| NodeID       | String       | 路口编号     |
| Capacity     | Int          | 路口通行量   |
| Period       | Int          | 时间段索引   |

## 套牌嫌疑车数据

用于记录套牌嫌疑车数据

**表**6.61**套牌嫌疑车数据**

| **字段名称** | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| MonitorId    | String       | 监控设备编号 |
| PlateNumber  | String       | 车牌         |
| Longitude    | Double       | 经度         |
| Latitude     | Double       | 纬度         |
| TimeStamp    | String       | UNIX时间戳   |

## 基于车辆识别的OD分析数据

用于记录在大数据分后的车辆的OD数据

**表**6.62**车辆OD数据**

| **字段名称** | **字段类型** | **字段说明**     |
| ------------ | ------------ | ---------------- |
| PlateNumber  | String       | 车牌号           |
| Origin       | Int          | 起始交通小区编号 |
| OrgTimeStamp | String       | 起始时间戳       |
| Destination  | Int          | 到达交通小区编号 |
| DesTimeStamp | String       | 到达时间戳       |

## 基于车辆识别的车辆数据

### 车辆实时位置数据	

**表**6.63**车辆实施位置数据**

| **字段名**   | **字段类型** | **字段说明** |
| ------------ | ------------ | ------------ |
| DeviceId     | String       | 监控点ID     |
| PlateNumber  | String       | 车牌号       |
| VehicleColor | String       | 车辆颜色     |
| VihicleType  | String       | 车辆类型     |
| RecordTime   | String       | 记录时间     |

### 追逃车辆识别数据		

**表**6.64**识别追逃车辆**

| **字段名** | **字段类型** | **字段说明** |
| ---------- | ------------ | ------------ |
| TrackID    | String       | 追逃编号     |
| MonitorID  | String       | 设备监控ID   |
| Location   | String       | 设备监控位置 |
| Longitude  | Double       | 经度         |
| Latitude   | Double       | 纬度         |
| TimeStamp  | String       | 识别时间戳   |

### 违章车辆识别数据

**表**6.65**违章车辆数据**

| **字段名**  | **字段类型** | **字段说明** |
| ----------- | ------------ | ------------ |
| PlateNumber | String       | 车牌号       |
| MonitorID   | String       | 设备监控ID   |
| Location    | String       | 设备监控位置 |
| Type        | String       | 违章类型     |
| TimeStamp   | String       | 违章时间     |
| PictureID   | String       | 违章拍照编号 |

