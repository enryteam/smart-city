# 智慧交通产品解决方案-交通地理信息平台

将城市公安交通管理的业务应用划分为五大核心平台，即智能交通管控平台、交通信息服务平台、交通运维管理平台、交通地理信息平台和交通信息资源平台，如下表所示：

![image-20210720103835369](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210720103835369.png)

![](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210720103835369.png)

## 1）智能交通管控平台

作为公安交通指挥中心核心应用平台，以总队、支队、大队、路面岗勤为主用户群，以城市交通状况监测、交通日常管控、突发事件处置为核心业务，通过交通信息资源云中心对接交互，为指挥中心、科室、路面等各角色提供各类应用的业务平台。

## 2）交通地理信息平台

针对交管平台专门打造的地理信息应用系统，以公安网为基础，以警用电子地图为核心，以地理信息技术为支撑，对空间地理数据进行可视化展现及空间数据分析，为核心业务平台提供基础支撑。

## 3）交通信息服务平台

为公安交管用户提供面向公众的交通信息服务， 实现交通信息采、编、审、发，通过诱导屏、微信、微博等方式对外发布。

## 4）交通运维管理平台

作为交通技术服务部门提供运维管理工具，通过设备管理、设施管理、警力资源管理、应用运行监测和系统管理等手段有效管理交通设备、应用系统和警力资源，提高智能交通系统的整体运行效率。

## 5）交通信息资源平台

交通信息资源平台为应用系统提供统一的数据采集和传输服务，支撑跨单位间按需信息交换与共享。实现多种类型的数据采集，可靠、快速、安全地数据传输，多种类型的数据交换等一系列的功能和非功能性需求，从而实现互连互通、数据共享。

# 交通地理信息平台

## 平台概述

交通地理信息平台是集海量、 多源异构空间地理信息资源的整合、 管理、发布、 WEB服务、应用搭建和运维保障为一体的完整解决方案，是可以服务于政府部门、企事业单位和社会公众的综合性地理信息系统。

## 平台特点

交通地理信息平台是针对交管平台专门打造的地理信息平台， 以公安网为基础，以警用电子地图为核心，以地理信息技术为支撑，对空间地理数据进行可视化展现及空间数据分析，为核心业务平台提供基础支撑。

### 1．集成不同栅格地图服务，对外提供统一接口

聚合 PGIS服务、聚合天地图服务、 聚合 ArcGIS Rest服务、聚合高德地图服务、聚合百度地图服务等地图服务的能力， 同时容易扩展聚合其他地图服务。

### 2．兼容容不同空间数据库引擎，对外提供统一接口

支持 ArcSDE 空间数据库引擎、支持 SuperMap SDX+空间数据库引擎、支持 OracleSpatial空间数据库引擎、支持 PostGIS空间数据库引擎、支持 Spatialite空间数据库引擎、支持 BeyonDB 空间数据库引擎，同时容易扩展兼容其他矢量数据引擎。

### 3．对外提供多元的二次开发接口

平台提供 JavaScript 、.Net 、Flex 、Android 的二次开发接口。

### 4．对外提供丰富的业务图层样式

平台提供丰富的点、线、面业务图层样式。点图层样式包括选中、高亮、正常图标；线图层样式包括选中、高亮、正常的线颜色、线宽；面图层样式包括选中、高亮、正常的线颜色、线宽、面的填充颜色及样式。

### 5．对外提供专业的交通专题图

提供交通数据与空间数据接口的饼状图、柱状图、色阶图、点密度图、聚合图等交通专题图。

### 6．对外提供多套配图方案

交通地理信息平台默认提供类似百度地图的配图方案、类似天地图的配图方案、类似 PGIS的配图方案、类似谷歌地铁的配图方案 , 同时，可以根据用户的需求进行配色方案调整。

## 平台结构

### 逻辑结构

平台设计过程中，采用 SOA 的理念与方法，各系统之间即是一个有机的整体，同时又相互独立，具备足够的弹性和可扩展性，为今后建设应用系统保留接口，保证平台规模的持续扩展和服务水平的不断提高。 

SOA 是一种架构类型，它将流程逻辑与业务逻辑相分离。业务逻辑作为服务提供，流程逻辑通过将这些服务连接在一起来构成， 可以基于各种服务接口实现服务端聚合和客户端聚合，从而在一个开放的、灵活的、可扩展的架构上增强系统的服务能力。

![image-20210720104140245](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210720104140245.png)

#### 数据层

数据层主要内容为矢量数据、瓦片数据、系统数据。矢量数据分电子地图数据、地址数据、影像数据、高程数据、元数据等；瓦片数据分本地瓦片数据、PGIS 提供的瓦片数据、天地图提供的瓦片数据、 ArcGIS Server提供的瓦片数据、MyGIS Server 提供的瓦片数据、 OGC WMTS 服务提供的瓦片数据；系统数据是保证地理信息公共服务系统的业务系统正常运行的基础， 包括图层的元数据管理、数据采集任务管理、专题图配置信息管理、用户权限管理。

## 平台组成

### 栅格地图服务

栅格地图服务是一种地图底图服务，用于向客户端传送静态的，或者不经常变化的地图栅格数据， 这些数据是经过图片生成工具， 从矢量图像、遥感影像等图像经加工而成的，以不同分辨率存储的海量栅格地图，一般数据量比较大，图片服务以及其融合服务就是为快速定位和显示这些图片而产生的服务。

栅格地图服务也是新一代的网络地图发布、开发平台，提供了地图应用的新模式。利用该平台大大提高了系统开发成功率和缩短了系统的开发周期。

![image-20210720104252424](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210720104252424.png)

### 矢量数据服务

矢量数据服务支持 ArcSDE、PostGIS、PGIS、OracleSpatial 、SDX+、OGC WFS、Spatialite 、Beyon DB等八类空间矢量数据访问引擎。

![image-20210720104311000](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210720104311000.png)

### 路况发布服务

路况发布服务将路网图层与路网的通行数据相关联， 生成红黄绿的路况图片，并返回给业务应用。

### 图层样式服务

图层样式服务用于提供各图层的样式信息，可以为客户端提供静态的 KML数据，这些数据（包括点、线、面等样式信息） ，都允许用户分别对单个图层进行自定义配置（例如配置视频设备正常、故障状态、选中状态的图标） 。 

### 专题图服务

专题图服务是在地图上以特定符号的样式生成各种统计图， 给使用人员以比较直观的数据展示，通过专题配置功能来保存各种专题的常规配置，如饼状图的扇区颜色、扇区指标字段等，避免二次开发时复杂的传参，提供简单的接口以便于系统集成以及具体实现。

![image-20210720104410810](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210720104410810.png)

### 最优路径服务

最短路径服务为快速出警及群众出行提供科学的行驶路线。

### 地址匹配服务

提供正向地址匹配服务、逆向地址匹配服务及全文检索服务。

### 空间数据建库工具

空间数据建库工具是地图服务的重要辅助工具， 用于管理服务所使用的数据库中的数据，负责提供对矢量数据的入库、更新、管理和建立全文检索库等操作，是建设基础空间数据库公共地理信息服务平台的基础和前提条件。

支持 ArcSDE、PostGIS、OracleSpatial 、SDX+、Spatialite 、Beyon DB数据库的入库、出库、更新等管理。

### 配图切图工具

按照百度配图方案、 天地图配图方案、Google 配图方案、PGIS配图方案、专用配图方案进行图层的渲染，用户可以根据项目情况进行配图方案的选择。

### 道路管理工具

道路管理工具主要对基础数据的道路、路段、路口进行管理。

城市道路的改变会导致基于道路而来的业务系统发生调整， 为了解决城市道路改变，带来业务系统调整，特开发一个道路管理工具，它借助 GIS，以可视化的方式，展现加工前的道路、路段、路口信息，在地图直观的修改道路名称等级、路段名称、路口名称和类型， 但可以根据实际情况， 通过鼠标的单击、拉框，选择存在的路段，实现路段“拼接”为连线。

![image-20210720104531393](https://gitee.com/AiShiYuShiJiePingXing/img/raw/master/img/image-20210720104531393.png)

### 空间数据采集工具

根据采集任务需要，建立地理信息采集任务，并查看任务中包含的所需采集图层。针对特定的图层，可以按照一定的权限设定，实现对于某一具体图元的增加、删除、修改的操作。

通过手机端、Web端完成任意空间数据的采集， 包括属性信息、 照片信息、视频信息、录音信息、文件信息。例如空间数据采集服务端发布卡口、视频、诱导、信号机等设备的采集任务并通过运维管理系统赋予采集人员权限， 在 Web端或手机端就可以采集设备信息。

# 地图数据设计

地图数据采用矢量电子地图，能够直观的反映交通状况，包含大量的道路属性信息、交通设施信息、交通设备信息、城市地理信息等。

## 坐标系

支持以下四种坐标系：

1）CGCS2000 坐标系： CGCS2000 是（中国） 2000 国家大地坐标系的缩写，该坐标系是通过中国 GPS 连续运行基准站、 空间大地控制网以及天文大地网与空间地网联合平差建立的地心大地坐标系统。

2）WGS84 坐标系：一种国际上采用的地心坐标系。 坐标原点为地球质心，其地心空间直角坐标系的 Z 轴指向 BIH （国际时间服务机构） 1984.O定义的协议地球极（CTP)方向，X 轴指向 BIH 1984.0 的零子午面和 CTP 赤道的交点，Y 轴与 Z 轴、X 轴垂直构成右手坐标系，称为 1984 年世界大地坐标系统。

3）80 国家坐标系：采用国际地理联合会（ IGU）第十六届大会推荐的椭球参数，大地坐标原点在陕西省泾和县永乐镇的大地坐标系， 又称西安坐标系。

4）54 国家坐标系：采用克拉索夫斯基椭球参数，又称北京坐标系。

## 地图比例

1) 路口地图的比例（对应于经过渠化的单个路口）为： 1:500。

2) 路网路段地图的比例（对应于重要道路的路网）为： 1:2000 或以上。

3) 全貌地图的比例在 1:10000以上。

4）遥感影像分辨率在 1 米~0.2 米。

## 地图内容

主要有以下一些内容：

1) 市区的主要单位、河流、道路、桥梁、路名等的物理位置分布信息及重点单位的属性信息等。

2) 整个市区的地理信息，包括镇区、城区的地理位置分布、主要单位等属性信息。

3) 主次干道、各治安卡口、大队中队分布及其他属性信息。

4) 交通管理相关设备的分布， 如：电视监视、交通信号控制、 违法监测、交通流采集、诱导标志等设备的安装位置及相关属性。

5) 城区交通路网的骨干道路并实时显示路网中各重要路口的信息。

6) 路口的交通渠化图。

## 图层要求

对图形及其相应属性进行分层管理， 对每一图层根据道路交通管理的特定需要，用不同的符号、线形、填充图案分层显示，从而用户可以快速、准确、清晰地操作其所关心的交通信息：

1）水系图——显示湖泊和河流。

2）山、绿地或公园——显示城市中绿色的地块。

3）建筑图——显示城市的建筑。

4）道路图——包括高速公路、一级公路、二级公路、三级公路、四级公路等外公路、主干道、次干道、支路、内部道路、商业街、环路等，每种道路分布一层。

5）道路属性信息包括道路等级、道路长度、宽度、线形，路面性质，道路编码，路段隔离设施，车道划分，设计车速、容量等；路口的种类如下：丁字路口、十字路口、五叉路口、其它路口等。

6）单位图——包括金融、邮政、影院、公园、学校、饭店、商厦、医院、运输、商贸、科研、工厂、机关、政府、市场等。

7）桥——显示城市的桥梁。

8）交通标志图——包括各种禁令标志，如限速或禁止车辆、行人或某种车辆通行，单向或定向行驶，禁止停车或调头，禁止鸣笛或提示鸣笛，速度、高度及载重限制，指示专用路或专用车道等。

9) 交通设施分布图——包括电视监视系统监视点、 交通信号控制系统控制点、违法行为监测记录系统监测点、交通流采集系统采集点、诱导标志点、智能治安卡口系统监测点、交通标志点、交通标线等，不同系统分层显示。

10) 交通管理相关组织机构信息图——包括政府部门、公安部门、交巡警部门、消防部门、值勤岗分布信息等。

11）事故信息图——显示事故发生地点的分布情况。

12）交通堵控点分布图——市县各个交通堵控点的分布情况。

13）辖区公路收费站——辖区各个公路收费站的分布情况。

14）报警服务点——辖区内各个 

110报警服务点的分布信息。

15) 停车场——辖区内主要停车场分布信息，包括公交车站、长途运输公司等。

系统提供友好的人机交互图形界面，采用 Client/Server 结构和以太网协议实现管理告警功能。主要提供用户管理、设备管理、网元管理、视图管理、状态管理、检查 /校准计划管理、报告管理、统计管理、告警管理等功能。

# 平台接口

## 地图显示接口

由本系统对外提供地图显示接口，以开发 SDK 形式向业务系统提供访问接口，需提供 C/S 开发组件和 B/S 脚本集成两种接口形式。

## 地图要素查询接口

由本系统对外提供地图要素查询接口，实现不同的查询接口：以地图要素查询属性数据、以要素查询地图要素，向业务系统提供以 HTTP 接口形式访问接口。

## 地图数据更新接口

由本系统对外提供地图要素数据访问更新接口，实现地图形状、属性数据等内容数据更新，向业务系统提供以 HTTP 接口形式访问接口。

## 专题图访问接口

由本系统对外提供专题图叠加接口， 实现不同业务专题数据叠加到地图上的功能，向业务系统提供以 HTTP 接口形式访问接口。